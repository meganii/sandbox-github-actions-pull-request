{"version":3,"file":"bento-iframe-1.0.js","mappings":"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","names":["o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","key","value","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","Array","isArray","_Object$prototype","hasOwnProperty","toString","propertyNameCache","vendorPrefixes","element","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","hyphenated","styleValue","setProperty","replace","match","toLowerCase","some","prefix","node","ownerDocument","defaultView","win","parent","ioCallback","opts","needsRootBounds","rootMargin","threshold","root","isIframed","document","IntersectionObserver","viewportObservers","WeakMap","viewportCallbacks","entries","seen","Set","entry","has","add","callbacks","get","k","callback","__AMP_LOG","user","dev","userForEmbed","DEFAULT_THRESHOLD","time","rootBounds","boundingClientRect","intersectionRect","intersectionRatio","Date","now","NOOP","BaseElement","subClass","superClass","_inherits","Derived","hasNativeReflectConstruct","_super","BaseElement2","Reflect","construct","sham","Proxy","Boolean","valueOf","e","isNativeReflectConstruct","result","Super","NewTarget","this","possibleConstructorReturn","PreactBaseElement","allowFullScreen","_ref","allowPaymentRequest","iframeStyle","_ref$onLoad","onLoad","referrerPolicy","requestResize","sandbox","src","srcdoc","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","iframeRef","useRef","dataRef","isIntersectingRef","containerRef","observerRef","targetOriginRef","viewabilityCb","iframe","current","targetOrigin","type","opt_is3P","targets","contentWindow","getAttribute","getSentinel_","payload","JSON","stringify","postMessage","origin","postMessageToWindows","changes","map","cloneEntryForCrossOrigin","handleSendIntersectionsPostMessage","useCallback","event","data","getWin","observe","useEffect","addEventListener","observer","_observer","unobserve","removeEventListener","attemptResize","height","Number","_dataRef$current","width","_dataRef$current2","offsetHeight","offsetWidth","container","setStyle","updateContainerSize","console","error","handleEmbedSizePostMessage","ioOptions","unobserveRef","refs","isIntersecting","_ref2","measureRef","cleanup","viewportObserverNoCache","createViewportObserver","viewportObserver","set","array","item","index","splice","delete","unobserveIntersections","observeIntersections","contentProps","useMemo","frameBorder","ContainWrapper","_objectSpread2","contentAs","contentRef","ref","contentStyle","size","layout","paint","attr","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/array.js","src/core/types/object/index.js","src/core/3p-frame-messaging.js","src/core/dom/style.js","src/core/window/index.js","src/core/dom/index.js","src/core/dom/layout/viewport-observer.js","src/utils/log.js","src/url.js","src/utils/intersection-observer-3p-host.js","extensions/amp-iframe/1.0/component.js","extensions/amp-iframe/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","src/iframe-helper.js","src/preact/component/intersection-observer.js","src/preact/utils.js","extensions/amp-iframe/1.0/build/bento-iframe.js"]}

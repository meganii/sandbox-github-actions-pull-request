;
import{PreactBaseElement as t}from"../bento.mjs";function i(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function e(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);i&&(s=s.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,s)}return e}function s(t){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{};s%2?e(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e(Object(n)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))}))}return t}function n(t,i){if(null==t)return{};var e,s,n={},r=Object.keys(t);for(s=0;s<r.length;s++)e=r[s],i.indexOf(e)>=0||(n[e]=t[e]);return n}var{isArray:r}=Array;function o(t,i){const e=[];let s=0;for(let n=0;n<t.length;n++){const r=t[n];i(r,n,t)?e.push(r):(s<n&&(t[s]=r),s++)}return s<t.length&&(t.length=s),e}function l(t,i){for(let e=0;e<t.length;e++)if(i(t[e],e,t))return e;return-1}function a(t){return"string"==typeof t}var{hasOwnProperty:h,toString:u}=Object.prototype;function c(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function f(t){return 1==(null==t?void 0:t.nodeType)}function m(t){return f(t)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t}function d(t){return t.indexOf("​​​")>=0}function p(t,i,e="Assertion failed",s){var n,r;if(i)return i;t&&-1==e.indexOf(t)&&(e+=t);let l=3;const a=e.split("%s");let h=a.shift();const u=[h];for(;a.length;){const t=arguments[l++],i=a.shift();h+=m(t)+i,u.push(t,i.trim())}const c=new Error(h);throw c.messageArray=o(u,(t=>""!==t)),null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,c),c}function g(t,i,e,s,n){return r(n)?t(e,n.concat([i])):t(e,`${n||s}: %s`,i),i}function v(t,i,e,s,n,r,o,l,a,h,u){return t}function b(t){return(t.ownerDocument||t).defaultView}function w(t,i,e={}){const{needsRootBounds:s,rootMargin:n,threshold:r}=e,o=function(t){return t.parent&&t.parent!=t}(i)&&(s||n)?i.document:void 0;return new i.IntersectionObserver(t,{threshold:r,root:o,rootMargin:n})}var A,_=new WeakMap,P=new WeakMap;function M(t){const i=new Set;for(let e=t.length-1;e>=0;e--){const s=t[e],{target:n}=s;if(i.has(n))continue;i.add(n);const r=P.get(n);if(r)for(let t=0;t<r.length;t++)(0,r[t])(s)}}function E(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:e,stack:s}=t,n=new Error(e);for(const i in t)n[i]=t[i];return n.stack=s,n}function x(t){let i=null,e="";for(const t of arguments)t instanceof Error&&!i?i=E(t):(e&&(e+=" "),e+=t);return i?e&&(i.message=e+": "+i.message):i=new Error(e),i}function y(t){const i=x.apply(null,arguments);return i.expected=!0,i}var T=["Webkit","webkit","Moz","moz","ms","O","o"];function R(t,i,e,s,n){const r=function(t,i,e){if(i.startsWith("--"))return i;A||(A=c());let s=A[i];if(!s||e){if(s=i,void 0===t[i]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),n=function(t,i){for(let e=0;e<T.length;e++){const s=T[e]+i;if(void 0!==t[s])return s}return""}(t,e);void 0!==t[n]&&(s=n)}e||(A[i]=s)}return s}(t.style,i,n);if(!r)return;const o=s?e+s:e;t.style.setProperty(function(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return T.some((t=>i.startsWith(t+"-")))?`-${i}`:i}(r),o)}function I(t,i,e){return v(i<=e),Math.min(Math.max(t,i),e)}import{createElement as j}from"../bento.mjs";import{useCallback as k,useEffect as O,useImperativeHandle as V,useRef as S,useState as z}from"../bento.mjs";import{forwardRef as D}from"../bento.mjs";import{ContainWrapper as L}from"../bento.mjs";var $=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function C(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}function H(t){const{location:i}=t||self;return function(t){const i=c();if(!t)return i;let e;for(;e=$.exec(t);){const t=C(e[1],e[1]),s=e[2]?C(e[2].replace(/\+/g," "),e[2]):"";i[t]=s}return i}(i.originalHash||i.hash)}var N=t=>self.AMP_CONFIG?self.AMP_CONFIG[t]:null,U=("string"==typeof N("cdnProxyRegex")?new RegExp(N("cdnProxyRegex")):N("cdnProxyRegex"))||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function X(t){if(!self.document||!self.document.head)return null;if(self.location&&U.test(self.location.origin))return null;const i=self.document.head.querySelector(`meta[name="${t}"]`);return i&&i.getAttribute("content")||null}var B=N("cdnUrl")||X("runtime-host")||"https://cdn.ampproject.org",F=N("errorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",Y=N("betaErrorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",W="";function G(t){var i;return W||(W=(null===(i=t.AMP_CONFIG)||void 0===i?void 0:i.v)||"012301041800000"),W}function J(t,i){const e=i||H(t);return["1","actions","amp","amp4ads","amp4email"].includes(e.development)||!!t.AMP_DEV_MODE}var Z=()=>{},q=(t,i)=>i.reduce(((t,i)=>`${t}&s[]=${K(i)}`),`https://log.amp.dev/?v=012301041800000&id=${encodeURIComponent(t)}`),K=t=>encodeURIComponent(String(m(t))),Q=t=>parseInt(H(t).log,10);self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var tt,it=self.__AMP_LOG,et=null;function st(t,i){if(!et)throw new Error("failed to call initLogConstructor");return new et(self,t,i)}function nt(t){return it.user||(it.user=rt("​​​")),function(t,i){return i&&i.ownerDocument.defaultView!=t}(it.user.win,t)?it.userForEmbed||(it.userForEmbed=rt("​​​​")):it.user}function rt(t){return st(((t,i)=>i||t>=1?4:2),t)}function ot(t,i,e,s,n,r,o,l,a,h,u){return t}function lt(t,i){return ut(t=at(t),i)}function at(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}function ht(t){return t.nodeType?(i=b(t),lt(i,"ampdoc")).getAmpDoc(t):t;var i}function ut(t,i){ot(function(t,i){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!e||!e.ctor)}(t,i));const e=ct(t)[i];return e.obj||(ot(e.ctor),ot(e.context),e.obj=new e.ctor(e.context),ot(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function ct(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}var ft,mt;function dt(t,i,e,s){return function(t,i,e,s){let n=t,r=e,o=t=>{try{return r(t)}catch(t){var i,e;throw null===(i=(e=self).__AMP_REPORT_ERROR)||void 0===i||i.call(e,t),t}};const l=function(){if(void 0!==ft)return ft;ft=!1;try{const t={get capture(){return ft=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return ft}(),a=!(null==s||!s.capture);return n.addEventListener(i,o,l?s:a),()=>{null==n||n.removeEventListener(i,o,l?s:a),r=null,n=null,o=null}}(t,i,e,s)}var pt,gt=!1;new Set(["c","v","a","ad"]);var vt=self.__AMP_ERRORS||[];self.__AMP_ERRORS=vt;var bt=function(t){return(bt=function(t){const i=function(t){let i=0;return()=>{let t=Math.pow(1.5,i++);return t+=function(t,i){let e=t*(i=i||.3)*Math.random();return Math.random()>.5&&(e*=-1),e}(t),1e3*t}}();return t=>setTimeout(t,i())}())(t)};function wt(t,i){try{let e;if(t)if(void 0!==t.message)t=E(t),e=!0;else{const i=t;(t=new Error(function(t){try{return JSON.stringify(t)}catch(i){return String(t)}}(i))).origError=i}else t=new Error("Unknown error");if(t.reported)return t;if(t.reported=!0,t.messageArray){const i=l(t.messageArray,(t=>null==t?void 0:t.tagName));i>-1&&(t.associatedElement=t.messageArray[i])}const s=i||t.associatedElement;if(s&&s.classList&&s.classList.add("i-amphtml-error"),self.console&&(d(t.message)||!t.expected)){const i=console.error||console.log;t.messageArray?i.apply(console,t.messageArray):s?i.call(console,t.message,s):i.call(console,t.message)}s&&s.dispatchCustomEventForTesting&&s.dispatchCustomEventForTesting("amp:error",t.message),At.call(self,void 0,void 0,void 0,void 0,t)}catch(t){setTimeout((function(){throw t}))}return t}function At(t,i,e,s,n){var r;!this||!this.document||n&&n.expected||(ot((r=this.document).defaultView),gt||(gt=!0,function(t){!function(t,i){for(const e in i)R(t,e,i[e])}(t.body,{opacity:1,visibility:"visible","animation":"none"})}(r)));let o=!1;try{o=function(t){if(!t.document)return!1;const i=t.document.querySelectorAll("script[src]");for(let t=0;t<i.length;t++)if(e=i[t].src.toLowerCase(),!U.test((t=>"string"==typeof t?function(t,i){return pt||(pt=self.document.createElement("a")),function(t,i,e){return t.href="",new URL(i,t.href)}(pt,t)}(t):t)(e).origin))return!0;var e;return!1}(self)}catch(t){}if(o&&Math.random()>.01)return;const l=function(t,i,e,s,n,r){t=function(t,i){return i&&(t=i.message?i.message:String(i)),t||(t="Unknown error"),t}(t,n);let o=!(!n||!n.expected);if(/_reported_/.test(t))return;if("CANCELLED"==t)return;const l=!(self&&self.window),a=Math.random();if((function(t){return-1!=t.indexOf("Failed to load:")}(t)||"Script error."==t||l)&&(o=!0,a>.001))return;const h=d(t);if(h&&a>.1)return;const u=Object.create(null);u.v=function(t){const i=t||self;return i.__AMP_MODE?i.__AMP_MODE:i.__AMP_MODE=function(t){return{localDev:!1,development:J(t,H(t)),esm:!0,test:!1,rtvVersion:G(t),ssrReady:!1}}(i)}().rtvVersion,u.noAmp=r?"1":"0",u.m=t.replace("​​​",""),u.a=h?"1":"0",u.ex=o?"1":"0",u.dw=l?"1":"0";let c="1p";var f,m;if(c="esm",u.esm="1",u.rt="esm",u.ca=null!==(m=self.AMP_CONFIG)&&void 0!==m&&m.canary?"1":"0",u.bt=(null===(f=self.AMP_CONFIG)||void 0===f?void 0:f.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(u.or=self.location.ancestorOrigins[0]),self.viewerState&&(u.vs=self.viewerState),self.parent&&self.parent!=self&&(u.iem="1"),self.AMP&&self.AMP.viewer){const t=self.AMP.viewer.getResolvedViewerUrl(),i=self.AMP.viewer.maybeGetMessagingOrigin();t&&(u.rvu=t),i&&(u.mso=i)}const p=[],g=self.__AMP__EXPERIMENT_TOGGLES||null;var v,b,w;for(const t in g){const i=g[t];p.push(`${t}=${i?"1":"0"}`)}return u.exps=p.join(","),n?(u.el=(null===(v=n.associatedElement)||void 0===v?void 0:v.tagName)||"u",n.args&&(u.args=JSON.stringify(n.args)),h||n.ignoreStack||!n.stack||(u.s=n.stack),n.message&&(n.message+=" _reported_")):(u.f=i||"",u.l=e||"",u.c=s||""),u.r=self.document?self.document.referrer:"",u.ae=vt.join(","),u.fr=self.location.originalHash||self.location.hash,"production"===u.bt&&(u.pt="1"),w=t,(b=vt).length>=25&&b.splice(0,b.length-25+1),b.push(w),u}(t,i,e,s,n,o);l&&bt((()=>{try{return function(t,i){return i.pt&&Math.random()<.9?tt||(tt=Promise.resolve(void 0)):function(t,i){const e=(t=>lt(t,"ampdoc"))(t);if(!e.isSingleDoc())return Promise.resolve(!1);const s=e.getSingleDoc();if(!s.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);const n=(r="viewer",ut(function(t){const i=ht(t);return i.isSingleDoc()?i.win:i}(ht(s)),r));var r;return n.hasCapability("errorReporter")?n.isTrustedViewer().then((t=>{return!!t&&(n.sendMessage("error",{"m":(e=i).m,"a":e.a,"s":e.s,"el":e.el,"ex":e.ex,"v":e.v,"pt":e.pt}),!0);var e})):Promise.resolve(!1)}(t,i).then((t=>{if(!t){const t=new XMLHttpRequest;t.open("POST",Math.random()<.1?Y:F,!0),t.send(JSON.stringify(i))}}))}(this,l).catch((()=>{}))}catch(t){}}))}var _t=class{constructor(){this.Fn=null}add(t){return this.Fn||(this.Fn=[]),this.Fn.push(t),()=>{this.remove(t)}}remove(t){this.Fn&&function(t,i){const e=t.indexOf(i);-1!=e&&t.splice(e,1)}(this.Fn,t)}removeAll(){this.Fn&&(this.Fn.length=0)}fire(t){if(this.Fn)for(const i of this.Fn.slice())i(t)}getHandlerCount(){var t,i;return null!==(t=null===(i=this.Fn)||void 0===i?void 0:i.length)&&void 0!==t?t:0}},Pt="__AMP_Gestures",Mt=class{static get(t,i=!1,e=!1){let s=t[Pt];return s||(s=new Mt(t,i,e),t[Pt]=s),s}constructor(t,i=!1,e=!1){this._n=t,this.hI=[],this.t_=[],this.gi=[],this.lI=[],this.pI=null;const s=function(t){if(void 0!==mt)return mt;mt=!1;try{const i={get passive(){return mt=!0,!1}};t.addEventListener("test-options",null,i),t.removeEventListener("test-options",null,i)}catch(t){}return mt}(t.ownerDocument.defaultView);this.mI=i||s,this.cI=e,this.uI=!1,this.Ar=new class{constructor(t,i,e){this.Qe=ut(t,"timer"),this.Xe=i,this.Ze=e||0,this.pr=-1,this.mr=0,this.Ht=!1,this._r=()=>{this.Ar()}}isPending(){return-1!=this.pr}schedule(t){let i=t||this.Ze;this.Ht&&i<10&&(i=10);const e=Date.now()+i;return(!this.isPending()||e-this.mr<-10)&&(this.cancel(),this.mr=e,this.pr=this.Qe.delay(this._r,i),!0)}Ar(){this.pr=-1,this.mr=0,this.Ht=!0,this.Xe(),this.Ht=!1}cancel(){this.isPending()&&(this.Qe.cancel(this.pr),this.pr=-1)}}(b(t),this.vg.bind(this)),this.dI=new _t,this.fI=Object.create(null),this._I=this.sm.bind(this),this.gI=this.rm.bind(this),this.yI=this.nm.bind(this),this.AI=this.h_.bind(this),this._n.addEventListener("touchstart",this._I,!!s&&{passive:!0}),this._n.addEventListener("touchend",this.gI),this._n.addEventListener("touchmove",this.yI,!!s&&{passive:!0}),this._n.addEventListener("touchcancel",this.AI),this.bI=!1}cleanup(){this._n.removeEventListener("touchstart",this._I),this._n.removeEventListener("touchend",this.gI),this._n.removeEventListener("touchmove",this.yI),this._n.removeEventListener("touchcancel",this.AI),delete this._n[Pt],this.Ar.cancel()}onGesture(t,i){const e=new t(this),s=e.getType();let n=this.fI[s];return n||(this.hI.push(e),n=new _t,this.fI[s]=n),n.add(i)}removeGesture(t){const i=new t(this).getType(),e=this.fI[i];if(e){e.removeAll();const t=l(this.hI,(t=>t.getType()==i));return!(t<0||(this.hI.splice(t,1),this.gi.splice(t,1),this.lI.splice(t,1),this.t_.splice(t,1),delete this.fI[i],0))}return!1}onPointerDown(t){return this.dI.add(t)}sm(t){const i=Date.now();this.uI=!1,this.dI.fire(t);for(let e=0;e<this.hI.length;e++)this.gi[e]||(this.lI[e]&&this.lI[e]<i&&this.o_(e),this.hI[e].onTouchStart(t)&&this.u_(e));this.vI(t)}nm(t){const i=Date.now();for(let e=0;e<this.hI.length;e++)this.t_[e]&&(this.lI[e]&&this.lI[e]<i?this.o_(e):this.hI[e].onTouchMove(t)||this.o_(e));this.vI(t)}rm(t){const i=Date.now();for(let e=0;e<this.hI.length;e++){if(!this.t_[e])continue;if(this.lI[e]&&this.lI[e]<i){this.o_(e);continue}this.hI[e].onTouchEnd(t);const s=!this.lI[e],n=this.lI[e]<i;this.pI==this.hI[e]||!s&&!n||this.o_(e)}this.vI(t)}h_(t){for(let t=0;t<this.hI.length;t++)this.TI(t);this.vI(t)}Wp(t,i){if(this.pI)return void t.acceptCancel();const e=Date.now();for(let s=0;s<this.hI.length;s++)this.hI[s]==t&&(this.gi[s]=e+i,this.lI[s]=0);this.bI=!0}EI(t,i){if(this.pI)return void t.acceptCancel();const e=Date.now();for(let s=0;s<this.hI.length;s++)this.hI[s]==t&&(this.lI[s]=e+i)}xI(t){this.pI==t&&(this.pI=null,this.uI=!0)}MI(t,i,e){v(this.pI==t);const s=this.fI[t.getType()];s&&s.fire(new class{constructor(t,i,e,s){this.type=t,this.data=i,this.time=e,this.event=s}}(t.getType(),i,Date.now(),e))}vI(t){let i=!!this.pI||this.uI;if(this.uI=!1,!i){const t=Date.now();for(let e=0;e<this.hI.length;e++)if(this.gi[e]||this.lI[e]&&this.lI[e]>=t){i=!0;break}}i?(t.stopPropagation(),this.mI||t.preventDefault()):this.cI&&t.stopPropagation(),this.bI&&(this.bI=!1,this.vg())}vg(){const t=Date.now();let i=-1;for(let e=0;e<this.hI.length;e++)this.gi[e]?(-1==i||this.gi[e]>this.gi[i])&&(i=e):this.lI[e]&&this.lI[e]<t&&this.o_(e);if(-1==i)return;let e=0;for(let i=0;i<this.hI.length;i++)!this.gi[i]&&this.t_[i]&&(e=Math.max(e,this.lI[i]-t));e<2?this.wI(i):this.Ar.schedule(e)}wI(t){const i=this.hI[t];for(let i=0;i<this.hI.length;i++)i!=t&&this.TI(i);this.gi[t]=0,this.lI[t]=0,this.pI=i,i.acceptStart()}u_(t){this.t_[t]=!0,this.lI[t]=0}o_(t){this.t_[t]=!1,this.lI[t]=0,this.gi[t]||this.hI[t].acceptCancel()}TI(t){this.gi[t]=0,this.o_(t)}};function Et(t,i,e){i<1&&(i=1);const s=t/i,n=.5+Math.min(i/33.34,.5);return s*n+e*(1-n)}Math.round(-16.67/Math.log(.95));var xt,yt,Tt=["as","containerClass"],Rt=["displayHintOnce","firstImageAs","firstLabelAs","initialPosition","leftHintAs","rightHintAs","secondImageAs","secondLabelAs","stepSize"];et=class{constructor(t,i,e=""){this.win=t,this.J=i,this.W=this.X(),this.B=e,this.Z=null,this.K=function(t){let i=!1,e=null,s=t;return(...t)=>(i||(e=s.apply(self,t),i=!0,s=null),e)}((()=>{t.fetch(`${B}/rtv/012301041800000/log-messages.simple.json`).then((t=>t.json()),Z).then((t=>{t&&(this.Z=t)}))})),this.Y=this.assert.bind(this)}X(){var t;const{win:i}=this;return null!==(t=i.console)&&void 0!==t&&t.log&&0!=Q(i)?this.tt():0}tt(t){return this.J(Q(t),!1)}et(t,i,e){var s;if(i>this.W)return!1;const n=this.win.console,r=null!==(s={1:n.error,3:n.info,2:n.warn}[i])&&void 0!==s?s:n.log,o=this.nt(e),l=`[${t}]`;return a(o[0])?o[0]=l+" "+o[0]:o.unshift(l),r.apply(n,o),!0}fine(t,...i){this.et(t,4,i)}info(t,...i){this.et(t,3,i)}warn(t,...i){this.et(t,2,i)}error(t,...i){if(!this.et(t,1,i)){var e,s;const n=this.createError.apply(this,i);n.name=t||n.name,null===(e=(s=self).__AMP_REPORT_ERROR)||void 0===e||e.call(s,n)}}expectedError(t,...i){var e,s;this.et(t,1,i)||null===(e=(s=self).__AMP_REPORT_ERROR)||void 0===e||e.call(s,this.createExpectedError.apply(this,i))}createError(t){return this.ot(x.apply(null,arguments))}createExpectedError(t){return this.ot(y.apply(null,arguments))}ot(t){return t=E(t),this.B?t.message?-1==t.message.indexOf(this.B)&&(t.message+=this.B):t.message=this.B:d(t.message)&&(t.message=t.message.replace("​​​","")),t}nt(t){return r(t[0])?this.rt(t[0]):t}rt(t){var i;const e=t.shift();return null!==(i=this.Z)&&void 0!==i&&i[e]?[this.Z[e]].concat(t):[`More info at ${q(e,t)}`]}assert(t,i,e){return r(i)?this.assert.apply(this,[t].concat(this.rt(i))):p.apply(null,[this.B].concat(Array.prototype.slice.call(arguments)))}assertElement(t,i){return function(t,i,e){return g(t,i,f(i),"Element expected",e)}(this.Y,t,i)}assertString(t,i){return function(t,i,e){return g(t,i,a(i),"String expected",e)}(this.Y,t,i)}assertNumber(t,i){return function(t,i,e){return g(t,i,"number"==typeof i,"Number expected",e)}(this.Y,t,i)}assertArray(t,i){return function(t,i,e){return g(t,i,r(i),"Array expected",e)}(this.Y,t,i)}assertBoolean(t,i){return function(t,i,e){return g(t,i,!!i===i,"Boolean expected",e)}(this.Y,t,i)}},it.dev||(it.dev=st((t=>t>=3?4:t>=2?3:0))),nt(),xt=global,yt="timer",function(t,i,e,s,n,r){const o=ct(t);let l=o[e];l||(l=o[e]={obj:null,promise:null,resolve:null,reject:null,context:null,ctor:null,sharedInstance:!1}),l.ctor||(l.ctor=s,l.context=i,l.sharedInstance=!1,l.resolve&&ut(t,e))}(xt=at(xt),xt,yt,class{constructor(t){this.win=t,this.Sh=this.win.Promise.resolve(),this.xh=0,this.Oh={},this.Ch=Date.now()}timeSinceStart(){return Date.now()-this.Ch}delay(t,i){if(!i){const i="p"+this.xh++;return this.Sh.then((()=>{this.Oh[i]?delete this.Oh[i]:t()})).catch(wt),i}return this.win.setTimeout((()=>{try{t()}catch(t){throw wt(t),t}}),i)}cancel(t){"string"!=typeof t?this.win.clearTimeout(t):this.Oh[t]=!0}promise(t){return new this.win.Promise((i=>{if(-1==this.delay(i,t))throw new Error("Failed to schedule timer.")}))}timeoutPromise(t,i,e){let s;const n=new this.win.Promise(((i,n)=>{if(s=this.delay((()=>{n(nt().createError(e||"timeout"))}),t),-1==s)throw new Error("Failed to schedule timer.")}));if(!i)return n;const r=()=>{this.cancel(s)};return i.then(r,r),this.win.Promise.race([n,i])}poll(t,i){return new this.win.Promise((e=>{const s=this.win.setInterval((()=>{i()&&(this.win.clearInterval(s),e())}),t)}))}});var It=D((function(t,i){let{as:e="div",containerClass:r}=t,o=n(t,Tt);return j("div",{ref:i,class:r},j(e,s({},o)))}));function jt(t,i){return null!=t&&void 0!==i}function kt(t){console.warn(t)}var Ot=D((function(t,i){let{displayHintOnce:e,firstImageAs:r,firstLabelAs:o,initialPosition:l,leftHintAs:a,rightHintAs:h,secondImageAs:u,secondLabelAs:c,stepSize:f=.1}=t,m=n(t,Rt);const d=S(null),p=S(null),g=S(null),v=S(null),A=S(null),E=S(null),x=S(null),y=S(null),T=S(null),D=S(null),$=S(null),C=S(null),H=S(null),N=S(null),U=S(null),X=S(null),B=S(null),F=S(null),Y=S(null),W=S(null),G=S(null),J=S(null),[Z,q]=z(!1),K=k((()=>{q(!0)}),[q]),Q=k((()=>{q(!1)}),[q]),tt=k((t=>{var i;null!=t&&t.current&&(null===(i=t.current)||void 0===i||i.call(t),t.current=null)}),[]),it=k((t=>I(t,0,1)),[]),et=k(((t,i)=>{R(t,"transform",`translateX(${100*i}%)`)}),[]),st=k((t=>{t=it(t),et(C.current,t),et($.current,t),et(A.current,-t);const i=t-.5;et(B.current,i),et(F.current,i),null!=y.current&&et(y.current,-t)}),[it,et]),nt=k((t=>{const{left:i,right:e,width:s}=g.current.getBoundingClientRect(),n=I(t,i,e);st((n-i)/s)}),[st]),rt=k((()=>{d.current||(d.current=Mt.get(g.current,!0),d.current.onGesture(class extends class extends class{constructor(t,i){this.BV=t,this.S_=i}getType(){return this.BV}signalReady(t){this.S_.Wp(this,t)}signalPending(t){this.S_.EI(this,t)}signalEnd(){this.S_.xI(this)}signalEmit(t,i){this.S_.MI(this,t,i)}acceptStart(){}acceptCancel(){}onTouchStart(t){return!1}onTouchMove(t){return!1}onTouchEnd(t){}}{constructor(t,i,e,s){super(t,i),this.HV=e,this.YV=s,this.pI=!1,this.GV=0,this.WV=0,this.qV=0,this.XV=0,this.KV=0,this.ZV=0,this.Ch=0,this.JV=0,this.QV=0,this.pk=0,this.mk=0}onTouchStart(t){const{touches:i}=t;return!!(this.pI&&i&&i.length>1)||!(!i||1!=i.length)&&(this.Ch=Date.now(),this.GV=i[0].clientX,this.WV=i[0].clientY,!0)}onTouchMove(t){const{touches:i}=t;if(i&&i.length>=1){const{clientX:e,clientY:s}=i[0];if(this.qV=e,this.XV=s,this.pI)this.fk(!1,!1,t);else{const t=Math.abs(e-this.GV),i=Math.abs(s-this.WV);if(this.HV&&this.YV)(t>=8||i>=8)&&this.signalReady(-10);else if(this.HV){if(t>=8&&t>i)this.signalReady(-10);else if(i>=8)return!1}else{if(!this.YV)return!1;if(i>=8&&i>t)this.signalReady(-10);else if(t>=8)return!1}}return!0}return!1}onTouchEnd(t){const{touches:i}=t;i&&0==i.length&&this._k(t)}acceptStart(){this.pI=!0,this.KV=this.GV,this.ZV=this.WV,this.QV=this.Ch,this.GV=this.qV,this.WV=this.XV,this.fk(!0,!1,null)}acceptCancel(){this.pI=!1}fk(t,i,e){this.JV=Date.now();const s=this.JV-this.QV;if(!i&&s>4||i&&s>16){const t=Et(this.qV-this.KV,s,this.pk),e=Et(this.XV-this.ZV,s,this.mk);(!i||s>32||0!=t||0!=e)&&(this.pk=Math.abs(t)>1e-4?t:0,this.mk=Math.abs(e)>1e-4?e:0),this.KV=this.qV,this.ZV=this.XV,this.QV=this.JV}this.signalEmit({first:t,last:i,time:this.JV,deltaX:this.qV-this.GV,deltaY:this.XV-this.WV,startX:this.GV,startY:this.WV,lastX:this.qV,lastY:this.XV,velocityX:this.pk,velocityY:this.mk},e)}_k(t){this.pI&&(this.pI=!1,this.fk(!1,!0,t),this.signalEnd())}}{constructor(t){super("swipe-x",t,!0,!1)}},(t=>{t.data.first&&K(),nt(t.data.startX+t.data.deltaX)})),d.current.onPointerDown((t=>{nt(t.touches[0].pageX),K()})))}),[K,nt]),ot=k((()=>{const{left:t}=C.current.getBoundingClientRect(),{left:i,width:e}=g.current.getBoundingClientRect();return(t-i)/e}),[]),lt=k((t=>{if(!0===t)st(0);else{const t=it(ot()-f);st(t)}}),[ot,st,it,f]),at=k((()=>{st(.5)}),[st]),ht=k((t=>{if(!0===t)st(1);else{const t=it(ot()+f);st(t)}}),[st,it,ot,f]),ut=k((t=>{var i;if(p.current.activeElement===(null==g?void 0:g.current)||p.current.activeElement===(null==g||null===(i=g.current)||void 0===i?void 0:i.offsetParent))switch(K(),t.key.toLowerCase()){case"left":case"arrowleft":t.preventDefault(),t.stopPropagation(),lt();break;case"right":case"arrowright":t.preventDefault(),t.stopPropagation(),ht();break;case"pageup":t.preventDefault(),t.stopPropagation(),lt(!0);break;case"pagedown":t.preventDefault(),t.stopPropagation(),ht(!0);break;case"home":t.preventDefault(),t.stopPropagation(),at()}}),[K,lt,ht,at]),ct=k((t=>{t.preventDefault(),nt(t.pageX)}),[nt]),ft=k((t=>{t.preventDefault(),tt(G),tt(Y)}),[tt]),mt=k((t=>{t.preventDefault(),nt(t.pageX),null===G.current&&(G.current=dt(window,"mousemove",ct)),null===Y.current&&(Y.current=dt(window,"mouseup",ft)),K()}),[K,nt,G,Y,ct,ft]),pt=k((()=>{(!1).current||(W.current=dt(g.current,"mousedown",mt),J.current=dt(g.current,"keydown",ut),rt())}),[J,!1,mt,ut,rt]),gt=k((t=>{t&&!e&&Q()}),[Q,e]);return O((()=>{var t;if(!jt(r,u))return null;if(p.current=null==g||null===(t=g.current)||void 0===t?void 0:t.ownerDocument,function(t,i,e){const s=b(t);let n=_.get(s);n||_.set(s,n=w(M,s));let r=P.get(t);r||(r=[],P.set(t,r)),r.push(i),n.observe(t)}(g.current,(({isIntersecting:t})=>gt(t))),pt(),l){if(isNaN(l))return kt("initialPosition must be a finite number"),null;st(l)}}),[pt,l,st,r,u,gt]),V(i,(()=>({seekTo:(t=50)=>{st(t)}})),[st]),isNaN(f)?(kt("stepSize must be a finite number"),null):jt(r,u)?j(L,s({ref:g,class:"image-slider-container-05912a8",layout:!0,size:!0,paint:!0,tabindex:"0",autoFocus:"true",onMouseDown:mt,onMouseUp:ft},m),j("div",{ref:D,class:"image-slider-left-mask-05912a8"},j("div",{ref:E,class:"image-slider-label-wrapper-05912a8"},j(It,{as:o,class:"image-slider-left-label",ref:x})),j(It,{as:r,class:"image-slider-left-image",ref:v})),j("div",{ref:$,class:"image-slider-right-mask-05912a8 image-slider-push-right-05912a8"},j("div",{ref:y,class:"image-slider-label-wrapper-05912a8 image-slider-push-left-05912a8"},j(It,{ref:T,class:"image-slider-right-label",as:c})),j(It,{as:u,ref:A,class:"image-slider-right-image",containerClass:"image-slider-push-left-05912a8"})),j("div",{class:"image-slider-bar-05912a8 image-slider-push-right-05912a8",ref:C},j("div",{class:"image-slider-bar-stick-05912a8 image-slider-push-left-05912a8"})),j("div",{ref:B,class:"image-slider-hint-05912a8"+(Z?" image-slider-hint-hidden-05912a8":"")},j("div",{ref:U,class:"image-slider-hint-left-wrapper-05912a8"},j(It,{as:a,ref:H,class:"image-slider-hint-left-05912a8 image-slider-left-hint"}))),j("div",{ref:F,class:"image-slider-hint-05912a8"+(Z?" image-slider-hint-hidden-05912a8":"")},j("div",{ref:X,class:"image-slider-hint-right-wrapper-05912a8"},j(It,{as:h,ref:N,class:"image-slider-hint-right-05912a8 image-slider-right-hint"})))):(kt("2 images must be provided for comparison"),null)}));Ot.displayName="BentoImageSlider";var Vt=class extends t{};Vt.Component=Ot,Vt.props={firstImageAs:{selector:'amp-img[slot="first-image"]',single:!0,as:!0},secondImageAs:{selector:'amp-img[slot="second-image"]',single:!0,as:!0},firstLabelAs:{selector:'div[slot="first-label"]',single:!0,as:!0},secondLabelAs:{selector:'div[slot="second-label"]',single:!0,as:!0},leftHintAs:{selector:'div[slot="left-hint"]',single:!0,as:!0},rightHintAs:{selector:'div[slot="right-hint"]',single:!0,as:!0},initialPosition:{attr:"initial-slider-position",type:"number"},displayHintOnce:{attr:"display-hint-once",type:"boolean"},stepSize:{attr:"step-size",type:"number",default:.1}},Vt.layoutSizeDefined=!0,Vt.usesShadowDom=!0,Vt.shadowCss='.image-slider-container-05912a8{top:0!important;left:0!important;right:0!important;bottom:0!important;position:absolute!important;transform:translateZ(0)!important}.image-slider-left-mask-05912a8,.image-slider-right-mask-05912a8{top:0!important;left:0!important;right:0!important;bottom:0!important;overflow:hidden!important;position:absolute!important}.image-slider-right-mask-05912a8{z-index:1!important}.image-slider-push-left-05912a8{height:100%;transform:translateX(-50%)}.image-slider-push-right-05912a8{transform:translateX(50%)}.image-slider-bar-05912a8{top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:3!important;position:absolute!important;direction:ltr!important}.image-slider-bar-stick-05912a8{width:20%!important;cursor:col-resize!important;height:100%!important}.image-slider-bar-stick-05912a8:before{top:0!important;left:50%!important;border:0.5px solid #fff!important;bottom:0!important;content:""!important;display:block!important;opacity:0.5!important;position:absolute!important;transform:translate(-50%)!important;box-sizing:border-box!important}.image-slider-label-wrapper-05912a8{top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:1!important;position:absolute!important}.image-slider-hint-hidden-05912a8{opacity:0;transition:opacity 0.4s linear}.image-slider-hint-05912a8{top:0!important;left:0!important;right:0!important;bottom:0!important;z-index:2;position:absolute!important;transition:opacity 0.4s ease-in}.image-slider-hint-left-wrapper-05912a8{right:50%!important}.image-slider-hint-left-wrapper-05912a8,.image-slider-hint-right-wrapper-05912a8{height:100%!important;display:-ms-flexbox!important;display:flex!important;position:absolute!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-pack:center!important;justify-content:center!important}.image-slider-hint-right-wrapper-05912a8{left:50%!important}.image-slider-hint-left-05912a8{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 8"><path d="M4 5h12V3H4V0L0 4l4 4z" fill="%23fff"/></svg>\')}.image-slider-hint-left-05912a8,.image-slider-hint-right-05912a8{width:56px;filter:drop-shadow(3px 3px 4px black);height:16px;background-size:56px 16px}.image-slider-hint-right-05912a8{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 8"><path d="M24 5H12V3h12V0l4 4-4 4z" fill="%23fff"/></svg>\')}';import{defineBentoElement as St}from"../bento.mjs";St("bento-image-slider",Vt,void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-image-slider-1.0.mjs.map
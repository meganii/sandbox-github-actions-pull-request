;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-mustache",ev:"0.1",l:!1,f:function(t,e){(()=>{function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?n(Object(i),!0).forEach((function(n){e(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function i(t,e){const n=[];let r=0;for(let i=0;i<t.length;i++){const o=t[i];e(o,i,t)?n.push(o):(r<i&&(t[r]=o),r++)}return r<t.length&&(t.length=r),n}var{hasOwnProperty:o,toString:a}=Object.prototype;function l(t){const e=Object.create(null);return t&&Object.assign(e,t),e}function s(t){return 1==(null==t?void 0:t.nodeType)}function u(t){return s(t)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t}function c(t,e,n,r,i,o,a,l,s,u,c){return t}function f(t,e,n,r,o,a,l,s,c,f,m){return function(t,e,n="Assertion failed",r){var o,a;if(e)return e;t&&-1==n.indexOf(t)&&(n+=t);let l=3;const s=n.split("%s");let c=s.shift();const f=[c];for(;s.length;){const t=arguments[l++],e=s.shift();c+=u(t)+e,f.push(t,e.trim())}const m=new Error(c);throw m.messageArray=i(f,(t=>""!==t)),null===(o=(a=self).__AMP_REPORT_ERROR)||void 0===o||o.call(a,m),m}("​​​",t,e,n,r,o,a,l,s,c,f,m)}var m=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function h(t,e=""){try{return decodeURIComponent(t)}catch(t){return e}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var d=self.__AMP_LOG;function p(t){return d.user||(d.user=b()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(d.user.win,t)?d.userForEmbed||(d.userForEmbed=b()):d.user}function b(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function g(t,e,n,r,i,o,a,l,s,u,c){return t}function v(t,e,n,r,i,o,a,l,s,u,c){return p().assert(t,e,n,r,i,o,a,l,s,u,c)}var E={};!function(t){var e=Object.prototype.toString,n=Array.isArray||function(t){return"[object Array]"===e.call(t)};function r(t){return"function"==typeof t}function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function o(t,e){return null!=t&&"object"==typeof t&&Object.prototype.hasOwnProperty.call(t,e)}var a=RegExp.prototype.test,l=/\S/,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},u=/\s*/,c=/\s+/,f=/\s*=/,m=/\s*\}/,h=/#|\^|\/|>|\{|&|=|!/;function d(t){this.string=t,this.tail=t,this.pos=0}function p(t,e){this.view=t,this.cache={".":this.view},this.parent=e}function b(){this.cache={}}d.prototype.eos=function(){return""===this.tail},d.prototype.scan=function(t){var e=this.tail.match(t);if(!e||0!==e.index)return"";var n=e[0];return this.tail=this.tail.substring(n.length),this.pos+=n.length,n},d.prototype.scanUntil=function(t){var e,n=this.tail.search(t);switch(n){case-1:e=this.tail,this.tail="";break;case 0:e="";break;default:e=this.tail.substring(0,n),this.tail=this.tail.substring(n)}return this.pos+=e.length,e},p.prototype.push=function(t){return new p(t,this)},p.prototype.lookup=function(t){var e,n=this.cache;if(n.hasOwnProperty(t))e=n[t];else{for(var i,a,l=this,s=!1;l;){if(t.indexOf(".")>0)for(e=l.view,i=t.split("."),a=0;null!=e&&a<i.length;){if(!o(e,i[a])){e=null;break}a===i.length-1&&(s=!0),e=e[i[a++]]}else o(l.view,t)?(e=l.view[t],s=!0):e=null;if(s)break;l=l.parent}n[t]=e}return r(e)&&(e=e.call(this.view)),e},b.prototype.clearCache=function(){this.cache={}},b.prototype.parse=function(e,r){var o=this.cache,s=o[e];return null==s&&(s=o[e]=function(e,r){if(!e)return[];var o,s,p,b,g=[],v=[],E=[],T=!1,M=!1;function L(){if(T&&!M)for(;E.length;)delete v[E.pop()];else E=[];T=!1,M=!1}!function(t){if("string"==typeof t&&(t=t.split(c,2)),!n(t)||2!==t.length)throw new Error("Invalid tags: "+t);o=new RegExp(i(t[0])+"\\s*"),s=new RegExp("\\s*"+i(t[1])),p=new RegExp("\\s*"+i("}"+t[1]))}(r||t.tags);for(var H,w,y,k,x,A,R=new d(e);!R.eos();){if(H=R.pos,y=R.scanUntil(o))for(var _=0,I=y.length;_<I;++_)b=k=y.charAt(_),function(t,e){return a.call(t,e)}(l,b)?M=!0:E.push(v.length),v.push(["text",k,H,H+1]),H+=1,"\n"===k&&L();if(!R.scan(o))break;if(T=!0,w=R.scan(h)||"name",R.scan(u),"="===w?(y=R.scanUntil(f),R.scan(f),R.scanUntil(s)):"{"===w?(y=R.scanUntil(p),R.scan(m),R.scanUntil(s),w="&"):y=R.scanUntil(s),!R.scan(s))throw new Error("Unclosed tag at "+R.pos);if(x=[w,y,H,R.pos],v.push(x),"#"===w||"^"===w)g.push(x);else if("/"===w){if(!(A=g.pop()))throw new Error('Unopened section "'+y+'" at '+H);if(A[1]!==y)throw new Error('Unclosed section "'+A[1]+'" at '+H)}else"name"!==w&&"{"!==w&&"&"!==w||(M=!0)}if(A=g.pop())throw new Error('Unclosed section "'+A[1]+'" at '+R.pos);return function(t){for(var e,n=[],r=n,i=[],o=0,a=t.length;o<a;++o)switch((e=t[o])[0]){case"#":case"^":r.push(e),i.push(e),r=e[4]=[];break;case"/":i.pop()[5]=e[2],r=i.length>0?i[i.length-1][4]:n;break;default:r.push(e)}return n}(function(t){for(var e,n,r=[],i=0,o=t.length;i<o;++i)(e=t[i])&&("text"===e[0]&&n&&"text"===n[0]?(n[1]+=e[1],n[3]=e[3]):(r.push(e),n=e));return r}(v))}(e,r)),s},b.prototype.render=function(t,e,n){var r=this.parse(t),i=e instanceof p?e:new p(e);return this.renderTokens(r,i,n,t)},b.prototype.renderTokens=function(t,e,n,r){for(var i,o,a,l="",s=0,u=t.length;s<u;++s)a=void 0,"#"===(o=(i=t[s])[0])?a=this.renderSection(i,e,n,r):"^"===o?a=this.renderInverted(i,e,n,r):">"===o?a=this.renderPartial(i,e,n,r):"&"===o?a=this.unescapedValue(i,e):"name"===o?a=this.escapedValue(i,e):"text"===o&&(a=this.rawValue(i)),void 0!==a&&(l+=a);return l},b.prototype.renderSection=function(t,e,i,o){var a=this,l="",s=e.lookup(t[1]);if(s){if(n(s))for(var u=0,c=s.length;u<c;++u)l+=this.renderTokens(t[4],e.push(s[u]),i,o);else if("object"==typeof s||"string"==typeof s||"number"==typeof s)l+=this.renderTokens(t[4],e.push(s),i,o);else if(r(s)){if("string"!=typeof o)throw new Error("Cannot use higher-order sections without the original template");null!=(s=s.call(e.view,o.slice(t[3],t[5]),(function(t){return a.render(t,e,i)})))&&(l+=s)}else l+=this.renderTokens(t[4],e,i,o);return l}},b.prototype.renderInverted=function(t,e,r,i){var o=e.lookup(t[1]);if(!o||n(o)&&0===o.length)return this.renderTokens(t[4],e,r,i)},b.prototype.renderPartial=function(t,e,n){if(n){var i=r(n)?n(t[1]):n[t[1]];return null!=i?this.renderTokens(this.parse(i),e,n,i):void 0}},b.prototype.unescapedValue=function(e,n){var r=n.lookup(e[1]);if(null!=r)return t.sanitizeUnescaped?t.sanitizeUnescaped(r):r},b.prototype.escapedValue=function(e,n){var r=n.lookup(e[1]);if(null!=r)return t.escape(r)},b.prototype.rawValue=function(t){return t[1]},t.name="mustache.js",t.version="2.2.0",t.tags=["{{","}}"];var g=new b;t.clearCache=function(){return g.clearCache()},t.parse=function(t,e){return g.parse(t,e)},t.render=function(t,e,r){if("string"!=typeof t)throw new TypeError('Invalid template! Template should be a "string" but "'+(n(i=t)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)');var i;return g.render(t,e,r)},t.to_html=function(e,n,i,o){var a=t.render(e,n,i);if(!r(o))return a;o(a)},t.escape=function(t){return String(t).replace(/[&<>"'`=\/]/g,(function(t){return s[t]}))},t.sanitizeUnescaped=null,t.setUnescapedSanitizer=function(e){t.sanitizeUnescaped=e},t.Scanner=d,t.Context=p,t.Writer=b}(E);var T=E;function M(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,function(t,e){return L(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),"ampdoc")}(e)).getAmpDoc(t):t;var e,n}function L(t,e){g(function(t,e){const n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}(t,e));const n=function(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return n.obj||(g(n.ctor),g(n.context),n.obj=new n.ctor(n.context),g(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function H(t){return function(t,e){const n=e.documentElement;return["⚡4email","amp4email"].some((t=>n.hasAttribute(t)))}(0,t)}var w=/(\S+)(?:\s+(?:(-?\d+(?:\.\d+)?)([a-zA-Z]*)))?\s*(?:,|$)/g;function y(t,e){return f(t.width!=e.width,"Duplicate width: %s",t.width),t.width-e.width}function k(t,e){return f(t.dpr!=e.dpr,"Duplicate dpr: %s",t.dpr),t.dpr-e.dpr}var x,A=(()=>self.AMP.config.urls)(),R=new Set(["c","v","a","ad"]),_=t=>"string"==typeof t?I(t):t;function I(t,e){return x||(x=self.document.createElement("a")),function(t,e,n){return t.href="",new URL(e,t.href)}(x,t)}function C(t){return A.cdnProxyRegex.test(_(t).origin)}function O(t,e){return e=_(e),new URL(t,e.href).toString()}var S=(()=>self.AMP.config.urls)();function j(t,e,n){return U(e)?function(t,e,n,r){var i;v(!("__amp_source_origin"in function(t){const e=l();if(!t)return e;let n;for(;n=m.exec(t);){const t=h(n[1],n[1]),r=n[2]?h(n[2].replace(/\+/g," "),n[2]):"";e[t]=r}return e}(I(i=n).search)),"Source origin is not allowed in %s",i);const o=C(r),a=I(function(t){if(!C(t=_(t)))return t.href;const e=t.pathname.split("/"),n=e[1];v(R.has(n),"Unknown path prefix in url %s",t.href);const r=e[2],i="s"==r?"https://"+decodeURIComponent(e[3]):"http://"+decodeURIComponent(r);return v(i.indexOf(".")>0,"Expected a . in origin %s",i),e.splice(1,"s"==r?3:2),i+e.join("/")+function(t,e){if(!t||"?"==t)return"";const n=new RegExp("[?&](amp_(js[^&=]*|gsa|r|kit)|usqp)\\b[^&]*","g"),r=t.replace(n,"").replace(/^[?&]/,"");return r?"?"+r:""}(t.search)+(t.hash||"")}(r));if("href"==e&&!n.startsWith("#"))return O(n,a);if("src"==e)return"amp-img"==t?D(n,a,o):O(n,a);if("srcset"==e){let t;try{t=function(t){const e=[];let n;for(;n=w.exec(t);){const t=n[1];let r,i;if(n[2]){const t=n[3].toLowerCase();if("w"==t)r=parseInt(n[2],10);else{if("x"!=t)continue;i=parseFloat(n[2])}}else i=1;e.push({url:t,width:r,dpr:i})}return new class{constructor(t){f(t.length>0,"Srcset must have at least one source"),this.VT=t;let e=!1,n=!1;for(let r=0;r<t.length;r++){const i=t[r];e=e||!!i.width,n=n||!!i.dpr}f(!(e===n),"Srcset must have width or dpr sources, but not both"),t.sort(e?y:k),this.vS=e}select(t,e){c(t),c(e);let n=0;return n=this.vS?this.bS(t*e):this.wS(e),this.VT[n].url}bS(t){const e=this.VT;let n=0,r=1/0,i=1/0;for(let a=0;a<e.length;a++){var o;const l=null!==(o=e[a].width)&&void 0!==o?o:0,s=Math.abs(l-t);if(!(s<=1.1*r||t/i>1.2))break;n=a,r=s,i=l}return n}wS(t){const e=this.VT;let n=0,r=1/0;for(let i=0;i<e.length;i++){const o=Math.abs(e[i].dpr-t);if(!(o<=r))break;n=i,r=o}return n}getUrls(){return this.VT.map((t=>t.url))}stringify(t){const e=[],n=this.VT;for(let r=0;r<n.length;r++){const i=n[r];let o=i.url;t&&(o=t(o)),this.vS?o+=` ${i.width}w`:o+=` ${i.dpr}x`,e.push(o)}return e.join(", ")}}(e)}(n)}catch(t){return p().error("URL-REWRITE","Failed to parse srcset: ",t),n}return t.stringify((t=>D(t,a,o)))}return n}(t,e,n,self.location):n}function U(t){return"src"==t||"href"==t||"xlink:href"==t||"srcset"==t}function D(t,e,n){const r=I(O(t,e));return"data:"==r.protocol||C(r)||!n?r.href:`${S.cdn}/i/`+("https:"==r.protocol?"s/":"")+encodeURIComponent(r.host)+r.pathname+(r.search||"")+(r.hash||"")}var P="data-amp-bind-",$={"applet":!0,"audio":!0,"base":!0,"embed":!0,"frame":!0,"frameset":!0,"iframe":!0,"img":!0,"link":!0,"meta":!0,"object":!0,"style":!0,"video":!0},N={"amp-accordion":!0,"amp-anim":!0,"amp-bind-macro":!0,"amp-carousel":!0,"amp-fit-text":!0,"amp-img":!0,"amp-layout":!0,"amp-selector":!0,"amp-sidebar":!0,"amp-timeago":!0},F=["a","amp-img","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],q=["a","article","aside","b","blockquote","br","caption","code","col","colgroup","dd","del","details","div","dl","dt","em","figcaption","figure","footer","h1","h2","h3","header","hr","i","ins","li","main","mark","nav","ol","p","pre","q","s","section","small","span","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","u","ul"],z=["amp-fx","fallback","heights","layout","min-font-size","max-font-size","on","option","placeholder","submitting","submit-success","submit-error","validation-for","verify-error","visible-when-invalid","href","style","text","subscriptions-action","subscriptions-actions","subscriptions-decorate","subscriptions-dialog","subscriptions-display","subscriptions-section","subscriptions-service","subscriptions-google-rtc","amp-nested-submenu","amp-nested-submenu-open","amp-nested-submenu-close","itemprop"],B={"a":["rel","target"],"div":["template"],"form":["action-xhr","verify-xhr","custom-validation-reporting","target"],"input":["mask-output"],"template":["type"],"textarea":["autoexpand"]},V=["_top","_blank"],G=/^(?:\w+script|data|blob):/i,X=/^(?:blob):/i,Y=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Z=Object.freeze({"input":{"type":/(?:image|button)/i}}),W=Object.freeze({"input":{"type":/(?:button|file|image|password)/i}}),Q=Object.freeze(["form","formaction","formmethod","formtarget","formnovalidate","formenctype"]),K=Object.freeze({"input":Q,"textarea":Q,"select":Q}),J=Object.freeze({"amp-anim":["controls"],"form":["name"]}),tt=/!important|position\s*:\s*fixed|position\s*:\s*sticky/i;function et(t,e,n,r,i=!1){const o=n?n.replace(Y,""):"";if(!i){if(e.startsWith("on")&&"on"!=e)return!1;const t=o.toLowerCase();if(t.indexOf("<script")>=0||t.indexOf("</script")>=0)return!1;if(G.test(o))return!1}if(X.test(o))return!1;if("style"==e)return!tt.test(n);if("class"==e&&n&&/(^|\W)i-amphtml-/i.test(n))return!1;if(U(e)&&/__amp_source_origin/.test(n))return!1;const a=H(r),s=Object.assign(l(),K,a?J:{})[t];if(s&&-1!=s.indexOf(e))return!1;const u=Object.assign(l(),Z,a?W:{})[t];if(u){const t=u[e];if(t&&-1!=n.search(t))return!1}return!0}var nt=function(){function t(t){var e=(""+t).match(f);return e?new u(c(e[1]),c(e[2]),c(e[3]),c(e[4]),c(e[5]),c(e[6]),c(e[7])):null}function e(t){return"string"==typeof t?encodeURIComponent(t):null}function n(t,e){return"string"==typeof t?encodeURI(t).replace(e,r):null}function r(t){var e=t.charCodeAt(0);return"%"+"0123456789ABCDEF".charAt(e>>4&15)+"0123456789ABCDEF".charAt(15&e)}var i=new RegExp("(/|^)(?:[^./][^/]*|\\.{2,}(?:[^./][^/]*)|\\.{3,}[^/]*)/\\.\\.(?:/|$)"),o=new RegExp(i),a=/^(?:\.\.\/)*(?:\.\.$)?/;function l(t){if(null===t)return null;for(var e,n=function(t){return t.replace(/(^|\/)\.(?:\/|$)/g,"$1").replace(/\/{2,}/g,"/")}(t),r=o;(e=n.replace(r,"$1"))!=n;n=e);return n}function s(t,e){var n=t.clone(),r=e.hasScheme();r?n.setRawScheme(e.getRawScheme()):r=e.hasCredentials(),r?n.setRawCredentials(e.getRawCredentials()):r=e.hasDomain(),r?n.setRawDomain(e.getRawDomain()):r=e.hasPort();var i=e.getRawPath(),o=l(i);if(r)n.setPort(e.getPort()),o=o&&o.replace(a,"");else if(r=!!i){if(47!==o.charCodeAt(0)){var s=l(n.getRawPath()||"").replace(a,""),u=s.lastIndexOf("/")+1;o=l((u?s.substring(0,u):"")+l(i)).replace(a,"")}}else(o=o&&o.replace(a,""))!==i&&n.setRawPath(o);return r?n.setRawPath(o):r=e.hasQuery(),r?n.setRawQuery(e.getRawQuery()):r=e.hasFragment(),r&&n.setRawFragment(e.getRawFragment()),n}function u(t,e,n,r,i,o,a){this.scheme_=t,this.credentials_=e,this.domain_=n,this.port_=r,this.path_=i,this.query_=o,this.fragment_=a,this.paramCache_=null}function c(t){return"string"==typeof t&&t.length>0?t:null}u.prototype.toString=function(){var t=[];return null!==this.scheme_&&t.push(this.scheme_,":"),null!==this.domain_&&(t.push("//"),null!==this.credentials_&&t.push(this.credentials_,"@"),t.push(this.domain_),null!==this.port_&&t.push(":",this.port_.toString())),null!==this.path_&&t.push(this.path_),null!==this.query_&&t.push("?",this.query_),null!==this.fragment_&&t.push("#",this.fragment_),t.join("")},u.prototype.clone=function(){return new u(this.scheme_,this.credentials_,this.domain_,this.port_,this.path_,this.query_,this.fragment_)},u.prototype.getScheme=function(){return this.scheme_&&decodeURIComponent(this.scheme_).toLowerCase()},u.prototype.getRawScheme=function(){return this.scheme_},u.prototype.setScheme=function(t){return this.scheme_=n(t,m),this},u.prototype.setRawScheme=function(t){return this.scheme_=t||null,this},u.prototype.hasScheme=function(){return null!==this.scheme_},u.prototype.getCredentials=function(){return this.credentials_&&decodeURIComponent(this.credentials_)},u.prototype.getRawCredentials=function(){return this.credentials_},u.prototype.setCredentials=function(t){return this.credentials_=n(t,m),this},u.prototype.setRawCredentials=function(t){return this.credentials_=t||null,this},u.prototype.hasCredentials=function(){return null!==this.credentials_},u.prototype.getDomain=function(){return this.domain_&&decodeURIComponent(this.domain_)},u.prototype.getRawDomain=function(){return this.domain_},u.prototype.setDomain=function(t){return this.setRawDomain(t&&encodeURIComponent(t))},u.prototype.setRawDomain=function(t){return this.domain_=t||null,this.setRawPath(this.path_)},u.prototype.hasDomain=function(){return null!==this.domain_},u.prototype.getPort=function(){return this.port_&&decodeURIComponent(this.port_)},u.prototype.setPort=function(t){if(t){if((t=Number(t))!==(65535&t))throw new Error("Bad port number "+t);this.port_=""+t}else this.port_=null;return this},u.prototype.hasPort=function(){return null!==this.port_},u.prototype.getPath=function(){return this.path_&&decodeURIComponent(this.path_)},u.prototype.getRawPath=function(){return this.path_},u.prototype.setPath=function(t){return this.setRawPath(n(t,h))},u.prototype.setRawPath=function(t){return t?(t=String(t),this.path_=!this.domain_||/^\//.test(t)?t:"/"+t):this.path_=null,this},u.prototype.hasPath=function(){return null!==this.path_},u.prototype.getQuery=function(){return this.query_&&decodeURIComponent(this.query_).replace(/\+/g," ")},u.prototype.getRawQuery=function(){return this.query_},u.prototype.setQuery=function(t){return this.paramCache_=null,this.query_=e(t),this},u.prototype.setRawQuery=function(t){return this.paramCache_=null,this.query_=t||null,this},u.prototype.hasQuery=function(){return null!==this.query_},u.prototype.setAllParameters=function(t){if("object"==typeof t&&!(t instanceof Array)&&(t instanceof Object||"[object Array]"!==Object.prototype.toString.call(t))){var e=[],n=-1;for(var r in t)"string"==typeof(l=t[r])&&(e[++n]=r,e[++n]=l);t=e}this.paramCache_=null;for(var i=[],o="",a=0;a<t.length;){r=t[a++];var l=t[a++];i.push(o,encodeURIComponent(r.toString())),o="&",l&&i.push("=",encodeURIComponent(l.toString()))}return this.query_=i.join(""),this},u.prototype.checkParameterCache_=function(){if(!this.paramCache_){var t=this.query_;if(t){for(var e=t.split(/[&\?]/),n=[],r=-1,i=0;i<e.length;++i){var o=e[i].match(/^([^=]*)(?:=(.*))?$/);n[++r]=decodeURIComponent(o[1]).replace(/\+/g," "),n[++r]=decodeURIComponent(o[2]||"").replace(/\+/g," ")}this.paramCache_=n}else this.paramCache_=[]}},u.prototype.setParameterValues=function(t,e){"string"==typeof e&&(e=[e]),this.checkParameterCache_();for(var n=0,r=this.paramCache_,i=[],o=0;o<r.length;o+=2)t===r[o]?n<e.length&&i.push(t,e[n++]):i.push(r[o],r[o+1]);for(;n<e.length;)i.push(t,e[n++]);return this.setAllParameters(i),this},u.prototype.removeParameter=function(t){return this.setParameterValues(t,[])},u.prototype.getAllParameters=function(){return this.checkParameterCache_(),this.paramCache_.slice(0,this.paramCache_.length)},u.prototype.getParameterValues=function(t){this.checkParameterCache_();for(var e=[],n=0;n<this.paramCache_.length;n+=2)t===this.paramCache_[n]&&e.push(this.paramCache_[n+1]);return e},u.prototype.getParameterMap=function(t){this.checkParameterCache_();for(var e={},n=0;n<this.paramCache_.length;n+=2){var r=this.paramCache_[n++],i=this.paramCache_[n++];r in e?e[r].push(i):e[r]=[i]}return e},u.prototype.getParameterValue=function(t){this.checkParameterCache_();for(var e=0;e<this.paramCache_.length;e+=2)if(t===this.paramCache_[e])return this.paramCache_[e+1];return null},u.prototype.getFragment=function(){return this.fragment_&&decodeURIComponent(this.fragment_)},u.prototype.getRawFragment=function(){return this.fragment_},u.prototype.setFragment=function(t){return this.fragment_=t?encodeURIComponent(t):null,this},u.prototype.setRawFragment=function(t){return this.fragment_=t||null,this},u.prototype.hasFragment=function(){return null!==this.fragment_};var f=new RegExp("^(?:([^:/?#]+):)?(?://(?:([^/?#]*)@)?([^/?#:@]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$"),m=/[#\/\?@]/g,h=/[\#\?]/g;return u.parse=t,u.create=function(t,i,o,a,l,s,c){var f=new u(n(t,m),n(i,m),e(o),a>0?a.toString():null,n(l,h),null,e(c));return s&&("string"==typeof s?f.setRawQuery(s.replace(/[^?&=0-9A-Za-z_\-~.%]/g,r)):f.setAllParameters(s)),f},u.resolve=s,u.collapse_dots=l,u.utils={mimeTypeOf:function(e){var n=t(e);return/\.html$/.test(n.getPath())?"text/html":"application/javascript"},resolve:function(e,n){return e?s(t(e),t(n)).toString():""+n}},u}(),rt={atype:{"NONE":0,"URI":1,"URI_FRAGMENT":11,"SCRIPT":2,"STYLE":3,"HTML":12,"ID":4,"IDREF":5,"IDREFS":6,"GLOBAL_NAME":7,"LOCAL_NAME":8,"CLASSES":9,"FRAME_TARGET":10,"MEDIA_QUERY":13}};if(rt.atype=rt.atype,rt.ATTRIBS={"*::class":9,"*::dir":0,"*::draggable":0,"*::hidden":0,"*::id":4,"*::inert":0,"*::itemprop":0,"*::itemref":6,"*::itemscope":0,"*::lang":0,"*::onblur":2,"*::onchange":2,"*::onclick":2,"*::ondblclick":2,"*::onerror":2,"*::onfocus":2,"*::onkeydown":2,"*::onkeypress":2,"*::onkeyup":2,"*::onload":2,"*::onmousedown":2,"*::onmousemove":2,"*::onmouseout":2,"*::onmouseover":2,"*::onmouseup":2,"*::onreset":2,"*::onscroll":2,"*::onselect":2,"*::onsubmit":2,"*::ontouchcancel":2,"*::ontouchend":2,"*::ontouchenter":2,"*::ontouchleave":2,"*::ontouchmove":2,"*::ontouchstart":2,"*::onunload":2,"*::spellcheck":0,"*::style":3,"*::tabindex":0,"*::title":0,"*::translate":0,"a::accesskey":0,"a::coords":0,"a::href":1,"a::hreflang":0,"a::name":7,"a::onblur":2,"a::onfocus":2,"a::shape":0,"a::target":10,"a::type":0,"area::accesskey":0,"area::alt":0,"area::coords":0,"area::href":1,"area::nohref":0,"area::onblur":2,"area::onfocus":2,"area::shape":0,"area::target":10,"audio::controls":0,"audio::loop":0,"audio::mediagroup":5,"audio::muted":0,"audio::preload":0,"audio::src":1,"bdo::dir":0,"blockquote::cite":1,"br::clear":0,"button::accesskey":0,"button::disabled":0,"button::name":8,"button::onblur":2,"button::onfocus":2,"button::type":0,"button::value":0,"canvas::height":0,"canvas::width":0,"caption::align":0,"col::align":0,"col::char":0,"col::charoff":0,"col::span":0,"col::valign":0,"col::width":0,"colgroup::align":0,"colgroup::char":0,"colgroup::charoff":0,"colgroup::span":0,"colgroup::valign":0,"colgroup::width":0,"command::checked":0,"command::command":5,"command::disabled":0,"command::icon":1,"command::label":0,"command::radiogroup":0,"command::type":0,"data::value":0,"del::cite":1,"del::datetime":0,"details::open":0,"dir::compact":0,"div::align":0,"dl::compact":0,"fieldset::disabled":0,"font::color":0,"font::face":0,"font::size":0,"form::accept":0,"form::action":1,"form::autocomplete":0,"form::enctype":0,"form::method":0,"form::name":7,"form::novalidate":0,"form::onreset":2,"form::onsubmit":2,"form::target":10,"h1::align":0,"h2::align":0,"h3::align":0,"h4::align":0,"h5::align":0,"h6::align":0,"hr::align":0,"hr::noshade":0,"hr::size":0,"hr::width":0,"iframe::align":0,"iframe::frameborder":0,"iframe::height":0,"iframe::marginheight":0,"iframe::marginwidth":0,"iframe::width":0,"img::align":0,"img::alt":0,"img::border":0,"img::height":0,"img::hspace":0,"img::ismap":0,"img::name":7,"img::src":1,"img::usemap":11,"img::vspace":0,"img::width":0,"input::accept":0,"input::accesskey":0,"input::align":0,"input::alt":0,"input::autocomplete":0,"input::checked":0,"input::disabled":0,"input::inputmode":0,"input::ismap":0,"input::list":5,"input::max":0,"input::maxlength":0,"input::min":0,"input::multiple":0,"input::name":8,"input::onblur":2,"input::onchange":2,"input::onfocus":2,"input::onselect":2,"input::pattern":0,"input::placeholder":0,"input::readonly":0,"input::required":0,"input::size":0,"input::src":1,"input::step":0,"input::type":0,"input::usemap":11,"input::value":0,"ins::cite":1,"ins::datetime":0,"label::accesskey":0,"label::for":5,"label::onblur":2,"label::onfocus":2,"legend::accesskey":0,"legend::align":0,"li::type":0,"li::value":0,"map::name":7,"menu::compact":0,"menu::label":0,"menu::type":0,"meter::high":0,"meter::low":0,"meter::max":0,"meter::min":0,"meter::optimum":0,"meter::value":0,"ol::compact":0,"ol::reversed":0,"ol::start":0,"ol::type":0,"optgroup::disabled":0,"optgroup::label":0,"option::disabled":0,"option::label":0,"option::selected":0,"option::value":0,"output::for":6,"output::name":8,"p::align":0,"pre::width":0,"progress::max":0,"progress::min":0,"progress::value":0,"q::cite":1,"select::autocomplete":0,"select::disabled":0,"select::multiple":0,"select::name":8,"select::onblur":2,"select::onchange":2,"select::onfocus":2,"select::required":0,"select::size":0,"source::src":1,"source::type":0,"table::align":0,"table::bgcolor":0,"table::border":0,"table::cellpadding":0,"table::cellspacing":0,"table::frame":0,"table::rules":0,"table::summary":0,"table::width":0,"tbody::align":0,"tbody::char":0,"tbody::charoff":0,"tbody::valign":0,"td::abbr":0,"td::align":0,"td::axis":0,"td::bgcolor":0,"td::char":0,"td::charoff":0,"td::colspan":0,"td::headers":6,"td::height":0,"td::nowrap":0,"td::rowspan":0,"td::scope":0,"td::valign":0,"td::width":0,"template::type":0,"textarea::accesskey":0,"textarea::autocomplete":0,"textarea::cols":0,"textarea::disabled":0,"textarea::inputmode":0,"textarea::name":8,"textarea::onblur":2,"textarea::onchange":2,"textarea::onfocus":2,"textarea::onselect":2,"textarea::placeholder":0,"textarea::readonly":0,"textarea::required":0,"textarea::rows":0,"textarea::wrap":0,"tfoot::align":0,"tfoot::char":0,"tfoot::charoff":0,"tfoot::valign":0,"th::abbr":0,"th::align":0,"th::axis":0,"th::bgcolor":0,"th::char":0,"th::charoff":0,"th::colspan":0,"th::headers":6,"th::height":0,"th::nowrap":0,"th::rowspan":0,"th::scope":0,"th::valign":0,"th::width":0,"thead::align":0,"thead::char":0,"thead::charoff":0,"thead::valign":0,"tr::align":0,"tr::bgcolor":0,"tr::char":0,"tr::charoff":0,"tr::valign":0,"track::default":0,"track::kind":0,"track::label":0,"track::srclang":0,"ul::compact":0,"ul::type":0,"video::controls":0,"video::height":0,"video::loop":0,"video::mediagroup":5,"video::muted":0,"video::poster":1,"video::preload":0,"video::src":1,"video::width":0},rt.ATTRIBS=rt.ATTRIBS,rt.eflags={"OPTIONAL_ENDTAG":1,"EMPTY":2,"CDATA":4,"RCDATA":8,"UNSAFE":16,"FOLDABLE":32,"SCRIPT":64,"STYLE":128,"VIRTUALIZED":256},rt.eflags=rt.eflags,rt.ELEMENTS={"a":0,"abbr":0,"acronym":0,"address":0,"applet":272,"area":2,"article":0,"aside":0,"audio":0,"b":0,"base":274,"basefont":274,"bdi":0,"bdo":0,"big":0,"blockquote":0,"body":305,"br":2,"button":0,"canvas":0,"caption":0,"center":0,"cite":0,"code":0,"col":2,"colgroup":1,"command":2,"data":0,"datalist":0,"dd":1,"del":0,"details":0,"dfn":0,"dialog":272,"dir":0,"div":0,"dl":0,"dt":1,"em":0,"fieldset":0,"figcaption":0,"figure":0,"font":0,"footer":0,"form":0,"frame":274,"frameset":272,"h1":0,"h2":0,"h3":0,"h4":0,"h5":0,"h6":0,"head":305,"header":0,"hgroup":0,"hr":2,"html":305,"i":0,"iframe":4,"img":2,"input":2,"ins":0,"isindex":274,"kbd":0,"keygen":274,"label":0,"legend":0,"li":1,"link":274,"map":0,"mark":0,"menu":0,"meta":274,"meter":0,"nav":0,"nobr":0,"noembed":276,"noframes":276,"noscript":276,"object":272,"ol":0,"optgroup":0,"option":1,"output":0,"p":1,"param":274,"pre":0,"progress":0,"q":0,"s":0,"samp":0,"script":84,"section":0,"select":0,"small":0,"source":2,"span":0,"strike":0,"strong":0,"style":148,"sub":0,"summary":0,"sup":0,"table":0,"tbody":1,"td":1,"template":4,"textarea":8,"tfoot":1,"th":1,"thead":1,"time":0,"title":280,"tr":1,"track":2,"tt":0,"u":0,"ul":0,"var":0,"video":0,"wbr":2},rt.ELEMENTS=rt.ELEMENTS,rt.ELEMENT_DOM_INTERFACES={"a":"HTMLAnchorElement","abbr":"HTMLElement","acronym":"HTMLElement","address":"HTMLElement","applet":"HTMLAppletElement","area":"HTMLAreaElement","article":"HTMLElement","aside":"HTMLElement","audio":"HTMLAudioElement","b":"HTMLElement","base":"HTMLBaseElement","basefont":"HTMLBaseFontElement","bdi":"HTMLElement","bdo":"HTMLElement","big":"HTMLElement","blockquote":"HTMLQuoteElement","body":"HTMLBodyElement","br":"HTMLBRElement","button":"HTMLButtonElement","canvas":"HTMLCanvasElement","caption":"HTMLTableCaptionElement","center":"HTMLElement","cite":"HTMLElement","code":"HTMLElement","col":"HTMLTableColElement","colgroup":"HTMLTableColElement","command":"HTMLCommandElement","data":"HTMLElement","datalist":"HTMLDataListElement","dd":"HTMLElement","del":"HTMLModElement","details":"HTMLDetailsElement","dfn":"HTMLElement","dialog":"HTMLDialogElement","dir":"HTMLDirectoryElement","div":"HTMLDivElement","dl":"HTMLDListElement","dt":"HTMLElement","em":"HTMLElement","fieldset":"HTMLFieldSetElement","figcaption":"HTMLElement","figure":"HTMLElement","font":"HTMLFontElement","footer":"HTMLElement","form":"HTMLFormElement","frame":"HTMLFrameElement","frameset":"HTMLFrameSetElement","h1":"HTMLHeadingElement","h2":"HTMLHeadingElement","h3":"HTMLHeadingElement","h4":"HTMLHeadingElement","h5":"HTMLHeadingElement","h6":"HTMLHeadingElement","head":"HTMLHeadElement","header":"HTMLElement","hgroup":"HTMLElement","hr":"HTMLHRElement","html":"HTMLHtmlElement","i":"HTMLElement","iframe":"HTMLIFrameElement","img":"HTMLImageElement","input":"HTMLInputElement","ins":"HTMLModElement","isindex":"HTMLUnknownElement","kbd":"HTMLElement","keygen":"HTMLKeygenElement","label":"HTMLLabelElement","legend":"HTMLLegendElement","li":"HTMLLIElement","link":"HTMLLinkElement","map":"HTMLMapElement","mark":"HTMLElement","menu":"HTMLMenuElement","meta":"HTMLMetaElement","meter":"HTMLMeterElement","nav":"HTMLElement","nobr":"HTMLElement","noembed":"HTMLElement","noframes":"HTMLElement","noscript":"HTMLElement","object":"HTMLObjectElement","ol":"HTMLOListElement","optgroup":"HTMLOptGroupElement","option":"HTMLOptionElement","output":"HTMLOutputElement","p":"HTMLParagraphElement","param":"HTMLParamElement","pre":"HTMLPreElement","progress":"HTMLProgressElement","q":"HTMLQuoteElement","s":"HTMLElement","samp":"HTMLElement","script":"HTMLScriptElement","section":"HTMLElement","select":"HTMLSelectElement","small":"HTMLElement","source":"HTMLSourceElement","span":"HTMLSpanElement","strike":"HTMLElement","strong":"HTMLElement","style":"HTMLStyleElement","sub":"HTMLElement","summary":"HTMLElement","sup":"HTMLElement","table":"HTMLTableElement","tbody":"HTMLTableSectionElement","td":"HTMLTableDataCellElement","template":"HTMLTemplateElement","textarea":"HTMLTextAreaElement","tfoot":"HTMLTableSectionElement","th":"HTMLTableHeaderCellElement","thead":"HTMLTableSectionElement","time":"HTMLTimeElement","title":"HTMLTitleElement","tr":"HTMLTableRowElement","track":"HTMLTrackElement","tt":"HTMLElement","u":"HTMLElement","ul":"HTMLUListElement","var":"HTMLElement","video":"HTMLVideoElement","wbr":"HTMLElement"},rt.ELEMENT_DOM_INTERFACES=rt.ELEMENT_DOM_INTERFACES,rt.ueffects={"NOT_LOADED":0,"SAME_DOCUMENT":1,"NEW_DOCUMENT":2},rt.ueffects=rt.ueffects,rt.URIEFFECTS={"a::href":2,"area::href":2,"audio::src":1,"blockquote::cite":0,"command::icon":1,"del::cite":0,"form::action":2,"img::src":1,"input::src":1,"ins::cite":0,"q::cite":0,"video::poster":1,"video::src":1},rt.URIEFFECTS=rt.URIEFFECTS,rt.ltypes={"UNSANDBOXED":2,"SANDBOXED":1,"DATA":0},rt.ltypes=rt.ltypes,rt.LOADERTYPES={"a::href":2,"area::href":2,"audio::src":2,"blockquote::cite":2,"command::icon":1,"del::cite":2,"form::action":2,"img::src":1,"input::src":1,"ins::cite":2,"q::cite":2,"video::poster":1,"video::src":2},rt.LOADERTYPES=rt.LOADERTYPES,"i"!=="I".toLowerCase())throw"I/i problem";var it=function(t){var e,n;"undefined"!=typeof window&&(e=window.parseCssDeclarations,n=window.sanitizeCssProperty,window.cssSchema);var r={"lt":"<","LT":"<","gt":">","GT":">","amp":"&","AMP":"&","quot":'"',"apos":"'","nbsp":" "},i=/^#(\d+)$/,o=/^#x([0-9A-Fa-f]+)$/,a=/^[A-Za-z][A-Za-z0-9]+$/,l="undefined"!=typeof window&&window.document?window.document.createElement("textarea"):null;function s(t,e){return function(t){if(r.hasOwnProperty(t))return r[t];var e=t.match(i);if(e)return String.fromCharCode(parseInt(e[1],10));if(e=t.match(o))return String.fromCharCode(parseInt(e[1],16));if(l&&a.test(t)){l.innerHTML="&"+t+";";var n=l.textContent;return r[t]=n,n}return"&"+t+";"}(e)}var u=/\0/g,c=/&(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/g,f=/^(#[0-9]+|#[xX][0-9A-Fa-f]+|\w+);/;function m(t){return t.replace(c,s)}var h=/&/g,d=/&([^a-z#]|#(?:[^0-9x]|x(?:[^0-9a-f]|$)|$)|$)/gi,p=/[<]/g,b=/>/g,g=/\"/g;function v(t){return(""+t).replace(h,"&amp;").replace(p,"&lt;").replace(b,"&gt;").replace(g,"&#34;")}function E(t){return t.replace(d,"&amp;$1").replace(p,"&lt;").replace(b,"&gt;")}var T=new RegExp("^\\s*(\\[[-.:\\w]+\\]|[-.:\\w]+)(?:\\s*(=)\\s*((\")[^\"]*(\"|$)|(')[^']*('|$)|(?=[a-z][-\\w]*\\s*=)|[^\"'\\s]*))?","i"),M=3==="a,b".split(/(,)/).length,L=t.eflags.CDATA|t.eflags.RCDATA;function H(t){var e={cdata:t.cdata||t.cdata,comment:t.comment||t.comment,endDoc:t.endDoc||t.endDoc,endTag:t.endTag||t.endTag,pcdata:t.pcdata||t.pcdata,rcdata:t.rcdata||t.rcdata,startDoc:t.startDoc||t.startDoc,startTag:t.startTag||t.startTag};return function(t,n){return function(t,e,n){k(e,function(t){var e=/(<\/|<\!--|<[!?]|[&<>])/g;if(t+="",M)return t.split(e);for(var n,r=[],i=0;null!==(n=e.exec(t));)r.push(t.substring(i,n.index)),r.push(n[0]),i=n.index+n[0].length;return r.push(t.substring(i)),r}(t),0,{noMoreGT:!1,noMoreEndComments:!1},n)}(t,e,n)}}var w={};function y(t,e,n,r,i){return function(){k(t,e,n,r,i)}}function k(e,n,r,i,o){try{var a,l,s;e.startDoc&&0==r&&e.startDoc(o);for(var u=r,c=n.length;u<c;){var m=n[u++],h=n[u];switch(m){case"&":f.test(h)?(e.pcdata&&e.pcdata("&"+h,o,w,y(e,n,u,i,o)),u++):e.pcdata&&e.pcdata("&amp;",o,w,y(e,n,u,i,o));break;case"</":(a=/^([-\w:]+)[^\'\"]*/.exec(h))?a[0].length===h.length&&">"===n[u+1]?(u+=2,s=a[1].toLowerCase(),e.endTag&&e.endTag(s,o,w,y(e,n,u,i,o))):u=x(n,u,e,o,w,i):e.pcdata&&e.pcdata("&lt;/",o,w,y(e,n,u,i,o));break;case"<":if(a=/^([-\w:]+)\s*\/?/.exec(h))if(a[0].length===h.length&&">"===n[u+1]){u+=2,s=a[1].toLowerCase(),e.startTag&&e.startTag(s,[],o,w,y(e,n,u,i,o));var d=t.ELEMENTS[s];d&L&&(u=_(n,{name:s,next:u,eflags:d},e,o,w,i))}else u=A(n,u,e,o,w,i);else e.pcdata&&e.pcdata("&lt;",o,w,y(e,n,u,i,o));break;case"\x3c!--":if(!i.noMoreEndComments){for(l=u+1;l<c&&(">"!==n[l]||!/--$/.test(n[l-1]));l++);if(l<c){if(e.comment){var p=n.slice(u,l).join("");e.comment(p.substr(0,p.length-2),o,w,y(e,n,l+1,i,o))}u=l+1}else i.noMoreEndComments=!0}i.noMoreEndComments&&e.pcdata&&e.pcdata("&lt;!--",o,w,y(e,n,u,i,o));break;case"<!":if(/^\w/.test(h)){if(!i.noMoreGT){for(l=u+1;l<c&&">"!==n[l];l++);l<c?u=l+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;!",o,w,y(e,n,u,i,o))}else e.pcdata&&e.pcdata("&lt;!",o,w,y(e,n,u,i,o));break;case"<?":if(!i.noMoreGT){for(l=u+1;l<c&&">"!==n[l];l++);l<c?u=l+1:i.noMoreGT=!0}i.noMoreGT&&e.pcdata&&e.pcdata("&lt;?",o,w,y(e,n,u,i,o));break;case">":e.pcdata&&e.pcdata("&gt;",o,w,y(e,n,u,i,o));break;case"":break;default:e.pcdata&&e.pcdata(m,o,w,y(e,n,u,i,o))}}e.endDoc&&e.endDoc(o)}catch(t){if(t!==w)throw t}}function x(t,e,n,r,i,o){var a=I(t,e);return a?(n.endTag&&n.endTag(a.name,r,i,y(n,t,e,o,r)),a.next):t.length}function A(t,e,n,r,i,o){var a=I(t,e);return a?(n.startTag&&n.startTag(a.name,a.attrs,r,i,y(n,t,a.next,o,r)),a.eflags&L?_(t,a,n,r,i,o):a.next):t.length}var R={};function _(e,n,r,i,o,a){var l=e.length;R.hasOwnProperty(n.name)||(R[n.name]=new RegExp("^"+n.name+"(?:[\\s\\/]|$)","i"));for(var s=R[n.name],u=n.next,c=n.next+1;c<l&&("</"!==e[c-1]||!s.test(e[c]));c++);c<l&&(c-=1);var f=e.slice(u,c).join("");if(n.eflags&t.eflags.CDATA)r.cdata&&r.cdata(f,i,o,y(r,e,c,a,i));else{if(!(n.eflags&t.eflags.RCDATA))throw new Error("bug");r.rcdata&&r.rcdata(E(f),i,o,y(r,e,c,a,i))}return c}function I(e,n){var r,i,o=/^([-\w:]+)/.exec(e[n]),a={};a.name=o[1].toLowerCase(),a.eflags=t.ELEMENTS[a.name];for(var l=e[n].substr(o[0].length),s=n+1,c=e.length;s<c&&">"!==e[s];s++)l+=e[s];if(!(c<=s)){for(var f=[];""!==l;)if(o=T.exec(l)){if(o[4]&&!o[5]||o[6]&&!o[7]){for(var h=o[4]||o[6],d=!1,p=[l,e[s++]];s<c;s++){if(d){if(">"===e[s])break}else 0<=e[s].indexOf(h)&&(d=!0);p.push(e[s])}if(c<=s)break;l=p.join("");continue}var b=o[1].toLowerCase(),g=o[2]?(void 0,34!==(i=(r=o[3]).charCodeAt(0))&&39!==i||(r=r.substr(1,r.length-2)),m(r.replace(u,""))):"";f.push(b,g),l=l.substr(o[0].length)}else l=l.replace(/^[\s\S][^a-z\s]*/,"");return a.attrs=f,a.next=s+1,a}}function C(e){var n,r,i=function(t,e){r||e.push(t)};return H({"startDoc":function(t){n=[],r=!1},"startTag":function(i,o,a){if(!r&&t.ELEMENTS.hasOwnProperty(i)){var l=t.ELEMENTS[i];if(!(l&t.eflags.FOLDABLE)){var s=e(i,o);if(s){if("object"!=typeof s)throw new Error("tagPolicy did not return object (old API?)");if(!("attribs"in s))throw new Error("tagPolicy gave no attribs");var u,c;if(o=s.attribs,"tagName"in s?(c=s.tagName,u=t.ELEMENTS[c]):(c=i,u=l),l&t.eflags.OPTIONAL_ENDTAG){var f=n[n.length-1];!f||f.orig!==i||f.rep===c&&i===c||a.push("</",f.rep,">")}l&t.eflags.EMPTY||n.push({orig:i,rep:c}),a.push("<",c);for(var m=0,h=o.length;m<h;m+=2){var d=o[m],p=o[m+1];null!=p&&a.push(" ",d,'="',v(p),'"')}a.push(">"),l&t.eflags.EMPTY&&!(u&t.eflags.EMPTY)&&a.push("</",c,">")}else r=!(l&t.eflags.EMPTY)}}},"endTag":function(e,i){if(r)r=!1;else if(t.ELEMENTS.hasOwnProperty(e)){var o=t.ELEMENTS[e];if(!(o&(t.eflags.EMPTY|t.eflags.FOLDABLE))){var a;if(o&t.eflags.OPTIONAL_ENDTAG)for(a=n.length;--a>=0;){var l=n[a].orig;if(l===e)break;if(!(t.ELEMENTS[l]&t.eflags.OPTIONAL_ENDTAG))return}else for(a=n.length;--a>=0&&n[a].orig!==e;);if(a<0)return;for(var s=n.length;--s>a;){var u=n[s].rep;t.ELEMENTS[u]&t.eflags.OPTIONAL_ENDTAG||i.push("</",u,">")}a<n.length&&(e=n[a].rep),n.length=a,i.push("</",e,">")}}},"pcdata":i,"rcdata":i,"cdata":i,"endDoc":function(t){for(;n.length;n.length--)t.push("</",n[n.length-1].rep,">")}})}var O=/^(?:https?|geo|mailto|sms|tel)$/i;function S(t,e,n,r,i){if(!i)return null;try{var o=nt.parse(""+t);if(o&&(!o.hasScheme()||O.test(o.getScheme()))){var a=i(o,e,n,r);return a?a.toString():null}}catch(t){return null}return null}function j(t,e,n,r,i){if(n||t(e+" removed",{change:"removed",tagName:e}),r!==i){var o="changed";r&&!i?o="removed":!r&&i&&(o="added"),t(e+"."+n+" "+o,{change:o,tagName:e,attribName:n,oldValue:r,newValue:i})}}function U(t,e,n){var r;return r=e+"::"+n,t.hasOwnProperty(r)?t[r]:(r="*::"+n,t.hasOwnProperty(r)?t[r]:void 0)}function D(e,n){return U(t.LOADERTYPES,e,n)}function P(e,n){return U(t.URIEFFECTS,e,n)}function $(r,i,o,a,l){for(var s=0;s<i.length;s+=2){var u,c=i[s],f=i[s+1],m=f,h=null;if(u=r+"::"+c,(t.ATTRIBS.hasOwnProperty(u)||(u="*::"+c,t.ATTRIBS.hasOwnProperty(u)))&&(h=t.ATTRIBS[u]),null!==h)switch(h){case t.atype.NONE:break;case t.atype.SCRIPT:f=null,l&&j(l,r,c,m,f);break;case t.atype.STYLE:if(void 0===e){f=null,l&&j(l,r,c,m,f);break}var d=[];e(f,{"declaration":function(e,r){var i=e.toLowerCase();n(i,r,o?function(e){return S(e,t.ueffects.SAME_DOCUMENT,t.ltypes.SANDBOXED,{"TYPE":"CSS","CSS_PROP":i},o)}:null),r.length&&d.push(i+": "+r.join(" "))}}),f=d.length>0?d.join(" ; "):null,l&&j(l,r,c,m,f);break;case t.atype.ID:case t.atype.IDREF:case t.atype.IDREFS:case t.atype.GLOBAL_NAME:case t.atype.LOCAL_NAME:case t.atype.CLASSES:f=a?a(f):f,l&&j(l,r,c,m,f);break;case t.atype.URI:f=S(f,P(r,c),D(r,c),{"TYPE":"MARKUP","XML_ATTR":c,"XML_TAG":r},o),l&&j(l,r,c,m,f);break;case t.atype.URI_FRAGMENT:f&&"#"===f.charAt(0)?(f=f.substring(1),null!=(f=a?a(f):f)&&(f="#"+f)):f=null,l&&j(l,r,c,m,f);break;default:f=null,l&&j(l,r,c,m,f)}else f=null,l&&j(l,r,c,m,f);i[s+1]=f}return i}function N(e,n,r){return function(i,o){if(!(t.ELEMENTS[i]&t.eflags.UNSAFE))return{"attribs":$(i,o,e,n,r)};r&&j(r,i,void 0,void 0,void 0)}}function F(t,e){var n=[];return C(e)(t,n),n.join("")}var q={};return q.escapeAttrib=q.escapeAttrib=v,q.makeHtmlSanitizer=q.makeHtmlSanitizer=C,q.makeSaxParser=q.makeSaxParser=H,q.makeTagPolicy=q.makeTagPolicy=N,q.normalizeRCData=q.normalizeRCData=E,q.sanitize=q.sanitize=function(t,e,n,r){return F(t,N(e,n,r))},q.sanitizeAttribs=q.sanitizeAttribs=$,q.sanitizeWithPolicy=q.sanitizeWithPolicy=F,q.unescapeEntities=q.unescapeEntities=m,q}(rt),ot=(it.sanitize,it),at={"br":!0,"col":!0,"hr":!0,"img":!0,"input":!0,"source":!0,"track":!0,"wbr":!0,"area":!0,"base":!0,"command":!0,"embed":!0,"keygen":!0,"link":!0,"meta":!0,"param":!0},lt=/^(data-|aria-)|^role$/i;function st(t,e){const n=ot.makeTagPolicy((t=>"https"===t.getScheme()?t:null)),i=[];let o=0;const a=t=>{0==o&&i.push(t)},l=r({"script":!0,"svg":!0},$);return ot.makeSaxParser({"startTag":function(t,r){if(o>0)return void(at[t]||o++);const i=t.startsWith("amp-"),s=[];for(let t=0;t<r.length;t+=2){const e=r[t];if(!e)continue;const n="["==e[0]&&"]"==e[e.length-1],i=e.startsWith(P);n&&(r[t]=e.slice(1,-1)),(n||i)&&s.push(t)}if(l[t])o++;else if(i)H(e)&&!N[t]&&o++;else{const e=r.slice(0),i=n(t,r);if(i){r=i.attribs;for(let n=0;n<r.length;n+=2){const i=r[n];(z.includes(i)||0==i.search(lt)||B[t]&&B[t].includes(i))&&(r[n+1]=e[n+1])}}else o++;if("a"==t){let t=-1,n=!1;for(let i=0;i<e.length;i+=2)"target"==e[i]?t=i+1:"href"==e[i]&&(n=null!=r[i+1]);let i=-1!=t?e[t]:null;null!=i?(i=i.toLowerCase(),-1!=V.indexOf(i)?r[t]=i:r[t]="_top"):n&&r.push("target","_top")}}if(o>0)at[t]&&o--;else{s.some((t=>!!r[t+1]))&&r.push("i-amphtml-binding",""),a("<"),a(t);for(let n=0;n<r.length;n+=2){const i=r[n],o=r[n+1];if(et(t,i,o,e,!1)){if(a(" "),s.includes(n)&&!i.startsWith(P)?a(`[${i}]`):a(i),a('="'),o){const e=s.includes(n)?o:j(t,i,o);a(ot.escapeAttrib(e))}a('"')}else p().error("sanitizer",`Removing "${i}" attribute with invalid value in <${t} ${i}="${o}">.`)}a(">")}},"endTag":function(t){o>0?o--:(a("</"),a(t),a(">"))},"pcdata":a,"rcdata":a,"cdata":a})(t),i.join("")}t.registerTemplate("amp-mustache",class extends class{constructor(t,e){var n,r;this.element=t,this.win=t.ownerDocument.defaultView||e,this.br=(n=this.element,r="viewer",L(function(t){const e=M(t);return e.isSingleDoc()?e.win:e}(M(n)),r)),this.compileCallback()}compileCallback(){}setHtml(t){}render(t){}renderAsString(t){}xS(t,e){for(let n=t.firstChild;null!=n;n=n.nextSibling)if(3==n.nodeType){const t=n.textContent.trim();t&&e(t)}else 8==n.nodeType||s(n)&&e(n)}tryUnwrap(t){let e;return this.xS(t,(t=>{e=void 0===e&&t.nodeType?t:null})),e||t}unwrapChildren(t){const e=[];return this.xS(t,(t=>{if("string"==typeof t){const n=this.win.document.createElement("div");n.textContent=t,e.push(n)}else e.push(t)})),e}viewerCanRenderTemplates(){return this.br.hasCapability("viewerRenderTemplate")}}{constructor(t,e){super(t,e),T.setUnescapedSanitizer((t=>function(t,e){return ot.sanitizeWithPolicy(t,((t,n)=>function(t,e,n){if("template"==t)for(let n=0;n<e.length;n+=2)if("type"==e[n]&&"amp-mustache"==e[n+1])return{tagName:t,attribs:["type","amp-mustache"]};if(H(n)){if(!q.includes(t))return null}else if(!F.includes(t))return null;return{tagName:t,attribs:e}}(t,n,e)))}(t,this.win.document)))}compileCallback(){this.viewerCanRenderTemplates()||(this.RS={},this.zS=this.MS(),T.parse(this.zS,void 0))}MS(){if("TEMPLATE"==this.element.tagName){const t=function(t){if("content"in t)return t.content.cloneNode(!0);{const e=t.ownerDocument.createDocumentFragment();return function(t,e){const n=e.ownerDocument.createDocumentFragment();for(let e=t.firstChild;e;e=e.nextSibling)n.appendChild(e.cloneNode(!0));e.appendChild(n)}(t,e),e}}(this.element);this.DS(t);const e=this.element.ownerDocument.createElement("div");return e.appendChild(t),e.innerHTML}return"SCRIPT"==this.element.tagName?this.element.textContent:""}DS(t){t.querySelectorAll("template").forEach(((t,e)=>{const n=`__AMP_NESTED_TEMPLATE_${e}`;this.RS[n]=t.outerHTML;const r=this.element.ownerDocument.createTextNode(`{{{${n}}}}`);t.parentNode.replaceChild(r,t)}))}setHtml(t){const e=`<div>${t}</div>`,n=this.tL(e);return this.unwrapChildren(n)}render(t){const e=this.Zu(t);return this.tL(e)}renderAsString(t){return st(this.Zu(t),this.win.document)}Zu(t){let e=t;return"object"==typeof t&&(e=r(r({},t),this.RS)),T.render(this.zS,e,void 0)}tL(t){const e=this.win.document,n=e.createElement("div"),r=st(t,e);return n.innerHTML=r,this.tryUnwrap(n)}})})();
/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-mustache-0.1.mjs.map
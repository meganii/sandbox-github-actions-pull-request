{"version":3,"file":"amp-mraid-0.1.js","mappings":"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","names":["Array","isArray","_Object$prototype","Object","prototype","hasOwnProperty","toString","QUERY_STRING_REGEX","component","fallback","arguments","decodeURIComponent","e","opt_win","location","self","queryString","match","params","create","exec","name","tryDecodeUriComponent","value","replace","parseQueryString","hash","rtvVersion","win","AMP_CONFIG","v","opt_hashParams","devParam","getHashParams","includes","AMP_DEV_MODE","__AMP_LOG","user","dev","userForEmbed","logs","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","Deferred","this","promise","Promise","res","rej","_this","resolve","reject","nodeOrDoc","id","constructor","opt_instantiate","ampdoc","getAmpdoc","holder","getAmpdocServiceHolder","context","ctor","opt_override","opt_sharedInstance","services","getServices","s","obj","sharedInstance","getServiceInternal","registerServiceInternal","error","emptyServiceHolderWithPromise","rejectServicePromiseInternal","elementOrAmpDoc","cached","getServicePromiseOrNullInternal","getServicePromiseInternal","nodeType","node","ownerDocument","defaultView","__AMP_TOP","getTopWindow","getService","getAmpDoc","isSingleDoc","devAssert","service","__AMP_SERVICES","isServiceRegistered","deferred","catch","ServiceNames","HostServices","isAvailable","nodeOrAmpdoc","getHeadNode","querySelector","HostServices2","visibilityForDoc","getServicePromiseForDoc","installVisibilityServiceForDoc","impl","registerServiceBuilderForDoc","rejectVisibilityServiceForDoc","rejectServicePromiseForDoc","fullscreenForDoc","installFullscreenServiceForDoc","rejectFullscreenServiceForDoc","exitForDoc","installExitServiceForDoc","rejectExitServiceForDoc","MraidService","mraid","mraid_","expanded_","onVisibilityChange","callback","addEventListener","exposedPercentage","visibleRectangle","unusedOcclusionRectangles","left","top","width","height","visibleRect","x","y","bottom","right","visibleRatio","_proto","enterFullscreenOverlay","unusedTargetElement","expand","exitFullscreenOverlay","close","openUrl","url","open","MraidService2","TAG","MraidInitializer","ampdoc_","registeredWithHostServices_","fallback_","ampMraidScripts","querySelectorAll","length","getAttribute","__AMP_MODE","localDev","development","isModeDevelopment","esm","test","getRtvVersion","ssrReady","getMode_","runtime","fine","handleMismatch_","mraidJs","document","createElement","setAttribute","urls","cdn","mraidLoadSuccess_","getElementsByTagName","item","appendChild","mraidReady_","mraidService","window","getState","_this2","MraidInitializer2","AMP","registerServiceForDoc"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/core/types/array.js","src/core/types/object/index.js","src/core/types/string/url.js","src/mode.js","src/core/mode/version.js","src/utils/log.js","src/core/data-structures/promise.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/inabox/host-services.js","extensions/amp-mraid/0.1/mraid-service.js","src/core/dom/layout/rect.js","extensions/amp-mraid/0.1/amp-mraid.js","src/core/mode/local-dev.js","src/core/mode/esm.js","src/core/mode/test.js","src/core/mode/ssr-css.js"]}

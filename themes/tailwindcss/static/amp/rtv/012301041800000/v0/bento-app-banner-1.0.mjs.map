{"version":3,"file":"bento-app-banner-1.0.mjs","mappings":"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","names":["PreactBaseElement","obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","hasOwn_","toString","toString_","prototype","root","selector","querySelector","distribute","replace","prependSelectorsWith","el","matches","createElement","useEffect","ContainWrapper","useCallback","logger","info","console","warn","error","platformUtils","isAndroid","test","self","navigator","userAgent","isIos","isSafari","this","isChrome","isEdge","isFirefox","isOpera","isWebKit","isWindows","isStandalone","standalone","matchMedia","isBot","getMajorVersion","getIosMajorVersion","evalMajorVersion_","expr","index","res","match","parseInt","getIosVersionString","currentIosVersion","Number","split","INVALID_PROTOCOLS","urlUtils","getAnchor_","anchor_","document","parse","url","anchor","href","URL","isProtocolValid","parsed","includes","protocol","assertHttpsUrl","sourceName","isSecureUrl","Error","hostname","_parsed$hostname","endsWith","docInfo","getMetaByName","metaName","metas","head","querySelectorAll","from","find","meta","getAttribute","sourceUrl","location","canonicalUrl","rootNode","AMP","_rootNode$AMP","canonicalTag","xhrUtils","fetchJson","init","fetch","then","json","response","ok","statusText","__AMP_LOG","user","dev","userForEmbed","logs","win","opt_features","open","e","levelFunc","opt_suffix","callLogConstructor","string","start","indexOf","manifestLink","manifestHref","undefined","promise","parseManifest","openOrInstall","manifest","installAppUrl","openInAppUrl","setTimeout","static","top","referrer","language","devicePixelRatio","sendBeacon","bind","XMLHttpRequest","Image","getTop","window","assign","openWindowDialog","manifestJson","apps","playApp","a","appId","parsedUrl","cleanProtocol","host","pathname","getAndroidIntentForUrl","metaContent","config","reduce","result","keyValue","parseKeyValues","openUrl","parseIOSMetaContent","children","dismissButtonAriaLabel","onDismiss","onInstall","_ref","rest","excluded","sourceKeys","_objectWithoutPropertiesLoose","bannerRef","useRef","button","current","slot","nodes","assignedElements","node","child","scopedQuerySelector","querySelectorInSlot","addEventListener","removeEventListener","_objectSpread2","class","ref","onClick","props","appInfo","useMemo","getIOSAppInfo","AppBanner","getAndroidAppInfo","BaseElement","id","isDismissed","setDismissed","defaultValue","setValue","useState","localStorage","_self$localStorage","getItem","JSON","err","newValue","stringify","setItem","useLocalStorage","AppBannerForCurrentPlatform","AppBannerIOS","AppBannerAndroid","passthrough","attr","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["extensions/amp-app-banner/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/query.js","src/core/dom/css-selectors.js","extensions/amp-app-banner/1.0/component.js","src/preact/hooks/useLocalStorage.ts","src/preact/logger.js","src/preact/utils/platform.js","src/core/types/string/url.js","src/preact/utils/url.js","src/preact/utils/docInfo.js","src/preact/utils/xhr.js","src/utils/log.js","src/open-window-dialog.js","src/core/types/string/index.js","extensions/amp-app-banner/1.0/utils/android.js","src/core/window/interface.js","extensions/amp-app-banner/1.0/utils/ios.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","extensions/amp-app-banner/1.0/build/bento-app-banner.js"]}

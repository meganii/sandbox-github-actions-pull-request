;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-tiktok",ev:"0.1",l:!0,f:function(t,i){(()=>{var i,n,{hasOwnProperty:e,toString:o}=Object.prototype;function r(t,i,n,e,o,r,l,s,c,h,a){return t}function l(t){r(/^[\w-]+$/.test(t))}function s(t,i){return t.querySelector(function(t,i){return t.replace(/^|,/g,"$&:scope ")}(i))}function c(t,i,n){return function(t,i){for(const n in i)t.setAttribute(n,i[n]);return t}(t.createElement(i),n)}function h(t){return function(t,i){if(r(1===i.length),r(Array.isArray(i)||(n=i,e.call(n,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){const n=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return i[0]}});t.innerHTML=n.createHTML("ignored")}else t.innerHTML=i[0];var n;const o=t.firstElementChild;return r(o),r(!o.nextElementSibling),t.removeChild(o),o}(i,t)}var a,u=["Webkit","webkit","Moz","moz","ms","O","o"];function f(t,i,e,o,r){const l=function(t,i,e){if(i.startsWith("--"))return i;n||(n=Object.create(null));let o=n[i];if(!o||e){if(o=i,void 0===t[i]){const n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),e=function(t,i){for(let n=0;n<u.length;n++){const e=u[n]+i;if(void 0!==t[e])return e}return""}(t,n);void 0!==t[e]&&(o=e)}e||(n[i]=o)}return o}(t.style,i,r);if(!l)return;const s=o?e+o:e;t.style.setProperty(function(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return u.some((t=>i.startsWith(t+"-")))?`-${i}`:i}(l),s)}function p(t,i){for(const n in i)f(t,n,i[n])}function d(t){return`${t}px`}function m(t,i,n,e,o,r,l,s,c,h,a){return t}function v(t,i){return k(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function k(t,i){m(function(t,i){const n=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!n||!n.ctor)}(t,i));const n=function(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}(t)[i];return n.obj||(m(n.ctor),m(n.context),n.obj=new n.ctor(n.context),m(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var g=['<svg width=38 height=38 viewBox="0 0 72 72" fill=none style="margin: 17px;" xmlns=http://www.w3.org/2000/svg><path d="M22.96.04C25.35 0 27.72.02 30.09 0c.14 2.8 1.14 5.67 3.18 7.65 2.04 2.03 4.93 2.96 7.73 3.28v7.38a19.26 19.26 0 01-10.6-3.48c-.02 5.36.01 10.7-.04 16.04a14.01 14.01 0 01-2.47 7.23 13.55 13.55 0 01-10.77 5.88A13.2 13.2 0 019.7 42.1a13.82 13.82 0 01-6.65-10.47c-.04-.92-.06-1.84-.02-2.73a13.77 13.77 0 014.7-9.1 13.5 13.5 0 0111.21-3.16c.04 2.72-.07 5.43-.07 8.15a6.32 6.32 0 00-5.5.68 6.35 6.35 0 00-2.49 3.2c-.38.94-.27 1.97-.25 2.96.44 3 3.31 5.53 6.38 5.26a6.14 6.14 0 005.05-2.95c.34-.6.73-1.23.75-1.95.18-3.28.1-6.54.13-9.82.01-7.4-.02-14.76.03-22.13z" fill=#fff></path></svg>'],w=['<svg width=38 height=38 viewBox="0 0 72 72" fill=none style="margin: 17px;"><g clip-path=url(#clip0)><path d="M30.976 15.93a17.366 17.366 0 0010.122 3.233v-7.25a10.26 10.26 0 01-2.126-.223v5.708a17.37 17.37 0 01-10.121-3.234v14.797c0 7.402-6.011 13.402-13.425 13.402-2.767 0-5.338-.834-7.474-2.267a13.395 13.395 0 009.599 4.033c7.415 0 13.426-6 13.426-13.403V15.93zM33.6 8.614a10.098 10.098 0 01-2.623-5.916v-.933h-2.014a10.151 10.151 0 004.637 6.85zM12.64 34.416a6.099 6.099 0 01-1.252-3.711c0-3.386 2.749-6.13 6.14-6.13.633 0 1.261.096 1.864.287v-7.413a13.565 13.565 0 00-2.125-.122v5.77a6.154 6.154 0 00-1.864-.288 6.129 6.129 0 00-2.763 11.607z" fill=#FF004F></path><path d="M28.85 14.164a17.37 17.37 0 0010.122 3.234V11.69a10.165 10.165 0 01-5.374-3.076 10.151 10.151 0 01-4.636-6.849H23.67v28.96a6.137 6.137 0 01-6.142 6.11 6.136 6.136 0 01-4.888-2.419 6.13 6.13 0 012.763-11.606c.65 0 1.276.1 1.863.287v-5.77c-7.284.15-13.142 6.092-13.142 13.399 0 3.648 1.46 6.955 3.827 9.37a13.378 13.378 0 007.474 2.268c7.414 0 13.425-6 13.425-13.403V14.164z" fill=#000></path><path d="M38.973 11.69v-1.543c-1.9.003-3.763-.528-5.374-1.533a10.154 10.154 0 005.374 3.076zM28.962 1.765a10.326 10.326 0 01-.111-.832V0h-7.306v28.96a6.136 6.136 0 01-6.141 6.11 6.125 6.125 0 01-2.763-.654 6.136 6.136 0 004.889 2.42 6.137 6.137 0 006.14-6.11V1.766h5.292zM17.268 17.327v-1.643a13.576 13.576 0 00-1.842-.125C8.01 15.56 2 21.56 2 28.961c0 4.64 2.362 8.73 5.952 11.135a13.345 13.345 0 01-3.826-9.37c0-7.307 5.858-13.249 13.142-13.4z" fill=#00F2EA></path></g><defs><clipPath id=clip0><path fill=#fff d="M0 0h44v44H0z"></path></clipPath></defs></svg>'],b=0,x=class extends t.BaseElement{constructor(t){super(t),this.Lv=null,this.Mq=null,this.dw=null,this.oz=null,this.rz=null,this.lz=null,this.sz=this.cz(),this.hz=775.25,this.az=t=>{!function(t,i){for(let n=0;n<i.length;n++)f(t,i[n],null)}(this.Lv,["width","height","position","opacity","pointer-events"]),this.Lv.removeAttribute("aria-hidden"),this.Lv.title=this.element.title||"TikTok",this.Lv.classList.remove("i-amphtml-tiktok-unresolved"),this.Lv.classList.add("i-amphtml-tiktok-centered"),this.forceChangeHeight(t)},this.uz=function(t,i,n){let e=0,o=0,r=null;function l(){e=0;const n=1e3-(t.Date.now()-o);var s;n>0?e=t.setTimeout(l,n):(s=r,r=null,i.apply(null,s))}return function(...i){o=t.Date.now(),r=i,e||(e=t.setTimeout(l,1e3))}}(this.win,(t=>{this.az(t)}))}static createLoaderLogoCallback(t){const n=function(t){const n=t.ownerDocument||t;return i&&i.ownerDocument===n||(i=n.createElement("div")),h}(t);var e;return e=t,l("placeholder"),s(e,"> [placeholder]")?{color:"#FFFFFF",content:n(g)}:{color:"#FFFFFF",content:n(w)}}preconnectCallback(t){var i;(i=this.win,v(i,"preconnect")).url(this.getAmpDoc(),"https://www.tiktok.com",t)}buildCallback(){const{src:t}=this.element.dataset;if(t){const i=/^((.+\/)?)(\d+)\/?$/;this.Mq=t.replace(i,"$3"),this.oz=this.Mq===t?null:t}else{var i,n;const t=(e=this.element,l("blockquote"),s(e,"> blockquote"));if(!t||!t.hasAttribute("placeholder")||!t.dataset.videoId)return;this.Mq=null==t||null===(i=t.dataset)||void 0===i?void 0:i.videoId,this.oz=null==t||null===(n=t.dataset)||void 0===n?void 0:n.cite}var e}layoutCallback(){const{locale:t="en-US"}=this.element.dataset,i=`https://www.tiktok.com/embed/v2/${encodeURIComponent(this.Mq)}?lang=${encodeURIComponent(t)}`,n=c(this.element.ownerDocument,"iframe",{"src":i,"name":this.sz,"aria-hidden":"true","frameborder":"0","class":"i-amphtml-tiktok-unresolved"});this.Lv=n,this.dw=function(t,i,n,e){let o=t,r=n,l=t=>{try{return r(t)}catch(t){var i,n;throw null===(i=(n=self).__AMP_REPORT_ERROR)||void 0===i||i.call(n,t),t}};const s=function(){if(void 0!==a)return a;a=!1;try{const t={get capture(){return a=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return a}();return o.addEventListener(i,l,!!s&&e),()=>{null==o||o.removeEventListener(i,l,!!s&&e),r=null,o=null,l=null}}(this.win,"message",this.fz.bind(this),void 0);const{promise:e,resolve:o}=new class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}};return this.lz=o,Promise.resolve(this.rz).then((t=>{null!=t&&t.title&&(n.title=`TikTok: ${t.title}`)})),this.element.appendChild(n),this.loadPromise(n).then((()=>{var t;(t=this.win,k(t,"timer")).timeoutPromise(1e3,e).catch((()=>{this.az(this.hz),p(this.Lv,{"width":d(325),"height":d(this.hz)})}))}))}fz(t){if("https://www.tiktok.com"!=t.origin||t.source!=this.Lv.contentWindow)return;const i=function(t,i){try{return function(t){return JSON.parse(t)}(t)}catch(t){return null}}(function(t){return t.data}(t));i&&i.height&&(this.lz&&this.lz(),this.uz(i.height),p(this.Lv,{"width":d(i.width),"height":d(i.height)}))}createPlaceholderCallback(){if(!this.oz)return;const t=c(this.element.ownerDocument,"div",{"placeholder":""}),i=c(this.element.ownerDocument,"div",{"class":"i-amphtml-tiktok-placeholder-image-container"}),n=encodeURIComponent(this.oz);return this.rz=(e=this.win,v(e,"xhr")).fetchJson(`https://www.tiktok.com/oembed?url=${n}`).then((t=>t.json())).then((n=>{const{"thumbnail_url":e}=n;if(e){const n=c(this.element.ownerDocument,"img",{"src":e,"placeholder":e,"class":"i-amphtml-tiktok-centered i-amphtml-tiktok-placeholder-image"});t.parentElement&&(i.appendChild(n),t.appendChild(i))}return n})),t;var e}unlayoutCallback(){var t,i;return this.Lv&&(null===(i=(t=this.Lv).parentElement)||void 0===i||i.removeChild(t),this.Lv=null),this.dw&&this.dw(),!0}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}cz(){let t=(b++).toString();for(;t.length<17;)t="0"+t;return"__tt_embed__v"+t}};t.registerElement("amp-tiktok",x,".i-amphtml-tiktok-centered{height:100%;left:50%;width:325px;transform:translateX(-50%);position:absolute}.i-amphtml-tiktok-unresolved{position:fixed;opacity:0;pointer-events:none;width:325px;height:1000px}.i-amphtml-tiktok-placeholder-image{height:578px;top:1px;border-radius:8px 8px 0px 0px}.i-amphtml-tiktok-placeholder-image-container{height:100%;background:hsla(0,0%,86%,0.6)}\n/*# sourceURL=/extensions/amp-tiktok/0.1/amp-tiktok.css*/")})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-tiktok-0.1.mjs.map
;
import t from"./bento-mustache-1.0.mjs";function e(t,e){const n=[];let o=0;for(let r=0;r<t.length;r++){const i=t[r];e(i,r,t)?n.push(i):(o<r&&(t[o]=i),o++)}return o<t.length&&(t.length=o),n}function n(t,e){return e.toUpperCase()}var{hasOwnProperty:o,toString:r}=Object.prototype;function i(t){return 1==(null==(e=t)?void 0:e.nodeType)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t;var e}function a(t,n,o,r,a,s,u,m,l,c,f){return function(t,n,o="Assertion failed",r){var a,s;if(n)return n;t&&-1==o.indexOf(t)&&(o+=t);let u=3;const m=o.split("%s");let l=m.shift();const c=[l];for(;m.length;){const t=arguments[u++],e=m.shift();l+=i(t)+e,c.push(t,e.trim())}const f=new Error(l);throw f.messageArray=e(c,(t=>""!==t)),null===(a=(s=self).__AMP_REPORT_ERROR)||void 0===a||a.call(s,f),f}("​​​",t,n,o,r,a,s,u,m,l,c,f)}import{defineBentoElement as s}from"../bento.mjs";function u(t){if(!t)return null;if("now"===t.toLowerCase())return Date.now();const e=Date.parse(t);return isNaN(e)?null:e}var m={"datetime":t=>{const e=u(t);return a(e,"Invalid date: %s",t),e},"end-date":t=>{const e=u(t);return a(e,"Invalid date: %s",t),e},"timeleft-ms":t=>Date.now()+Number(t),"timestamp-ms":t=>Number(t),"timestamp-seconds":t=>1e3*Number(t)};import{PreactBaseElement as l}from"../bento.mjs";function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}import{createElement as h}from"../bento.mjs";import{Slot as p,createSlot as b}from"../bento.mjs";import{createElement as v}from"../bento.mjs";import{useMemo as y}from"../bento.mjs";import{Wrapper as j}from"../bento.mjs";import{useLayoutEffect as g,useState as w}from"../bento.mjs";import{useCallback as N,useLayoutEffect as O}from"../bento.mjs";import{useAmpContext as T}from"../bento.mjs";self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var S=self.__AMP_LOG;function Z(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function D(t,e,n,o="long"){var r,i;if(null===(r=Intl)||void 0===r||!r.DateTimeFormat)return"";const a=new Intl.DateTimeFormat(e,{timeZone:null==n?void 0:n.timeZone,timeZoneName:o}),s=(null===(i=a.formatToParts)||void 0===i?void 0:i.call(a,t))||[];for(const t of s)if("timeZoneName"===t.type)return t.value;return""}var I=["datetime","displayIn","locale","localeOptions","render"],C="local",k="en",E={"year":"numeric","month":"short","day":"numeric","hour":"numeric","minute":"numeric"},U=t=>t.localeString;function P(t){return t>9?t.toString():"0"+t}function _(t,e,n){try{return t.toLocaleString(e,n)}catch(t){(S.user||(S.user=Z()),void S.user.win?S.userForEmbed||(S.userForEmbed=Z()):S.user).error("amp-date-display","localeOptions",t)}}var A=class extends l{};A.Component=function(t){let{datetime:e,displayIn:n=C,locale:o=k,localeOptions:r,render:i=U}=t,a=function(t,e){if(null==t)return{};var n,o,r={},i=Object.keys(t);for(o=0;o<i.length;o++)n=i[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,I);const s=(m=e)?"number"==typeof m?m:"string"==typeof m?u(m):(m=m).getTime():null;var m;const l=y((()=>function(t,e,n,o){return function(t){const e=t.hour%12||12;return d(d({},t),{},{"yearTwoDigit":P(t.year%100),"monthTwoDigit":P(t.month),"dayTwoDigit":P(t.day),"hourTwoDigit":P(t.hour),"hour12":e,"hour12TwoDigit":P(e),"minuteTwoDigit":P(t.minute),"secondTwoDigit":P(t.second),"dayPeriod":t.hour<12?"am":"pm"})}("utc"===e.toLowerCase()?function(t,e,n=E){const o=d(d({},n),{},{timeZone:"UTC"});return{"year":t.getUTCFullYear(),"month":t.getUTCMonth()+1,"monthName":t.toLocaleDateString(e,{month:"long",timeZone:"UTC"}),"monthNameShort":t.toLocaleDateString(e,{month:"short",timeZone:"UTC"}),"day":t.getUTCDate(),"dayName":t.toLocaleDateString(e,{weekday:"long",timeZone:"UTC"}),"dayNameShort":t.toLocaleDateString(e,{weekday:"short",timeZone:"UTC"}),"hour":t.getUTCHours(),"minute":t.getUTCMinutes(),"second":t.getUTCSeconds(),"iso":t.toISOString(),"localeString":_(t,e,o),"timeZoneName":D(t,e,o),"timeZoneNameShort":D(t,e,o,"short")}}(t,n,o):function(t,e,n=E){return{"year":t.getFullYear(),"month":t.getMonth()+1,"monthName":t.toLocaleDateString(e,{month:"long"}),"monthNameShort":t.toLocaleDateString(e,{month:"short"}),"day":t.getDate(),"dayName":t.toLocaleDateString(e,{weekday:"long"}),"dayNameShort":t.toLocaleDateString(e,{weekday:"short"}),"hour":t.getHours(),"minute":t.getMinutes(),"second":t.getSeconds(),"iso":t.toISOString(),"localeString":_(t,e,n),"timeZoneName":D(t,e,n),"timeZoneNameShort":D(t,e,n,"short")}}(t,n,o))}(new Date(s),n,o,r)),[s,n,o,r]),c=function(t,e){const[n,o]=w(null);return g((()=>{const n=t&&t(e)||null;if("function"==typeof(null==(r=n)?void 0:r.then)){let t=!1;return n.then((e=>{t||o(e)})),()=>{t=!0}}var r;o(n)}),[t,e]),n}(i,l),f=c&&"object"==typeof c&&"__html"in c;return function(){const{notify:t}=T();O((()=>{t&&t()}))}(),v(j,d(d({},a),{},{as:"div",datetime:l.iso,dangerouslySetInnerHTML:f?c:null}),f?null:c)},A.props={"datetime":{attrs:["datetime","timestamp-ms","timestamp-seconds","offset-seconds"],parseAttrs:function(t){return function(t,e){const n=function(t,e){const n=e.map((t=>m[t]));for(let o=0;o<e.length;++o){const r=t.getAttribute(e[o]);if(r)return n[o](r)}return null}(t,e);return a(n,"One of attributes [%s] is required",e.join(", ")),n+1e3*(Number(t.getAttribute("offset-seconds"))||0)}(t,["datetime","timestamp-ms","timestamp-seconds"])}},"displayIn":{attr:"display-in"},"locale":{attr:"locale"},"localeOptions":function(t){const e=e=>(null==e?void 0:e.startsWith(t))&&e!==t;return{"attrMatches":e,"parseAttrs":o=>{let r;const i=o.attributes;for(let o=0;o<i.length;o++){const s=i[o];e(s.name)&&(r||(r={}),r[(a=s.name.slice(t.length),a.replace(/-([a-z])/g,n))]=s.value)}var a;return r}}}("data-options-")},A.layoutSizeDefined=!0,A.lightDomTag="div",A.usesTemplate=!0,s("bento-date-display",class extends A{checkPropsPostMutations(){const e=function(t,e="template"){if(t.hasAttribute(e)){const o=t.getAttribute(e);return Boolean(o)?t.ownerDocument.querySelector(`template#${n=o,CSS.escape(n)}`):null}var n;return t.querySelector("template")}(this.element);e&&this.mutateProps({"render":n=>({"__html":t.render(e.innerHTML,n)})})}},void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-date-display-1.0.mjs.map
;
!function(n){var r=self.BENTO=self.BENTO||{};(r.bento=r.bento||[]).push((function(n){"use strict";function r(n,r,t){return r in n?Object.defineProperty(n,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[r]=t,n}function t(n,r){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),t.push.apply(t,e)}return t}function e(n){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?t(Object(i),!0).forEach((function(t){r(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(i,r))}))}return n}function i(n,r){return(i=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(n,r)}function o(n){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function u(n){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function a(n,r){if(r&&("object"===u(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function c(n,r){(null==r||r>n.length)&&(r=n.length);for(var t=0,e=new Array(r);t<r;t++)e[t]=n[t];return e}Array.isArray;var f,l=Object.prototype;function d(n,r){return Object.keys(n).reduce((function(t,e){return r.includes(e)||(t[e]=n[e]),t}),{})}function v(n,r,t){var e=n[r];return void 0===e&&(e=t(n,r),n[r]=e),e}function s(n,r,t,e,i,o,u,a,c,f,l){return n}function b(n,r){return n.replace(/^|,/g,"$&".concat(r," "))}function h(n,r){return s(/^[\w-]+$/.test(r)),t=n,e="> ".concat(r),(void 0!==f?f:f=function(n){try{var r=n.ownerDocument,t=r.createElement("div"),e=r.createElement("div");return t.appendChild(e),t.querySelector(":scope div")===e}catch(n){return!1}}(t))?t.querySelectorAll(b(e,":scope")):function(n,r){var t=n.classList,e="i-amphtml-scoped";t.add(e);var i=b(r,".".concat(e)),o=n.querySelectorAll(i);return t.remove(e),o}(t,e);var t,e}l.hasOwnProperty,l.toString;var p,y,m="section-child-76fac82";function g(n){var r=function(n,r){if("object"!==u(n)||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,r);if("object"!==u(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n,"string");return"symbol"===u(r)?r:String(r)}function j(){return p||(p=Promise.resolve(void 0))}function S(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var e,i,o=[],u=!0,a=!1;try{for(t=t.call(n);!(u=(e=t.next()).done)&&(o.push(e.value),!r||o.length!==r);u=!0);}catch(n){a=!0,i=n}finally{try{u||null==t.return||t.return()}finally{if(a)throw i}}return o}}(n,r)||function(n,r){if(n){if("string"==typeof n)return c(n,r);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?c(n,r):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n,r){if(null==n)return{};var t,e,i={},o=Object.keys(n);for(e=0;e<o.length;e++)t=o[e],r.indexOf(t)>=0||(i[t]=n[t]);return i}function x(n){var r,t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null!==(r=null!==(t=n.tabindex)&&void 0!==t?t:n.tabIndex)&&void 0!==r?r:e}var O=["Webkit","webkit","Moz","moz","ms","O","o"];function A(n,r,t){if(I(r))return r;var e;y||(e=Object.create(null),y=e);var i=y[r];if(!i||t){if(i=r,void 0===n[r]){var o=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(r),u=function(n,r){for(var t=0;t<O.length;t++){var e=O[t]+r;if(void 0!==n[e])return e}return""}(n,o);void 0!==n[u]&&(i=u)}t||(y[r]=i)}return i}function M(n,r,t,e,i){var o=A(n.style,r,i);if(o){var u,a=e?t+e:t;n.style.setProperty((u=o.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),O.some((function(n){return u.startsWith(n+"-")}))?"-".concat(u):u),a)}}function _(n,r,t){var e=A(n.style,r,t);if(e)return I(e)?n.style.getPropertyValue(e):n.style[e]}function E(n,r){for(var t in r)M(n,t,r[t])}function I(n){return n.startsWith("--")}function P(n,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;n.classList.add("i-amphtml-animating");var e=r();return e.onfinish=e.oncancel=function(){e=null,t&&t(),n.classList.remove("i-amphtml-animating")},function(){e&&e.cancel()}}function Y(n){var r=window.innerHeight,t=Math.abs(n)/r*500;return Math.min(Math.max(t,200),500)}var k,C=["animate","as","children","expandSingleSection","id"],H=["animate","as","children","expanded","id","onExpandStateChange"],R=(0,n.createContext)({}),T=(0,n.createContext)({}),z={},$={},B=(k=0,function(){return String(++k)}),D=(1e5,function(){return String(Math.floor(1e5*Math.random()))}),F=(0,n.forwardRef)((function(t,i){var o=t.animate,u=void 0!==o&&o,a=t.as,c=void 0===a?"section":a,f=t.children,l=t.expandSingleSection,v=void 0!==l&&l,s=t.id,b=w(t,C),h=S((0,n.useState)(z),2),p=h[0],y=h[1],m=(0,n.useRef)($),g=S((0,n.useState)(D),1)[0],x=s||"a".concat(g);(0,n.useEffect)((function(){v&&y((function(n){var r={},t=0;for(var e in n)r[e]=n[e]&&0==t++;return r}))}),[v]);var O=(0,n.useCallback)((function(n,t,i){var o=i.current;return y((function(r){return L(n,t,r,v)})),m.current=e(e({},m.current),{},r({},n,o)),function(){y((function(r){return d(r,n)})),m.current=d(m.current,n)}}),[v]),A=(0,n.useCallback)((function(n,r){y((function(t){var e=null!=r?r:!t[n],i=L(n,e,t,v);return j().then((function(){for(var n in t){var r=m.current[n];r&&t[n]!=i[n]&&r(i[n])}})),i}))}),[v]),M=(0,n.useCallback)((function(n,r){var t;return null!==(t=p[n])&&void 0!==t?t:r}),[p]),_=(0,n.useCallback)((function(n){if(n)n in p&&A(n);else if(!v)for(var r in p)A(r)}),[p,A,v]),E=(0,n.useCallback)((function(n){if(n)M(n,!0)||A(n);else if(!v)for(var r in p)M(r,!0)||A(r)}),[p,A,M,v]),I=(0,n.useCallback)((function(n){if(n)M(n,!1)&&A(n);else for(var r in p)M(r,!1)&&A(r)}),[p,A,M]);(0,n.useImperativeHandle)(i,(function(){return{toggle:_,expand:E,collapse:I}}),[_,I,E]);var P=(0,n.useMemo)((function(){return{registerSection:O,toggleExpanded:A,isExpanded:M,animate:u,prefix:x}}),[O,A,M,u,x]);return(0,n.createElement)(c,e({id:s},b),(0,n.createElement)(R.Provider,{value:P},f))}));function L(n,t,i,o){var u;if(o&&t)for(var a in u=r({},n,t),i)a!=n&&(u[a]=!1);else u=e(e({},i),{},r({},n,t));return u}function N(r){var t=r.animate,i=void 0!==t&&t,o=r.as,u=void 0===o?"section":o,a=r.children,c=r.expanded,f=void 0!==c&&c,l=r.id,d=r.onExpandStateChange,v=w(r,H),s=S((0,n.useState)(B),1)[0],b=l||s,h=S((0,n.useState)(D),1)[0],p=S((0,n.useState)(f),2),y=p[0],m=p[1],g=S((0,n.useState)(null),2),x=g[0],O=g[1],A=S((0,n.useState)(null),2),M=A[0],_=A[1],E=(0,n.useContext)(R),I=E.animate,P=E.isExpanded,Y=E.prefix,k=E.registerSection,C=E.toggleExpanded,z=P?P(b,f):y,$=null!=I?I:i,F=x||"".concat(Y||"a","-content-").concat(b,"-").concat(h),L=M||"".concat(Y||"a","-header-").concat(b,"-").concat(h),N=(0,n.useRef)(null);N.current=d,(0,n.useLayoutEffect)((function(){if(k)return k(b,f,N)}),[k,b,f]);var U=(0,n.useCallback)((function(n){C?C(b,n):m((function(r){var t=null!=n?n:!r;return j().then((function(){var n=N.current;n&&n(t)})),t}))}),[b,C]),W=(0,n.useMemo)((function(){return{animate:$,contentId:F,headerId:L,expanded:z,toggleHandler:U,setContentId:O,setHeaderId:_}}),[$,F,L,z,U]);return(0,n.createElement)(u,e({},v),(0,n.createElement)(T.Provider,{value:W},a))}function U(r){var t="class",i=r.as,o=void 0===i?"div":i,u=r.children,a=r.id,c=r.role,f=void 0===c?"button":c,l=r[t],d=void 0===l?"":l,v=w(r,["as","children","id","role",t].map(g)),s=(0,n.useContext)(T),b=s.contentId,h=s.expanded,p=s.headerId,y=s.setHeaderId,j=s.toggleHandler;return(0,n.useLayoutEffect)((function(){y&&y(a)}),[y,a]),(0,n.createElement)(o,e(e({},v),{},{id:p,role:f,class:"".concat(d," ").concat(m," ").concat("header-76fac82"),tabindex:x(v),"aria-controls":b,onClick:function(){return j()},"aria-expanded":String(h)}),u)}function W(r){var t="class",i=r.as,o=void 0===i?"div":i,u=r.children,a=r.id,c=r.role,f=void 0===c?"region":c,l=r[t],d=void 0===l?"":l,v=w(r,["as","children","id","role",t].map(g)),s=(0,n.useRef)(null),b=(0,n.useRef)(!1),h=(0,n.useContext)(T),p=h.animate,y=h.contentId,j=h.expanded,S=h.headerId,x=h.setContentId;return(0,n.useEffect)((function(){return b.current=!0,function(){return b.current=!1}}),[]),(0,n.useLayoutEffect)((function(){x&&x(a)}),[x,a]),(0,n.useLayoutEffect)((function(){var n=b.current,r=s.current;if(p&&n&&r&&r.animate)return j?function(n){return P(n,(function(){var r=_(n,"height"),t=_(n,"opacity"),e=_(n,"overflowY");E(n,{height:0,opacity:0,overflowY:"auto"});var i=n.scrollHeight;E(n,{height:r,opacity:t,overflowY:e});var o=Y(i);return n.animate([{height:0,opacity:0,overflowY:"hidden"},{height:i+"px",opacity:1,overflowY:"hidden"}],{easing:"cubic-bezier(0.47, 0, 0.745, 0.715)",duration:o})}))}(r):function(n){return P(n,(function(){var r=n.offsetHeight,t=Y(r);return n.animate([{height:r+"px",opacity:1,overflowY:"hidden"},{height:"0",opacity:0,overflowY:"hidden"}],{easing:"cubic-bezier(0.39, 0.575, 0.565, 1)",duration:t})}))}(r)}),[j,p]),(0,n.createElement)(n.WithAmpContext,{renderable:j},(0,n.createElement)(o,e(e({},v),{},{ref:s,class:d+" "+m+(j?"":" content-hidden-76fac82"),id:y,"aria-labelledby":S,role:f}),u))}F.displayName="Accordion";var X=function(n){!function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&i(n,r)}(u,n);var r,t,e=(r=u,t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,e=o(r);if(t){var i=o(this).constructor;n=Reflect.construct(e,arguments,i)}else n=e.apply(this,arguments);return a(this,n)});function u(){return e.apply(this,arguments)}return u.prototype.init=function(){var n=this,r=function(r){return function(t){var e;!function(n,r,t){var e=n.hasAttribute(r),i=void 0!==t?t:!e;i!==e&&(i?n.setAttribute(r,""):n.removeAttribute(r))}(r,"expanded",t),null===(e=r.__AMP_PR)||void 0===e||e.call(r),n.triggerEvent(r,t?"expand":"collapse")}},t=this.element,e=new MutationObserver((function(){n.mutateProps(Z(t,e,r))}));return e.observe(t,{attributeFilter:["expanded","id"],subtree:!0,childList:!0}),{"children":Z(t,e,r).children}},u}(n.PreactBaseElement);function Z(r,t,i){var o;return{"children":((o=h(r,"section"))?Array.prototype.slice.call(o):[]).map((function(r){r.__AMP_PR||(r.__AMP_PR=function(){return t.takeRecords()});var o=v(r,"__AMP_H_SHIM",G),u=v(r,"__AMP_C_SHIM",K),a=v(r,"__AMP_EXPAND_STATE_SHIM",i),c={"key":r,"expanded":r.hasAttribute("expanded"),"id":r.getAttribute("id"),"onExpandStateChange":a},f={"as":o,"id":r.firstElementChild.getAttribute("id"),"role":r.firstElementChild.getAttribute("role")||void 0},l={"as":u,"id":r.lastElementChild.getAttribute("id"),"role":r.lastElementChild.getAttribute("role")||void 0};return(0,n.createElement)(N,e({},c),(0,n.createElement)(U,e({},f)),(0,n.createElement)(W,e({},l)))}))}}function q(r,t){var e=t["aria-controls"],i=t["aria-expanded"],o=t.id,u=t.onClick,a=t.role,c=r.firstElementChild;return(0,n.useLayoutEffect)((function(){if(c&&u)return c.setAttribute("id",o),c.classList.add("i-amphtml-accordion-header"),c.addEventListener("click",u),c.hasAttribute("tabindex")||c.setAttribute("tabindex",0),c.setAttribute("aria-expanded",i),c.setAttribute("aria-controls",e),c.setAttribute("role",a),r.__AMP_PR&&r.__AMP_PR(),function(){c.removeEventListener("click",s(u))}}),[r,c,o,a,u,e,i]),(0,n.createElement)("header",null)}var G=function(n){return q.bind(null,n)};function J(r,t,e){var i=t["aria-labelledby"],o=t.id,u=t.role,a=r.lastElementChild,c=(0,n.useRef)();return c.current=a,(0,n.useSlotContext)(c),(0,n.useDOMHandle)(e,a),(0,n.useLayoutEffect)((function(){a&&(a.classList.add("i-amphtml-accordion-content"),a.setAttribute("id",o),a.setAttribute("role",u),a.setAttribute("aria-labelledby",i),r.__AMP_PR&&r.__AMP_PR())}),[r,a,o,u,i]),(0,n.createElement)("div",null)}var K=function(r){return(0,n.forwardRef)(J.bind(null,r))};X.Component=F,X.detached=!0,X.props={"animate":{attr:"animate",type:"boolean",media:!0},"expandSingleSection":{attr:"expand-single-section",type:"boolean"}},(0,n.defineBentoElement)("bento-accordion",X,undefined)}))}();
//# sourceMappingURL=bento-accordion-1.0.js.map
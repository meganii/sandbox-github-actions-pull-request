;
var{isArray:t}=Array,{hasOwnProperty:n,toString:o}=Object.prototype;function e(t,n,o){const e=t.hasAttribute(n),r=void 0!==o?o:!e;return r!==e&&(r?t.setAttribute(n,""):t.removeAttribute(n)),r}function r(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:o,stack:e}=t,r=new Error(o);for(const n in t)r[n]=t[n];return r.stack=e,r}function i(t){let n=null,o="";for(const t of arguments)t instanceof Error&&!n?n=r(t):(o&&(o+=" "),o+=t);return n?o&&(n.message=o+": "+n.message):n=new Error(o),n}function s(t){var n,o;null===(n=(o=self).__AMP_REPORT_ERROR)||void 0===n||n.call(o,t)}function a(t,...n){try{return t.apply(null,n)}catch(t){!function(t){const n=i.apply(null,arguments);setTimeout((()=>{throw s(n),n}))}(t)}}var l,c=t=>t.pause();function f(t,n,o,e){if(n&&t.classList.contains("i-amphtml-element")){const n=t;if(a(e,n),!o){const t=n.getPlaceholder();return void(t&&f(t,!0,!1,e))}}const r=t.getElementsByClassName("i-amphtml-element");let i=null;for(let t=0;t<r.length;t++){const n=r[t];if(o)a(e,n);else{i=i||[];let t=!1;for(let o=0;o<i.length;o++)if(i[o].contains(n)){t=!0;break}t||(i.push(n),a(e,n))}}}var u=["Webkit","webkit","Moz","moz","ms","O","o"];function d(t,n,o,e,r){const i=function(t,n,o){if(n.startsWith("--"))return n;l||(l=Object.create(null));let e=l[n];if(!e||o){if(e=n,void 0===t[n]){const o=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),r=function(t,n){for(let o=0;o<u.length;o++){const e=u[o]+n;if(void 0!==t[e])return e}return""}(t,o);void 0!==t[r]&&(e=r)}o||(l[n]=e)}return e}(t.style,n,r);if(!i)return;const s=e?o+e:o;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return u.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(i),s)}function m(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}import{createElement as b}from"../bento.mjs";import{PreactBaseElement as p}from"../bento.mjs";import{useValueRef as v}from"../bento.mjs";function h(t,n,o){return n in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function g(t,n){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),o.push.apply(o,e)}return o}import{createElement as y}from"../bento.mjs";import{useCallback as j,useEffect as O,useImperativeHandle as k,useLayoutEffect as w,useRef as x,useState as z}from"../bento.mjs";import{forwardRef as A}from"../bento.mjs";import{ContainWrapper as C,useValueRef as E}from"../bento.mjs";import{useLayoutEffect as S,useRef as X}from"../bento.mjs";import{useValueRef as N}from"../bento.mjs";var B=[{"opacity":"0"},{"opacity":"1"}],R=[{"transform":"translateX(-100%)"},{"transform":"translateX(0)"}],T=[{"transform":"translateX(100%)"},{"transform":"translateX(0)"}],$={"transform":"translateX(-100%)"},V={"transform":"translateX(100%)"},L={"opacity":"0"},M={"transform":""},P={"opacity":""};function Y(t,n){!function(t,n){for(const o in n)d(t,o,n[o])}(t,function(t){return"display"in t&&function(t,...n){const o=i.apply(null,n);o.name=t||o.name,s(o)}("STYLE","`display` style detected. You must use toggle instead."),t}(n))}var F=["as","backdropClassName","backdropStyle","children","onAfterClose","onAfterOpen","onBeforeOpen","side"],W=A((function(t,n){let{as:o="div",backdropClassName:e,backdropStyle:r,children:i,onAfterClose:s,onAfterOpen:a,onBeforeOpen:l,side:c}=t,f=function(t,n){if(null==t)return{};var o,e,r={},i=Object.keys(t);for(e=0;e<i.length;e++)o=i[e],n.indexOf(o)>=0||(r[o]=t[o]);return r}(t,F);const[u,d]=z(!1),[m,b]=z(!1),[p,v]=z(c),A=x(),W=x(),Z=E(l),q=j((()=>{var t;null===(t=Z.current)||void 0===t||t.call(Z),d(!0),b(!0)}),[Z]),D=j((()=>b(!1)),[]),G=j((()=>m?D():q()),[m,q,D]);return k(n,(()=>({open:q,close:D,toggle:G})),[q,D,G]),w((()=>{if(p)return;const t=A.current;var n;t&&v("rtl"==((n=t.ownerDocument).body.getAttribute("dir")||n.documentElement.getAttribute("dir")||"ltr")?"right":"left")}),[p,u]),function(t,n,o,e,r,i,s,a){const l=N(o),c=N(e),f=X(null),u=X(null),d=X(!1);S((()=>{const o=i.current,e=s.current;if(!(t&&o&&e&&r))return;const m=()=>{var t;Y(o,M),Y(e,P),f.current=null,u.current=null,d.current=!1,null===(t=l.current)||void 0===t||t.call(l)},b=()=>{var t;null===(t=c.current)||void 0===t||t.call(c),f.current=null,u.current=null,d.current=!1,a(!1)};if(d.current){const t=f.current;t&&(t.reverse(),t.onfinish=n?m:b);const o=u.current;o&&o.reverse()}else if(n){if(!o.animate||!e.animate)return void m();Y(o,"left"===r?$:V),Y(e,L);const t=o.animate("left"===r?R:T,{duration:350,fill:"both",easing:"cubic-bezier(0,0,.21,1)"});t.onfinish=m;const n=e.animate(B,{duration:350,fill:"both",easing:"cubic-bezier(0,0,.21,1)"});f.current=t,u.current=n,d.current=!0}else{if(!o.animate||!e.animate)return void b();const t=o.animate("left"===r?R:T,{duration:350,direction:"reverse",fill:"both",easing:"cubic-bezier(0,0,.21,1)"});t.onfinish=b;const n=e.animate(B,{duration:350,direction:"reverse",fill:"both",easing:"cubic-bezier(0,0,.21,1)"});f.current=t,u.current=n,d.current=!0}}),[t,n,l,c,r,i,s,a])}(u,m,a,s,p,A,W,d),O((()=>{const t=A.current,n=W.current;if(!t||!n)return;const o=t.ownerDocument;if(!o)return;const e=t=>{"Escape"===t.key&&(t.stopImmediatePropagation(),t.preventDefault(),D())};return o.addEventListener("keydown",e),()=>{o.removeEventListener("keydown",e)}}),[m,D]),y("div",{class:(u?"mounted-4250f84":"")+(u?"":" unmounted-4250f84"),part:"wrapper"},y(C,function(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?g(Object(o),!0).forEach((function(n){h(t,n,o[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}({as:o,ref:A,size:!1,layout:!0,paint:!0,part:"sidebar",wrapperClassName:"sidebar-4250f84 default-sidebar-styles-4250f84"+("left"===p?" left-4250f84":"")+("left"!==p?" right-4250f84":""),role:"menu",tabindex:"-1",hidden:!p},f),i),y("div",{ref:W,onClick:()=>D(),part:"backdrop",style:r,class:"backdrop-4250f84 default-backdrop-styles-4250f84"+(e?" "+e:""),hidden:!p},y("div",{class:"backdrop-overscroll-blocker-4250f84"})))}));W.displayName="BentoSidebar";import{useEffect as Z,useState as q}from"../bento.mjs";var D=class extends p{static deferredMount(t){return!1}constructor(t){super(t),this.RL=!1}init(){return{"onBeforeOpen":()=>this.beforeOpen(),"onAfterOpen":()=>this.afterOpen(),"onAfterClose":()=>this.afterClose()}}updatePropsForRendering(t){var n;(n=this.element,function(t,n){const o=[];for(let n=t.firstChild;n;n=n.nextSibling)!(function(t){let n;var o;return"string"==typeof t?n=t:1==(null==(o=t)?void 0:o.nodeType)&&(n=t.tagName),!!n&&n.toLowerCase().startsWith("i-")}(e=n)||e.nodeType===Node.ELEMENT_NODE&&(e.hasAttribute("placeholder")||e.hasAttribute("fallback")||e.hasAttribute("overflow")))&&o.push(n);var e;return o}(n)).map((n=>{"NAV"===n.nodeName&&n.hasAttribute("toolbar")&&n.hasAttribute("toolbar-target")&&t.children.push(b(G,{toolbar:n.getAttribute("toolbar"),toolbarTarget:n.getAttribute("toolbar-target"),domElement:n}))}))}beforeOpen(){this.RL=!0,e(this.element,"open",!0),m(this.element,!0)}afterOpen(){}afterClose(){this.RL=!1,e(this.element,"open",!1),m(this.element,!1),function(n,o=!0){!function(n,o,e,r){const i=t(s=n)?s:[s];var s;for(let t=0;t<i.length;t++)f(i[t],o,!0,r)}(n,o,0,c)}(this.element,!1)}mutationObserverCallback(){const t=this.element.hasAttribute("open");t!==this.RL&&(this.RL=t,t?this.api().open():this.api().close())}};function G({domElement:t,toolbar:n,toolbarTarget:o}){!function(t,n,o){const[e,r]=q(null),[i,s]=q(null),[a,l]=q(null);Z((()=>{var n;const e=null===(n=t.current)||void 0===n?void 0:n.ownerDocument;if(!e)return;const r=(i=o,CSS.escape(i));var i;s(r),l(e.getElementById(r))}),[o,t]),Z((()=>{var o,e;const i=null===(o=t.current)||void 0===o||null===(e=o.ownerDocument)||void 0===e?void 0:e.defaultView;i&&r(function(t,n){return t.matchMedia(n).media}(i,n))}),[n,t]),Z((()=>{var n;const o=t.current,r=null===(n=t.current)||void 0===n?void 0:n.ownerDocument;if(!r||!a||null==e)return;const s=o.cloneNode(!0),l=r.createElement("style");return l.textContent=`#${i}{display: none;}@media ${e}{#${i}{display: initial;}}`,a.appendChild(s),a.appendChild(l),()=>{a.removeChild(s),a.removeChild(l)}}),[e,i,a,t])}(v(t),n,o)}D.Component=W,D.usesShadowDom=!0,D.shadowCss=".sidebar-4250f84{position:fixed!important;box-sizing:border-box!important;overflow-x:hidden!important;overflow-y:auto!important;-ms-scroll-chaining:none!important;overscroll-behavior:none!important}.default-sidebar-styles-4250f84{top:0;color:#000;height:100vh;outline:none;z-index:2147483647;max-width:80vw;min-width:45px;max-height:100vh;background-color:#efefef}.left-4250f84{left:0}.right-4250f84{right:0}.backdrop-4250f84{top:0!important;left:0!important;width:120vw!important;height:100vh!important;overflow:hidden scroll!important;position:fixed!important;background-image:none!important;-ms-scroll-chaining:none!important;overscroll-behavior:none!important}.default-backdrop-styles-4250f84{z-index:2147483646;background-color:rgba(0,0,0,0.5)}.backdrop-overscroll-blocker-4250f84{width:0!important;height:101vh!important}.mounted-4250f84{display:contents}.unmounted-4250f84{display:none}",D.props={"children":{passthrough:!0},"side":{attr:"side"}};import{defineBentoElement as H}from"../bento.mjs";H("bento-sidebar",D,void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-sidebar-1.0.mjs.map
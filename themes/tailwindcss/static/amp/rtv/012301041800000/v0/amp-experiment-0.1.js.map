{"version":3,"file":"amp-experiment-0.1.js","mappings":"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","names":["o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","Array","isArray","_Object$prototype","hasOwn_","hasOwnProperty","toString_","toString","key","__AMP_LOG","user","dev","userForEmbed","resolved","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","Deferred","this","promise","Promise","res","rej","_this","resolve","reject","id","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","holder","cached","getServicePromiseOrNullInternal","deferred","services","getServices","catch","context","ctor","getServicePromiseInternal","getAmpdocServiceHolder","nodeOrDoc","nodeType","node","ownerDocument","defaultView","getService","getAmpDoc","ampdoc","getAmpdoc","isSingleDoc","devAssert","service","__AMP_SERVICES","isServiceRegistered","s","nameValidator","Variants","variantsDeferred_","init","variants","_proto","getVariants","whenReady","Variants2","experimentName","config","assertName","value","userAssert","keys","length","totalPercentage","variantName","hasOwn","percentage","toFixed","validateConfig","override","getParam","element","sticky","cidScope","hasConsentPromise","getHeadNode","extension","opt_element","getServicePromiseOrNullForDoc","whenExtensionsKnown","then","version","getExtensionVersion","waitForExtension","ext","getServicePromiseForDoc","getElementServiceIfAvailableForDoc","assertService","getElementServiceForDoc","manager","getNotification","userNotification","isDismissed","hasConsent","group","opt_cidScope","Math","random","window","cidPromise","cidService","get","scope","createCookieIfNotPresent","undefined","all","results","uniform","hash","getBucketTicket","ticket","upperBound","variantNames","sort","i","name","test","AmpExperiment","subClass","superClass","create","writable","configurable","_inherits","Derived","hasNativeReflectConstruct","_super","AmpExperiment2","Reflect","construct","sham","Proxy","Boolean","valueOf","e","isNativeReflectConstruct","result","Super","NewTarget","arguments","apply","possibleConstructorReturn","prerenderAllowed","isLayoutSupported","layout","isBuildRenderBlocking","buildCallback","variantsService","getConfig_","map","allocateVariant","experimentVariants","addToBody_","bind","json","children","tagName","getAttribute","toUpperCase","textContent","JSON","parse","experiments","waitForBodyOpen","body","setAttribute","AMP","BaseElement","registerServiceForDoc","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","src/core/types/array.js","src/core/types/object/index.js","src/utils/log.js","src/core/data-structures/promise.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","extensions/amp-experiment/0.1/variant.js","src/element-service.js","extensions/amp-experiment/0.1/amp-experiment.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","src/core/dom/layout/index.js","src/core/types/object/json.js"]}

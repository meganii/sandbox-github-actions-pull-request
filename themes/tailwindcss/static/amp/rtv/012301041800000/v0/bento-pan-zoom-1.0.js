;
!function(t){var n=self.BENTO=self.BENTO||{};(n.bento=n.bento||[]).push((function(t){"use strict";var n=t,i=t,r=t,e=Object.defineProperty,o=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,u=Object.prototype.hasOwnProperty,a=function(t,n,i){if(n&&"object"==typeof n||"function"==typeof n)for(var r,a=s(n),h=0,c=a.length;h<c;h++)r=a[h],u.call(t,r)||"default"===r||e(t,r,{get:function(t){return n[t]}.bind(null,r),enumerable:!(i=o(n,r))||i.enumerable});return t};function h(t,n){return(h=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function c(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&h(t,n)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,n){if(n&&("object"===v(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return l(t)}function p(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var i,r=f(t);if(n){var e=f(this).constructor;i=Reflect.construct(r,arguments,e)}else i=r.apply(this,arguments);return d(this,i)}}function g(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function m(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function y(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){g(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}function w(t,n){(null==n||n>t.length)&&(n=t.length);for(var i=0,r=new Array(n);i<n;i++)r[i]=t[i];return r}function b(t,n){if(t){if("string"==typeof t)return w(t,n);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?w(t,n):void 0}}function O(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var r,e,o=[],s=!0,u=!1;try{for(i=i.call(t);!(s=(r=i.next()).done)&&(o.push(r.value),!n||o.length!==n);s=!0);}catch(t){u=!0,e=t}finally{try{s||null==i.return||i.return()}finally{if(u)throw e}}return o}}(t,n)||b(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||b(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(t,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function x(t,n){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=b(t))||n&&t&&"number"==typeof t.length){i&&(t=i);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(t,n,i){return Math.max(n,Math.min(t,i))}var k=function(t,n){return void 0===t&&(t=n),Array.isArray(t)?t:[t,t]},A=function(t,n){return[t[0]+n[0],t[1]+n[1]]},E=function(t,n){return[t[0]-n[0],t[1]-n[1]]},z=function(t,n){t[0]+=n[0],t[1]+=n[1]};function T(t,n,i){return 0===n||Math.abs(n)===1/0?Math.pow(t,5*i):t*n*i/(n+i*t)}function D(t,n,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?M(t,n,i):t<n?-T(n-t,i-n,r)+n:t>i?+T(t-i,i-n,r)+i:t}function N(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function K(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,r)}return i}function P(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?K(Object(i),!0).forEach((function(n){N(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}var Y={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function I(t){return t?t[0].toUpperCase()+t.slice(1):""}function X(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Y[t],e=r&&r[n]||n;return"on"+I(t)+I(e)+(i?"Capture":"")}var H=["gotpointercapture","lostpointercapture"];function R(t){var n=t.substring(2).toLowerCase(),i=!!~n.indexOf("passive");i&&(n=n.replace("passive",""));var r=H.includes(n)?"capturecapture":"capture",e=!!~n.indexOf(r);return e&&(n=n.replace("capture","")),{device:n,capture:e,passive:i}}function U(t){return"touches"in t}function C(t){return U(t)?function(t){return"touchend"===t.type||"touchcancel"===t.type?t.changedTouches:t.targetTouches}(t)[0]:t}function _(t,n){var i=n.clientX-t.clientX,r=n.clientY-t.clientY,e=(n.clientX+t.clientX)/2,o=(n.clientY+t.clientY)/2,s=Math.hypot(i,r);return{angle:-180*Math.atan2(i,r)/Math.PI,distance:s,origin:[e,o]}}function L(t,n){var i=O(Array.from(t.touches).filter((function(t){return n.includes(t.identifier)})),2);return _(i[0],i[1])}function B(t){var n=C(t);return U(t)?n.identifier:n.pointerId}function Z(t){var n=C(t);return[n.clientX,n.clientY]}function W(t){var n=t.deltaX,i=t.deltaY,r=t.deltaMode;return 1===r?(n*=40,i*=40):2===r&&(n*=800,i*=800),[n,i]}function F(t){if("function"==typeof t){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,i)}return t}function V(){}function G(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return 0===n.length?V:1===n.length?n[0]:function(){for(var t,i,r=x(n,!0);!(i=r()).done;)t=i.value.apply(this,arguments)||t;return t}}function $(t,n){return Object.assign({},n,t||{})}var q=function(){function t(t,n,i){this.ctrl=t,this.args=n,this.key=i,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}var n,i,r=t.prototype;return r.reset=function(){var t=this.state,n=this.shared,i=this.ingKey,r=this.args;n[i]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=r,t.axis=void 0,t.memo=void 0,t.elapsedTime=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0},r.start=function(t){var n=this.state,i=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=i.from?F(i.from,n):n.offset,n.offset=n.lastOffset),n.startTime=n.timeStamp=t.timeStamp},r.computeValues=function(t){var n=this.state;n._values=t,n.values=this.config.transform(t)},r.computeInitial=function(){var t=this.state;t._initial=t._values,t.initial=t.values},r.compute=function(t){var n=this.state,i=this.config,r=this.shared;n.args=this.args;var e=0;if(t&&(n.event=t,i.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(t){var n={};if("buttons"in t&&(n.buttons=t.buttons),"shiftKey"in t){var i=t.shiftKey,r=t.altKey,e=t.metaKey,o=t.ctrlKey;Object.assign(n,{shiftKey:i,altKey:r,metaKey:e,ctrlKey:o})}return n}(t)),r.down=r.pressed=r.buttons%2==1||r.touches>0,e=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){var o=n._delta.map(Math.abs);z(n._distance,o)}var s=O(n._movement,2),u=s[0],a=s[1],h=O(i.threshold,2),c=h[0],f=h[1],v=n._step,l=n.values;if(i.hasCustomTransform?(!1===v[0]&&(v[0]=Math.abs(u)>=c&&l[0]),!1===v[1]&&(v[1]=Math.abs(a)>=f&&l[1])):(!1===v[0]&&(v[0]=Math.abs(u)>=c&&Math.sign(u)*c),!1===v[1]&&(v[1]=Math.abs(a)>=f&&Math.sign(a)*f)),n.intentional=!1!==v[0]||!1!==v[1],n.intentional){var d=[0,0];if(i.hasCustomTransform){var p=O(l,2),g=p[0],m=p[1];d[0]=!1!==v[0]?g-v[0]:0,d[1]=!1!==v[1]?m-v[1]:0}else d[0]=!1!==v[0]?u-v[0]:0,d[1]=!1!==v[1]?a-v[1]:0;this.intent&&this.intent(d);var y=n.offset,w=n._active&&!n._blocked||n.active;w&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=r[this.ingKey]=n._active,t&&(n.first&&("bounds"in i&&(n._bounds=F(i.bounds,n)),this.setup&&this.setup()),n.movement=d,this.computeOffset()));var b=O(n.offset,2),j=b[0],S=b[1],x=O(n._bounds,2),M=O(x[0],2),k=M[0],A=M[1],T=O(x[1],2),N=T[0],K=T[1];n.overflow=[j<k?-1:j>A?1:0,S<N?-1:S>K?1:0],n._movementBound[0]=!!n.overflow[0]&&(!1===n._movementBound[0]?n._movement[0]:n._movementBound[0]),n._movementBound[1]=!!n.overflow[1]&&(!1===n._movementBound[1]?n._movement[1]:n._movementBound[1]);var P,Y,I,X,H,R,U,C,_,L,B,Z,W,V,G,$=n._active&&i.rubberband||[0,0];if(n.offset=(P=n._bounds,Y=$,X=(I=O(n.offset,2))[0],H=I[1],U=(R=O(Y,2))[0],C=R[1],_=O(P,2),B=(L=O(_[0],2))[0],Z=L[1],V=(W=O(_[1],2))[0],G=W[1],[D(X,B,Z,U),D(H,V,G,C)]),n.delta=E(n.offset,y),this.computeMovement(),w&&(!n.last||e>32)){n.delta=E(n.offset,y);var q=n.delta.map(Math.abs);z(n.distance,q),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&e>0&&(n.velocity=[q[0]/e,q[1]/e])}}},r.emit=function(){var t=this.state,n=this.shared,i=this.config;if(t._active||this.clean(),!t._blocked&&t.intentional||t._force||i.triggerAllEvents){var r=this.handler(P(P(P({},n),t),{},g({},this.aliasKey,t.values)));void 0!==r&&(t.memo=r)}},r.clean=function(){this.eventStore.clean(),this.timeoutStore.clean()},n=t,(i=[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(t){this.ctrl.state[this.key]=t}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}}])&&S(n.prototype,i),t}(),J=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"aliasKey","xy"),t}var r=i.prototype;return r.reset=function(){t.prototype.reset.call(this),this.state.axis=void 0},r.init=function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]},r.computeOffset=function(){this.state.offset=A(this.state.lastOffset,this.state.movement)},r.computeMovement=function(){this.state.movement=E(this.state.offset,this.state.lastOffset)},r.intent=function(t){var n,i,r,e;this.state.axis=this.state.axis||(i=(n=O(t,2))[0],r=n[1],(e=Math.abs(i)-Math.abs(r))>0?"x":e<0?"y":void 0),this.state._blocked=(this.config.lockDirection||!!this.config.axis)&&!this.state.axis||!!this.config.axis&&this.config.axis!==this.state.axis,this.state._blocked||(this.config.axis||this.config.lockDirection)&&function(t,n){switch(n){case"x":t[1]=0;break;case"y":t[0]=0}}(t,this.state.axis)},i}(q),Q=function(t){return t},tt=.15,nt={enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},preventDefault:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},triggerAllEvents:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]},rubberband:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(t){case!0:return[tt,tt];case!1:return[0,0];default:return k(t)}},from:function(t){return"function"==typeof t?t:null!=t?k(t):void 0},transform:function(t,n,i){var r=t||i.shared.transform;this.hasCustomTransform=!!r;var e=r||Q;return function(t){var n=e(t);return isFinite(n[0])&&isFinite(n[1])||console.warn("[@use-gesture]: config.transform() must produce a valid result, but it was: [".concat(n[0],",").concat([1],"]")),n}},threshold:function(t){return k(t,0)}};Object.assign(nt,{domTarget:function(t){if(void 0!==t)throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");return NaN},lockDirection:function(t){if(void 0!==t)throw Error("[@use-gesture]: `lockDirection` option has been merged with `axis`. Use it as in `{ axis: 'lock' }`");return NaN},initial:function(t){if(void 0!==t)throw Error("[@use-gesture]: `initial` option has been renamed to `from`.");return NaN}});var it=P(P({},nt),{},{axis:function(t,n,i){var r=i.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},bounds:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"==typeof t)return function(n){return it.bounds(t(n))};if("current"in t)return function(){return t.current};if("function"==typeof HTMLElement&&t instanceof HTMLElement)return t;var n=t.left,i=void 0===n?-1/0:n,r=t.right,e=void 0===r?1/0:r,o=t.top,s=void 0===o?-1/0:o,u=t.bottom;return[[i,e],[s,void 0===u?1/0:u]]}}),rt={ArrowRight:function(){return[10*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),0]},ArrowLeft:function(){return[-10*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),0]},ArrowUp:function(){return[0,-10*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)]},ArrowDown:function(){return[0,10*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1)]}},et=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","dragging"),t}var r=i.prototype;return r.reset=function(){t.prototype.reset.call(this);var n=this.state;n._pointerId=void 0,n._pointerActive=!1,n._keyboardActive=!1,n._preventScroll=!1,n._delayed=!1,n.swipe=[0,0],n.tap=!1,n.canceled=!1,n.cancel=this.cancel.bind(this)},r.setup=function(){var t=this.state;if(t._bounds instanceof HTMLElement){var n=t._bounds.getBoundingClientRect(),i=t.currentTarget.getBoundingClientRect(),r={left:n.left-i.left+t.offset[0],right:n.right-i.right+t.offset[0],top:n.top-i.top+t.offset[1],bottom:n.bottom-i.bottom+t.offset[1]};t._bounds=it.bounds(r)}},r.cancel=function(){var t=this,n=this.state;n.canceled||(n.canceled=!0,n._active=!1,setTimeout((function(){t.compute(),t.emit()}),0))},r.setActive=function(){this.state._active=this.state._pointerActive||this.state._keyboardActive},r.clean=function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,t.prototype.clean.call(this)},r.pointerDown=function(t){var n=this.config,i=this.state;(null==t.buttons||(Array.isArray(n.pointerButtons)?n.pointerButtons.includes(t.buttons):-1===n.pointerButtons||n.pointerButtons===t.buttons))&&(this.ctrl.setEventIds(t),n.pointerCapture&&t.target.setPointerCapture(t.pointerId),i._pointerActive||(this.start(t),this.setupPointer(t),i._pointerId=B(t),i._pointerActive=!0,this.computeValues(Z(t)),this.computeInitial(),n.preventScrollAxis?(i._active=!1,this.setupScrollPrevention(t)):n.delay>0?this.setupDelayTrigger(t):this.startPointerDrag(t)))},r.startPointerDrag=function(t){var n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()},r.pointerMove=function(t){var n=this.state,i=this.config;if(n._pointerActive&&(n.type!==t.type||t.timeStamp!==n.timeStamp)){var r=B(t);if(void 0===n._pointerId||r===n._pointerId){var e=Z(t);return document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=E(e,n._values),this.computeValues(e)),z(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional?(this.timeoutStore.remove("dragDelay"),n.active=!1,void this.startPointerDrag(t)):i.preventScrollAxis&&!n._preventScroll?n.axis?n.axis===i.preventScrollAxis||"xy"===i.preventScrollAxis?(n._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(t)):void 0:void this.emit()}}},r.pointerUp=function(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch(t){console.warn("[@use-gesture]: If you see this message, it's likely that you're using an outdated version of `@react-three/fiber`. \n\nPlease upgrade to the latest version.")}var n=this.state,i=this.config;if(n._active&&n._pointerActive){var r=B(t);if(void 0===n._pointerId||r===n._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(t);var e=O(n._distance,2),o=e[0],s=e[1];if(n.tap=o<=i.tapsThreshold&&s<=i.tapsThreshold,n.tap&&i.filterTaps)n._force=!0;else{var u=O(n.direction,2),a=u[0],h=u[1],c=O(n.velocity,2),f=c[0],v=c[1],l=O(n.movement,2),d=l[0],p=l[1],g=O(i.swipe.velocity,2),m=g[0],y=g[1],w=O(i.swipe.distance,2),b=w[0],j=w[1],S=i.swipe.duration;n.elapsedTime<S&&(Math.abs(f)>m&&Math.abs(d)>b&&(n.swipe[0]=a),Math.abs(v)>y&&Math.abs(p)>j&&(n.swipe[1]=h))}this.emit()}}},r.pointerClick=function(t){this.state.tap||(t.preventDefault(),t.stopPropagation())},r.setupPointer=function(t){var n=this.config,i=n.device;try{if("pointer"===i&&void 0===n.preventScrollDelay){var r="uv"in t?t.sourceEvent.currentTarget:t.currentTarget;"auto"===window.getComputedStyle(r).touchAction&&console.warn("[@use-gesture]: The drag target has its `touch-action` style property set to `auto`. It is recommended to add `touch-action: 'none'` so that the drag gesture behaves correctly on touch-enabled devices. For more information read this: https://use-gesture.netlify.app/docs/extras/#touch-action.\n\nThis message will only show in development mode. It won't appear in production. If this is intended, you can ignore it.",r)}}catch(t){}n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,i,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,i,"cancel",this.pointerUp.bind(this)))},r.pointerClean=function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()},r.preventScroll=function(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()},r.setupScrollPrevention=function(t){!function(t){"persist"in t&&"function"==typeof t.persist&&t.persist()}(t),this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1}),this.eventStore.add(this.sharedConfig.window,"touch","end",this.clean.bind(this)),this.eventStore.add(this.sharedConfig.window,"touch","cancel",this.clean.bind(this)),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)},r.setupDelayTrigger=function(t){var n=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){n.state._step=[0,0],n.startPointerDrag(t)}),this.config.delay)},r.keyDown=function(t){var n=rt[t.key];if(n){var i=this.state,r=t.shiftKey?10:t.altKey?.1:1;i._delta=n(r),this.start(t),i._keyboardActive=!0,z(i._movement,i._delta),this.compute(t),this.emit()}},r.keyUp=function(t){t.key in rt&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())},r.bind=function(t){var n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this)),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})},i}(J),ot="undefined"!=typeof window&&window.document&&window.document.createElement;function st(){return ot&&"ontouchstart"in window||ot&&window.navigator.maxTouchPoints>1}var ut={isBrowser:ot,gesture:function(){try{return"constructor"in GestureEvent}catch(t){return!1}}(),touch:st(),touchscreen:st(),pointer:ot&&"onpointerdown"in window,pointerLock:ot&&"exitPointerLock"in window.document},at=P(P({},it),{},{device:function(t,n,i){var r=i.pointer,e=(r=void 0===r?{}:r).touch,o=void 0!==e&&e,s=r.lock,u=void 0!==s&&s,a=r.mouse,h=void 0!==a&&a;return this.pointerLock=u&&ut.pointerLock,ut.touch&&o?"touch":this.pointerLock?"mouse":ut.pointer&&!h?"pointer":ut.touch?"touch":"mouse"},preventScrollAxis:function(t,n,i){var r=i.preventScroll;if(this.preventScrollDelay="number"==typeof r?r:r||void 0===r&&t?250:void 0,ut.touchscreen&&!1!==r)return t||(void 0!==r?"y":void 0)},pointerCapture:function(t,n,i){var r=i.pointer,e=(r=void 0===r?{}:r).capture,o=void 0===e||e,s=r.buttons,u=void 0===s?1:s;return this.pointerButtons=u,!this.pointerLock&&"pointer"===this.device&&o},threshold:function(t,n,i){var r=i.filterTaps,e=void 0!==r&&r,o=i.tapsThreshold,s=void 0===o?3:o,u=i.axis,a=k(t,e?s:(void 0===u?void 0:u)?1:0);return this.filterTaps=e,this.tapsThreshold=s,a},swipe:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.velocity,i=void 0===n?.5:n,r=t.distance,e=void 0===r?50:r,o=t.duration,s=void 0===o?250:o;return{velocity:this.transform(k(i)),distance:this.transform(k(e)),duration:s}},delay:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(t){case!0:return 180;case!1:return 0;default:return t}}});Object.assign(at,{useTouch:function(t){if(void 0!==t)throw Error("[@use-gesture]: `useTouch` option has been renamed to `pointer.touch`. Use it as in `{ pointer: { touch: true } }`.");return NaN},experimental_preventWindowScrollY:function(t){if(void 0!==t)throw Error("[@use-gesture]: `experimental_preventWindowScrollY` option has been renamed to `preventScroll`.");return NaN},swipeVelocity:function(t){if(void 0!==t)throw Error("[@use-gesture]: `swipeVelocity` option has been renamed to `swipe.velocity`. Use it as in `{ swipe: { velocity: 0.5 } }`.");return NaN},swipeDistance:function(t){if(void 0!==t)throw Error("[@use-gesture]: `swipeDistance` option has been renamed to `swipe.distance`. Use it as in `{ swipe: { distance: 50 } }`.");return NaN},swipeDuration:function(t){if(void 0!==t)throw Error("[@use-gesture]: `swipeDuration` option has been renamed to `swipe.duration`. Use it as in `{ swipe: { duration: 250 } }`.");return NaN}});var ht=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","pinching"),N(l(t),"aliasKey","da"),t}var r=i.prototype;return r.init=function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map},r.reset=function(){t.prototype.reset.call(this);var n=this.state;n._touchIds=[],n.canceled=!1,n.cancel=this.cancel.bind(this),n.turns=0},r.computeOffset=function(){var t=this.state,n=t.type,i=t.movement,r=t.lastOffset;this.state.offset="wheel"===n?A(i,r):[(1+i[0])*r[0],i[1]+r[1]]},r.computeMovement=function(){var t=this.state,n=t.offset,i=t.lastOffset;this.state.movement=[n[0]/i[0],n[1]-i[1]]},r.intent=function(t){var n=this.state;if(!n.axis){var i=30*Math.abs(t[0])-Math.abs(t[1]);i<0?n.axis="angle":i>0&&(n.axis="scale")}this.config.lockDirection&&("scale"===n.axis?t[1]=0:"angle"===n.axis&&(t[0]=0))},r.cancel=function(){var t=this,n=this.state;n.canceled||setTimeout((function(){n.canceled=!0,n._active=!1,t.compute(),t.emit()}),0)},r.touchStart=function(t){this.ctrl.setEventIds(t);var n=this.state,i=this.ctrl.touchIds;if(!(n._active&&n._touchIds.every((function(t){return i.has(t)}))||i.size<2)){this.start(t),n._touchIds=Array.from(i).slice(0,2);var r=L(t,n._touchIds);this.pinchStart(t,r)}},r.pointerStart=function(t){if(null==t.buttons||t.buttons%2==1){this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);var n=this.state,i=n._pointerEvents,r=this.ctrl.pointerIds;if(!(n._active&&Array.from(i.keys()).every((function(t){return r.has(t)}))||(i.size<2&&i.set(t.pointerId,t),n._pointerEvents.size<2))){this.start(t);var e=_.apply(void 0,j(Array.from(i.values())));this.pinchStart(t,e)}}},r.pinchStart=function(t,n){this.state.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()},r.touchMove=function(t){if(this.state._active){var n=L(t,this.state._touchIds);this.pinchMove(t,n)}},r.pointerMove=function(t){var n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),this.state._active){var i=_.apply(void 0,j(Array.from(n.values())));this.pinchMove(t,i)}},r.pinchMove=function(t,n){var i=this.state,r=i._values[1],e=n.angle-r,o=0;Math.abs(e)>270&&(o+=Math.sign(e)),this.computeValues([n.distance,n.angle-360*o]),i.origin=n.origin,i.turns=o,i._movement=[i._values[0]/i._initial[0]-1,i._values[1]-i._initial[1]],this.compute(t),this.emit()},r.touchEnd=function(t){var n=this;this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some((function(t){return!n.ctrl.touchIds.has(t)}))&&(this.state._active=!1,this.compute(t),this.emit())},r.pointerEnd=function(t){var n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch(t){}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())},r.gestureStart=function(t){t.cancelable&&t.preventDefault();var n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())},r.gestureMove=function(t){if(t.cancelable&&t.preventDefault(),this.state._active){var n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];var i=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=E(n._movement,i),this.compute(t),this.emit()}},r.gestureEnd=function(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())},r.wheel=function(t){t.ctrlKey&&(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))},r.wheelStart=function(t){this.start(t),this.wheelChange(t)},r.wheelChange=function(t){"uv"in t||(t.cancelable&&t.preventDefault(),t.defaultPrevented||console.warn("[@use-gesture]: To properly support zoom on trackpads, try using the `target` option.\n\nThis message will only appear in development mode."));var n=this.state;n._delta=[-W(t)[1]/100*n.offset[0],0],z(n._movement,n._delta),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()},r.wheelEnd=function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())},r.bind=function(t){var n=this.config.device;n?(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this))):t("wheel","",this.wheel.bind(this),{passive:!1})},i}(q),ct=P(P({},nt),{},{device:function(t,n,i){var r=i.shared,e=i.pointer,o=(e=void 0===e?{}:e).touch,s=void 0!==o&&o;if(r.target&&!ut.touch&&ut.gesture)return"gesture";if(ut.touch&&s)return"touch";if(ut.touchscreen){if(ut.pointer)return"pointer";if(ut.touch)return"touch"}},bounds:function(t,n,i){var r=i.scaleBounds,e=void 0===r?{}:r,o=i.angleBounds,s=void 0===o?{}:o,u=function(t){var n=$(F(e,t),{min:-1/0,max:1/0});return[n.min,n.max]},a=function(t){var n=$(F(s,t),{min:-1/0,max:1/0});return[n.min,n.max]};return"function"!=typeof e&&"function"!=typeof s?[u(),a()]:function(t){return[u(t),a(t)]}},threshold:function(t,n,i){return this.lockDirection="lock"===i.axis,k(t,this.lockDirection?[.1,3]:0)}}),ft=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","moving"),t}var r=i.prototype;return r.move=function(t){this.config.mouseOnly&&"mouse"!==t.pointerType||(this.state._active?this.moveChange(t):this.moveStart(t),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))},r.moveStart=function(t){this.start(t),this.computeValues(Z(t)),this.compute(t),this.computeInitial(),this.emit()},r.moveChange=function(t){if(this.state._active){var n=Z(t),i=this.state;i._delta=E(n,i._values),z(i._movement,i._delta),this.computeValues(n),this.compute(t),this.emit()}},r.moveEnd=function(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())},r.bind=function(t){t("pointer","change",this.move.bind(this)),t("pointer","leave",this.moveEnd.bind(this))},i}(J),vt=P(P({},it),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),lt=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","scrolling"),t}var r=i.prototype;return r.scroll=function(t){this.state._active||this.start(t),this.scrollChange(t),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))},r.scrollChange=function(t){t.cancelable&&t.preventDefault();var n=this.state,i=function(t){var n,i,r=t.currentTarget,e=r.scrollX,o=r.scrollY,s=r.scrollLeft,u=r.scrollTop;return[null!==(n=null!=e?e:s)&&void 0!==n?n:0,null!==(i=null!=o?o:u)&&void 0!==i?i:0]}(t);n._delta=E(i,n._values),z(n._movement,n._delta),this.computeValues(i),this.compute(t),this.emit()},r.scrollEnd=function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())},r.bind=function(t){t("scroll","",this.scroll.bind(this))},i}(J),dt=it,pt=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","wheeling"),t}var r=i.prototype;return r.wheel=function(t){this.state._active||this.start(t),this.wheelChange(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))},r.wheelChange=function(t){var n=this.state;n._delta=W(t),z(n._movement,n._delta);var i=O(n.overflow,2),r=i[0],e=i[1],o=O(n._delta,2),s=o[0],u=o[1],a=O(n._direction,2),h=a[0],c=a[1];(r<0&&s>0&&h<0||r>0&&s<0&&h>0)&&(n._movement[0]=n._movementBound[0]),(e<0&&u>0&&c<0||e>0&&u<0&&c>0)&&(n._movement[1]=n._movementBound[1]),this.compute(t),this.emit()},r.wheelEnd=function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())},r.bind=function(t){t("wheel","",this.wheel.bind(this))},i}(J),gt=it,mt=function(t){c(i,t);var n=p(i);function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return N(l(t=n.call.apply(n,[this].concat(r))),"ingKey","hovering"),t}var r=i.prototype;return r.enter=function(t){this.config.mouseOnly&&"mouse"!==t.pointerType||(this.start(t),this.computeValues(Z(t)),this.compute(t),this.emit())},r.leave=function(t){if(!this.config.mouseOnly||"mouse"===t.pointerType){var n=this.state;if(n._active){n._active=!1;var i=Z(t);n._movement=n._delta=E(i,n._values),this.computeValues(i),this.compute(t),n.delta=n.movement,this.emit()}}},r.bind=function(t){t("pointer","enter",this.enter.bind(this)),t("pointer","leave",this.leave.bind(this))},i}(J),yt=P(P({},it),{},{mouseOnly:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]}}),wt=new Map,bt=new Map;function Ot(t){wt.set(t.key,t.engine),bt.set(t.key,t.resolver)}var jt={key:"drag",engine:et,resolver:at},St={key:"hover",engine:mt,resolver:yt},xt={key:"move",engine:ft,resolver:vt},Mt={key:"pinch",engine:ht,resolver:ct},kt={key:"scroll",engine:lt,resolver:dt},At={key:"wheel",engine:pt,resolver:gt},Et={};!function(t,n){for(var i in function(t){e(t,"__esModule",{value:!0})}(t),n)e(t,i,{get:n[i],enumerable:!0})}(Et,{default:function(){return zt}}),a(Et,i),a(Et,r);var zt=y(y({},t),n);var Tt={target:function(t){if(t)return function(){return"current"in t?t.current:t}},enabled:function(){return!(arguments.length>0&&void 0!==arguments[0])||arguments[0]},window:function(t){function n(){return t.apply(this,arguments)}return n.toString=function(){return t.toString()},n}((function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut.isBrowser?window:void 0})),eventOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.passive,i=void 0===n||n,r=t.capture;return{passive:i,capture:void 0!==r&&r}},transform:function(t){return t}},Dt=["target","eventOptions","window","enabled","transform"];function Nt(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,i={},r=0,e=Object.entries(n);r<e.length;r++){var o=O(e[r],2),s=o[0],u=o[1];switch(v(u)){case"function":var a=u.call(i,t[s],s,t);Number.isNaN(a)||(i[s]=a);break;case"object":i[s]=Nt(t[s],u);break;case"boolean":u&&(i[s]=t[s])}}return i}var Kt=function(){function t(t){N(this,"_listeners",[]),this._ctrl=t}var n=t.prototype;return n.add=function(t,n,i,r,e){var o=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=Y[t];return t+(i&&i[n]||n)}(n,i),s=P(P({},this._ctrl.config.shared.eventOptions),e);t.addEventListener(o,r,s),this._listeners.push((function(){return t.removeEventListener(o,r,s)}))},n.clean=function(){this._listeners.forEach((function(t){return t()})),this._listeners=[]},t}(),Pt=function(){function t(){N(this,"_timeouts",new Map)}var n=t.prototype;return n.add=function(t,n){var i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(t);for(var e=arguments.length,o=new Array(e>3?e-3:0),s=3;s<e;s++)o[s-3]=arguments[s];this._timeouts.set(t,(i=window).setTimeout.apply(i,[n,r].concat(o)))},n.remove=function(t){var n=this._timeouts.get(t);n&&window.clearTimeout(n)},n.clean=function(){this._timeouts.forEach((function(t){window.clearTimeout(t)})),this._timeouts.clear()},t}(),Yt=function(){function t(t){var n,i;N(this,"gestures",new Set),N(this,"_targetEventStore",new Kt(this)),N(this,"gestureEventStores",{}),N(this,"gestureTimeoutStores",{}),N(this,"handlers",{}),N(this,"config",{}),N(this,"pointerIds",new Set),N(this,"touchIds",new Set),N(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),n=this,(i=t).drag&&It(n,"drag"),i.wheel&&It(n,"wheel"),i.scroll&&It(n,"scroll"),i.move&&It(n,"move"),i.pinch&&It(n,"pinch"),i.hover&&It(n,"hover")}var n=t.prototype;return n.setEventIds=function(t){U(t)?this.touchIds=new Set(function(t){return function(t){return Array.from(t.touches).filter((function(n){var i,r;return n.target===t.currentTarget||(null===(i=t.currentTarget)||void 0===i||null===(r=i.contains)||void 0===r?void 0:r.call(i,n.target))}))}(t).map((function(t){return t.identifier}))}(t)):"pointerId"in t&&("pointerup"===t.type||"pointercancel"===t.type?this.pointerIds.delete(t.pointerId):"pointerdown"===t.type&&this.pointerIds.add(t.pointerId))},n.applyHandlers=function(t,n){this.handlers=t,this.nativeHandlers=n},n.applyConfig=function(t,n){this.config=function(t,n){var i=t,r=i.target,e=i.eventOptions,o=i.window,s=i.enabled,u=i.transform,a=function(t,n){if(null==t)return{};var i,r,e=function(t,n){if(null==t)return{};var i,r,e={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}(t,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(t,i)&&(e[i]=t[i])}return e}(i,Dt),h={shared:Nt({target:r,eventOptions:e,window:o,enabled:s,transform:u},Tt)};if(n){var c=bt.get(n);h[n]=Nt(P({shared:h.shared},a),c)}else for(var f in a){var v=bt.get(f);if(v)h[f]=Nt(P({shared:h.shared},a[f]),v);else if(!["drag","pinch","scroll","wheel","move","hover"].includes(f)){if("domTarget"===f)throw Error("[@use-gesture]: `domTarget` option has been renamed to `target`.");console.warn("[@use-gesture]: Unknown config key `".concat(f,"` was used. Please read the documentation for further information."))}}return h}(t,n)},n.clean=function(){this._targetEventStore.clean();for(var t,n=x(this.gestures,!0);!(t=n()).done;){var i=t.value;this.gestureEventStores[i].clean(),this.gestureTimeoutStores[i].clean()}},n.effect=function(){var t=this;return this.config.shared.target&&this.bind(),function(){return t._targetEventStore.clean()}},n.bind=function(){for(var t=this,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];var e,o=this.config.shared,s=o.eventOptions,u={};if(!o.target||(e=o.target())){var a=Xt(u,s,!!e);if(o.enabled){for(var h,c=x(this.gestures,!0);!(h=c()).done;){var f=h.value;this.config[f].enabled&&new(wt.get(f))(this,i,f).bind(a)}var v=function(n){a(n,"",(function(r){return t.nativeHandlers[n](P(P({},t.state.shared),{},{event:r,args:i}))}),void 0,!0)};for(var l in this.nativeHandlers)v(l)}for(var d in u)u[d]=G.apply(void 0,j(u[d]));if(!e)return u;for(var p in u){var g=R(p),m=g.device,y=g.capture,w=g.passive;this._targetEventStore.add(e,m,"",u[p],{capture:y,passive:w})}}},t}();function It(t,n){t.gestures.add(n),t.gestureEventStores[n]=new Kt(t),t.gestureTimeoutStores[n]=new Pt}var Xt=function(t,n,i){return function(r,e,o){var s,u,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},h=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(s=a.capture)&&void 0!==s?s:n.capture,f=null!==(u=a.passive)&&void 0!==u?u:n.passive,v=h?r:X(r,e,c);i&&f&&(v+="Passive"),t[v]=t[v]||[],t[v].push(o)}},Ht=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function Rt(t,n,i,r,e,o){if(t.has(i))if(wt.has(r)){var s=i+"Start",u=i+"End";e[r]=function(t){var r=void 0;return t.first&&s in n&&n[s](t),i in n&&(r=n[i](t)),t.last&&u in n&&n[u](t),r},o[r]=o[r]||{}}else console.warn("[@use-gesture]: You've created a custom handler that that uses the `".concat(r,"` gesture but isn't properly configured.\n\nPlease add `").concat(r,"Action` when creating your handler."))}function Ut(t,n){var i=function(t){var n={},i={},r=new Set;for(var e in t)Ht.test(e)?(r.add(RegExp.lastMatch),i[e]=t[e]):n[e]=t[e];return[i,n,r]}(t),r=O(i,3),e=r[0],o=r[1],s=r[2],u={};return Rt(s,e,"onDrag","drag",u,n),Rt(s,e,"onWheel","wheel",u,n),Rt(s,e,"onScroll","scroll",u,n),Rt(s,e,"onPinch","pinch",u,n),Rt(s,e,"onMove","move",u,n),Rt(s,e,"onHover","hover",u,n),{handlers:u,config:n,nativeHandlers:o}}function Ct(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,e=zt.useMemo((function(){return new Yt(t)}),[]);if(e.applyHandlers(t,r),e.applyConfig(n,i),zt.useEffect(e.effect.bind(e)),zt.useEffect((function(){return e.clean.bind(e)}),[]),void 0===n.target)return e.bind.bind(e)}function _t(t){return t.forEach(Ot),function(t){var n=Ut(t,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),i=n.handlers,r=n.nativeHandlers;return Ct(i,n.config,void 0,r)}}Array.isArray;var Lt=Object.prototype;function Bt(t){return"".concat(t,"px")}function Zt(t,n){return"number"==typeof t?n(t):t}function Wt(n,i){var r=(0,t.useValueRef)(i);(0,t.useEffect)((function(){var t=n.current;if(t){var i=new ResizeObserver((function(t){r.current(t[0])}));return i.observe(t),function(){i.unobserve(t),i.disconnect()}}}),[n,r])}Lt.hasOwnProperty,Lt.toString;var Ft={posX:0,posY:0,minScale:1,maxScale:3,scale:1,contentOffset:{x:0,y:0},containerSize:{width:0,height:0},contentSize:{width:0,height:0},isDragging:!1,allowExtent:!1},Vt=function(t,n,i,r){return t<n?n+(t-n)*r:t>i?i+(t-i)*r:t},Gt=function(t,n){var i=t.allowExtent,r=t.containerSize,e=t.contentOffset,o=t.contentSize,s=t.maxScale,u=t.minScale,a=n.posX,h=void 0===a?t.posX:a,c=n.posY,f=void 0===c?t.posY:c,v=n.scale,l=void 0===v?t.scale:v,d=Vt(l,u,s,i?.25:0),p=-e.x*d,g=r.width-(e.x+o.width)*d,m=-e.y*d,y=r.height-(e.y+o.height)*d;if(o.width*d>r.width){var w=[g,p];p=w[0],g=w[1]}if(o.height*d>r.height){var b=[y,m];m=b[0],y=b[1]}var O=i&&d>1?.25:0;return{posX:Vt(h,p,g,O),posY:Vt(f,m,y,O),scale:d}};var $t=["children","controls","initialScale","initialX","initialY","maxScale"],qt={drag:{filterTaps:!0,tapsThreshold:10}};function Jt(t,n,i){var r=i.getBoundingClientRect();return{anchorX:t-r.x,anchorY:n-r.y}}var Qt=(0,t.forwardRef)((function(n,i){var r=n.children,e=n.controls,o=void 0===e||e,s=n.initialScale,u=n.initialX,a=n.initialY,h=n.maxScale,c=function(t,n){if(null==t)return{};var i,r,e={},o=Object.keys(t);for(r=0;r<o.length;r++)i=o[r],n.indexOf(i)>=0||(e[i]=t[i]);return e}(n,$t),f=O(function(n){var i=(0,t.useState)((function(){return function(t){var n=t.initialScale,i=void 0===n?1:n,r=t.initialX,e=void 0===r?0:r,o=t.initialY,s=void 0===o?0:o,u=t.maxScale,a=void 0===u?3:u;return y(y({},Ft),{},{posX:Number(e),posY:Number(s),scale:Number(i),maxScale:Number(a)})}(n)})),r=O(i,2),e=r[0],o=r[1],s=(0,t.useMemo)((function(){return{updateBounds:function(t){o((function(n){var i=y(y({},n),t);return y(y({},i),Gt(i,i))}))},draggingStart:function(){o((function(t){return y(y({},t),{},{isDragging:!0,allowExtent:!0})}))},draggingRelease:function(){o((function(t){var n=y(y({},t),{},{isDragging:!1,allowExtent:!1}),i=Gt(n,n);return y(y({},n),i)}))},updateScale:function(t){o((function(n){var i=t.anchorX,r=void 0===i?n.containerSize.width/2:i,e=t.anchorY,o=void 0===e?n.containerSize.height/2:e,s=t.scale,u=void 0===s?n.scale===n.maxScale?n.minScale:Math.floor(n.scale)+1:s;return y(y({},n),Gt(n,function(t,n,i,r){var e=t.posX,o=t.posY,s=r/t.scale;return{posX:n-(n-e)*s,posY:i-(i-o)*s,scale:r}}(n,r,o,u)))}))},transform:function(t){o((function(n){return y(y({},n),Gt(n,t))}))}}}),[o]);return[e,s]}({initialX:u,initialY:a,initialScale:s,maxScale:h}),2),v=f[0],l=f[1],d=1!==v.scale,p=v.scale<v.maxScale,g=(0,t.useRef)(null),m=(0,t.useRef)(null),w=function(){var t=g.current.getBoundingClientRect(),n=m.current.getBoundingClientRect();l.updateBounds({containerSize:n,contentSize:t,contentOffset:{x:t.x-n.x,y:t.y-n.y}})};Wt(g,w),Wt(m,w),(0,t.useImperativeHandle)(i,(function(){return{transform:function(t,n,i){l.transform({scale:t,posX:n,posY:i})}}}),[l]);var b,j,S,x={transformOrigin:Bt(-v.contentOffset.x)+" "+Bt(-v.contentOffset.y),transform:(j=v.posX,S=v.posY,(null==S?"translate(".concat(Zt(j,Bt),")"):"translate(".concat(Zt(j,Bt),", ").concat(Zt(S,Bt),")"))+(b=v.scale,"scale(".concat(b,")")))},M=(0,t.useRef)(v),k=(0,t.useRef)(-500),A=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _t([jt,Mt,kt,At,xt,St])(t,n)}({onDragStart:function(){d&&(l.draggingStart(),M.current=v)},onDragEnd:function(){l.draggingRelease()},onDrag:function(t){if(t.tap)if(t.startTime-k.current<=500){var n=O(t.xy,2),i=Jt(n[0],n[1],m.current);l.updateScale(i),k.current=-500}else k.current=t.startTime;else if(d){var r=O(t.movement,2),e=r[0],o=r[1],s=M.current,u=s.posX,a=s.posY;l.transform({posX:u+e,posY:a+o})}},onPinchStart:function(){l.draggingStart(),M.current=v},onPinchEnd:function(){l.draggingRelease()},onPinch:function(t){var n=O(t.origin,2),i=n[0],r=n[1],e=O(t.movement,1)[0],o=O(t.memo||[i,r],2),s=Jt(o[0],o[1],m.current),u=s.anchorX,a=s.anchorY,h=M.current,c=h.posX,f=h.posY,v=h.scale,d=e*v;if(l.transform({posX:c,posY:f,scale:v}),l.updateScale({anchorX:u,anchorY:a,scale:d}),t.first)return t.origin}},qt);return(0,t.createElement)(t.ContainWrapper,y(y({},c),{},{layout:!0,contentClassName:"amp-pan-zoom-wrapper-3736a75"}),(0,t.createElement)("div",y({"data-test-id":"container",ref:m,class:"amp-pan-zoom-container-3736a75"+(d?" pannable":"")},A()),(0,t.createElement)("div",{"data-test-id":"content-container",ref:g},(0,t.createElement)("div",{"data-test-id":"content",class:"amp-pan-zoom-content-3736a75"+(v.isDragging?" amp-pan-zoom-dragging-3736a75":""),style:x,onPointerDown:function(t){d&&t.preventDefault()}},r))),o&&(0,t.createElement)("button",{"aria-label":p?"Zoom in":"Zoom out",class:"amp-pan-zoom-button-3736a75"+(p?" canZoom":""),onClick:function(){return l.updateScale({})}}))}));Qt.displayName="BentoPanZoom";var tn=function(t){c(i,t);var n=p(i);function i(){return n.apply(this,arguments)}return i}(t.PreactBaseElement);tn.Component=Qt,tn.props={"children":{passthrough:!0},"initialX":{attr:"initial-x"},"initialY":{attr:"initial-y"},"initialScale":{attr:"initial-scale"},"maxScale":{attr:"max-scale"}},tn.layoutSizeDefined=!0,tn.usesShadowDom=!0,tn.shadowCss='.amp-pan-zoom-wrapper-3736a75{width:100%;height:100%}.amp-pan-zoom-content-3736a75{transition:transform 0.3s ease-out;will-change:transform}.amp-pan-zoom-container-3736a75{width:100%;height:100%;display:-ms-flexbox;display:flex;overflow:hidden;-ms-flex-align:center;align-items:center;-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y;-ms-flex-pack:center;justify-content:center}.amp-pan-zoom-container-3736a75.pannable{cursor:move;-webkit-user-select:none;-ms-user-select:none;user-select:none;-ms-touch-action:none;touch-action:none}.amp-pan-zoom-dragging-3736a75{transition:none}.amp-pan-zoom-button-3736a75{right:12px;width:36px;border:none;bottom:12px;height:36px;position:absolute;box-shadow:1px 1px 2px;border-radius:3px;background-color:#fff;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 13H5v-2h14z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\');background-repeat:no-repeat;background-position:50%}.amp-pan-zoom-button-3736a75.canZoom{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg height="24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')}',(0,t.defineBentoElement)("bento-pan-zoom",tn,undefined)}))}();
//# sourceMappingURL=bento-pan-zoom-1.0.js.map
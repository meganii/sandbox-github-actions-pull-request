;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-date-display",ev:"0.1",l:!0,f:function(t,e){(()=>{function e(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function i(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?i(Object(o),!0).forEach((function(i){e(t,i,o[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function o(t,e){return e.toUpperCase()}var{hasOwnProperty:r,toString:s}=Object.prototype;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var h=self.__AMP_LOG;function a(t){return h.user||(h.user=u()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(h.user.win,t)?h.userForEmbed||(h.userForEmbed=u()):h.user}function u(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function c(t,e,i,n,o,r,s,h,a,u,c){return t}function l(t,e,i,n,o,r,s,h,u,c,l){return a().assert(t,e,i,n,o,r,s,h,u,c,l)}function m(t){return t.nodeType?(i=t,e=(i.ownerDocument||i).defaultView,function(t,e){return d(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),"ampdoc")}(e)).getAmpDoc(t):t;var e,i}function d(t,e){c(function(t,e){const i=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!i||!i.ctor)}(t,e));const i=function(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}(t)[e];return i.obj||(c(i.ctor),c(i.context),i.obj=new i.ctor(i.context),c(i.obj),i.context=null,i.resolve&&i.resolve(i.obj)),i.obj}function f(t,e,i,n="long"){var o,r;if(null===(o=Intl)||void 0===o||!o.DateTimeFormat)return"";const s=new Intl.DateTimeFormat(e,{timeZone:null==i?void 0:i.timeZone,timeZoneName:n}),h=(null===(r=s.formatToParts)||void 0===r?void 0:r.call(s,t))||[];for(const t of h)if("timeZoneName"===t.type)return t.value;return""}var _="amp-date-display",b={"year":"numeric","month":"short","day":"numeric","hour":"numeric","minute":"numeric"},p=class extends t.BaseElement{constructor(t){super(t),this.sM=this.eM.bind(this),this.a_="",this.rM=0,this.c_=0,this.l_="",this.uM=0,this.oM="",this.m_=null,this.tM=null,this.fn=null}buildCallback(){var t,e;this.tM=(t=this.element,e="templates",d(function(t){const e=m(t);return e.isSingleDoc()?e.win:e}(m(t)),e)),this.fn=this.element.ownerDocument.createElement("div"),this.element.appendChild(c(this.fn)),this.a_=this.element.getAttribute("datetime")||"",this.rM=Number(this.element.getAttribute("timestamp-seconds")),this.c_=Number(this.element.getAttribute("timestamp-ms")),this.l_=this.element.getAttribute("display-in")||"",this.uM=Number(this.element.getAttribute("offset-seconds"))||0,this.oM=this.element.getAttribute("locale")||"en",this.m_=this.d_(this.element,"data-options-");const i=this.f_();this.tM.findAndRenderTemplate(this.element,i).then(this.sM)}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}f_(){const{Date:t}=this.win,e=new t(this.pM()+1e3*this.uM),i="utc"===this.l_.toLowerCase()?this.__(e,this.oM,this.m_):this.b_(e,this.oM,this.m_);return this.p_(i)}pM(){const{Date:t}=this.win;let e;return"now"===this.a_.toLowerCase()?e=t.now():this.a_?(e=t.parse(this.a_),l(!isNaN(e),"Invalid date: %s",this.a_)):this.c_?e=this.c_:this.rM&&(e=1e3*this.rM),l(void 0!==e,"One of datetime, timestamp-ms, or timestamp-seconds is required"),e}g_(t,e){return null!==t&&void 0!==e&&t.startsWith(e)&&t!==e}d_(t,e){const i={};let n=!1;const r=t.attributes;for(let t=0;t<r.length;t++){const h=r[t];this.g_(h.name,e)&&(i[(s=h.name.slice(e.length),s.replace(/-([a-z])/g,o))]=h.value,n=!0)}var s;if(n)return i}v_(t,e,i){try{return t.toLocaleString(e,i)}catch(t){a().error(_,"localeOptions",t)}}b_(t,e,i=b){return{year:t.getFullYear(),month:t.getMonth()+1,monthName:t.toLocaleDateString(e,{month:"long"}),monthNameShort:t.toLocaleDateString(e,{month:"short"}),day:t.getDate(),dayName:t.toLocaleDateString(e,{weekday:"long"}),dayNameShort:t.toLocaleDateString(e,{weekday:"short"}),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds(),iso:t.toISOString(),localeString:this.v_(t,e,i),timeZoneName:f(t,e,i),timeZoneNameShort:f(t,e,i,"short")}}__(t,e,i=b){const o=n(n({},i),{},{timeZone:"UTC"});return{year:t.getUTCFullYear(),month:t.getUTCMonth()+1,monthName:t.toLocaleDateString(e,{month:"long",timeZone:"UTC"}),monthNameShort:t.toLocaleDateString(e,{month:"short",timeZone:"UTC"}),day:t.getUTCDate(),dayName:t.toLocaleDateString(e,{weekday:"long",timeZone:"UTC"}),dayNameShort:t.toLocaleDateString(e,{weekday:"short",timeZone:"UTC"}),hour:t.getUTCHours(),minute:t.getUTCMinutes(),second:t.getUTCSeconds(),iso:t.toISOString(),localeString:this.v_(t,e,o),timeZoneName:f(t,e,o),timeZoneNameShort:f(t,e,o,"short")}}p_(t){const e=t.hour%12||12;return n(n({},t),{},{yearTwoDigit:this.wM(t.year%100),monthTwoDigit:this.wM(t.month),dayTwoDigit:this.wM(t.day),hourTwoDigit:this.wM(t.hour),hour12:e,hour12TwoDigit:this.wM(e),minuteTwoDigit:this.wM(t.minute),secondTwoDigit:this.wM(t.second),dayPeriod:t.hour<12?"am":"pm"})}wM(t){return t>9?t.toString():"0"+t}eM(t){this.mutateElement((()=>{!function(t){for(;t.firstChild;)t.removeChild(t.firstChild)}(this.fn),this.fn.appendChild(t);const e=function(t,e,i,n){const o={detail:null};return Object.assign(o,{bubbles:!0}),new t.CustomEvent("amp:dom-update",o)}(this.win);this.element.dispatchEvent(e)}))}};t.registerElement(_,p)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-date-display-0.1.mjs.map
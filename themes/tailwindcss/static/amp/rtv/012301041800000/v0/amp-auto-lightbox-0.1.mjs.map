{"version":3,"file":"amp-auto-lightbox-0.1.mjs","mappings":"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","names":["CommonSignals_Enum","arrayLike","Array","prototype","slice","call","hasOwnProperty","hasOwn_","toString","toString_","Object","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","node","ownerDocument","defaultView","element","selector","closest","resolved","intersectionDeferreds","intersectionObservers","DEFAULT_CUSTOM_EVENT_OPTIONS","bubbles","cancelable","Deferred","constructor","this","promise","Promise","res","rej","resolve","reject","WeakMap","self","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","win","id","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","getAmpdocServiceHolder","getAmpdoc","nodeOrDoc","nodeType","getWin","getService","getAmpDoc","ampdoc","isSingleDoc","holder","devAssert","isServiceRegistered","s","services","__AMP_SERVICES","getServices","obj","ctor","context","service","optsSupported","Services","getServiceForDoc","eventType","listener","opt_evtListenerOpts","localListener","unlisten","localElement","wrapped","event","e","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","eleOrWindow","tagName","test","location","hash","VISITED_ATTR","ENABLED_LD_JSON_TYPES","Article","NewsArticle","BlogPosting","LiveBlogPosting","DiscussionForumPosting","DISABLED_BY_ATTR","join","DISABLED_ANCESTORS","NOOP","Criteria","static","renderWidth","renderHeight","meetsSizingCriteria","meetsTreeShapeCriteria","closestAncestorElementBySelector","getServiceForDocOrNull","hasResolvableAction","naturalHeight","naturalWidth","img","ratio","maxWidthFromSrcset","max","srcsetAttr","getAttribute","match","srcsetWidthRe","exec","width","parseInt","getMaxWidthFromSrcset","getMaxNaturalDimensions","querySelector","viewport","height","vh","vw","getSize","renderArea","candidate","mutateElement","setAttribute","DocMetaAnnotations","tag","getRootNode","getOgType","ENABLED_OG_TYPE_ARTICLE","toArray","querySelectorAll","map","el","textContent","json","opt_onFailed","JSON","parse","parseJson","tryParseJson","filter","Boolean","getAllLdJsonTypes","some","type","uid","opt_root","lightboxedElementsSelector","exists","usesLightboxExplicitly","hasValidOgType","hasValidLdJsonType","isEnabledForDoc","root","document","candidates","whenLoaded","unlistenLoad","unlistenError","complete","readyState","isHTMLMediaElement","isLoaded","isMediaElement","MEDIA_LOAD_FAILURE_SRC_PROPERTY","currentSrc","listenOnce","errorTarget","hasAttribute","parent","callback","child","lastElementChild","previousElementSibling","lastChildElement","then","target","src","getUserLogger","createError","failedToLoad","loadPromise","startsWith","isAmpElement","createdCallback","UPGRADE_TO_CUSTOMELEMENT_PROMISE","deferred","UPGRADE_TO_CUSTOMELEMENT_RESOLVER","upgradedPromise","whenUpgradedToCustomElement","signals","whenSignal","_intersectionDeferred2","get","inOb","observer","ioCallback","opts","needsRootBounds","rootMargin","threshold","isIframed","IntersectionObserver","createViewportObserver","entries","seen","Set","i","length","has","add","unobserve","delete","set","getInOb","observe","measureIntersectionNoRoot","boundingClientRect","meetsAll","installExtensionForDoc","name","opt_data","opt_options","createEvent","data","initEvent","AutoLightboxEvents_Enum","dispatchEvent","dispatchCustomEvent","apply","runCandidates","forEach","markAsVisited","getCandidates","AMP","whenReady","scan"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/core/constants/amp-events.js","src/core/constants/common-signals.js","src/core/types/array.js","src/core/types/object/index.js","src/core/assert/dev.js","src/core/window/index.js","src/core/dom/query.js","src/core/dom/index.js","src/core/data-structures/promise.js","src/core/dom/layout/intersection-no-root.js","src/core/dom/layout/viewport-observer.js","src/utils/log.js","src/service-helpers.js","src/service/index.js","src/core/dom/event-helper-listen.js","src/utils/event-helper.js","src/chunk.js","extensions/amp-auto-lightbox/0.1/amp-auto-lightbox.js","src/core/types/object/json.js","src/core/dom/amp-element-helpers.js"]}

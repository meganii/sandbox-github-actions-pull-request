;
!function(n){var t=self.BENTO=self.BENTO||{},e=function(n,t){"use strict";function e(n,t){return(e=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,t)}function r(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&e(n,t)}function u(n){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i(n,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function a(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,r=u(n);if(t){var o=u(this).constructor;e=Reflect.construct(r,arguments,o)}else e=r.apply(this,arguments);return i(this,e)}}function f(n,t){for(var e=[],r=0,u=0;u<n.length;u++){var o=n[u];t(o,u,n)?e.push(o):(r<u&&(n[r]=o),r++)}return r<n.length&&(n.length=r),e}function c(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}Array.isArray;var s=Object.prototype;function l(n){return 1==(null==(t=n)?void 0:t.nodeType)?(n=n).tagName.toLowerCase()+(n.id?"#".concat(n.id):""):n;var t}function d(n,t,e,r,u,o,i,a,c,s,d){return function(n,t){var e,r,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Assertion failed";if(t)return t;n&&-1==u.indexOf(n)&&(u+=n);for(var o=3,i=u.split("%s"),a=i.shift(),c=[a];i.length;){var s=arguments[o++],d=i.shift();a+=l(s)+d,c.push(s,d.trim())}var v=new Error(a);throw v.messageArray=f(c,(function(n){return""!==n})),null===(e=(r=self).__AMP_REPORT_ERROR)||void 0===e||e.call(r,v),v}("​​​",n,t,e,r,u,o,i,a,c,s,d)}s.hasOwnProperty,s.toString;var v=/(\0)|^(-)$|([\x01-\x1f\x7f]|^-?[0-9])|([\x80-\uffff0-9a-zA-Z_-]+)|[^]/g;function m(n,t,e,r,u){return u||(t?"�":r?n.slice(0,-1)+"\\"+n.slice(-1).charCodeAt(0).toString(16)+" ":"\\"+n)}function b(n){return String(n).replace(v,m)}function h(n){if(!n)return null;if("now"===n.toLowerCase())return Date.now();var t=Date.parse(n);return isNaN(t)?null:t}var y={"datetime":function(n){var t=h(n);return d(t,"Invalid date: %s",n),t},"end-date":function(n){var t=h(n);return d(t,"Invalid date: %s",n),t},"timeleft-ms":function(n){return Date.now()+Number(n)},"timestamp-ms":function(n){return Number(n)},"timestamp-seconds":function(n){return 1e3*Number(n)}};function p(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function j(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function g(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?j(Object(e),!0).forEach((function(t){p(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function O(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,u,o=[],i=!0,a=!1;try{for(e=e.call(n);!(i=(r=e.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(n){a=!0,u=n}finally{try{i||null==e.return||e.return()}finally{if(a)throw u}}return o}}(n,t)||function(n,t){if(n){if("string"==typeof n)return c(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?c(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(n){return S[n]}var S={"de":["Jahren","Monaten","Tagen","Stunden","Minuten","Sekunden"],"en":["Years","Months","Days","Hours","Minutes","Seconds"],"es":["años","meses","días","horas","minutos","segundos"],"fr":["ans","mois","jours","heures","minutes","secondes"],"id":["tahun","bulan","hari","jam","menit","detik"],"it":["anni","mesi","giorni","ore","minuti","secondi"],"ja":["年","ヶ月","日","時間","分","秒"],"ko":["년","달","일","시간","분","초"],"nl":["jaar","maanden","dagen","uur","minuten","seconden"],"pt":["anos","meses","dias","horas","minutos","segundos"],"ru":["год","месяц","день","час","минута","секунда"],"th":["ปี","เดือน","วัน","ชั่วโมง","นาที","วินาที"],"tr":["yıl","ay","gün","saat","dakika","saniye"],"vi":["năm","tháng","ngày","giờ","phút","giây"],"zh-cn":["年","月","天","小时","分钟","秒"],"zh-tw":["年","月","天","小時","分鐘","秒"]},M=["datetime","whenEnded","locale","biggestUnit","countUp","render"],A=864e5,D=36e5,E=6e4,I=1e3,N={DAYS:1,HOURS:2,MINUTES:3,SECONDS:4},R="en",U="stop",x=function(n){return"".concat(n.days," ").concat(n.dd,", ")+"".concat(n.hours," ").concat(n.hh,", ")+"".concat(n.minutes," ").concat(n.mm,", ")+"".concat(n.seconds," ").concat(n.ss)};function T(n){return n<-9||n>9?String(n):n>=-9&&n<0?"-0"+-n:"0"+n}function k(n){return n<0?n+1:n}var _=function(n){r(e,n);var t=a(e);function e(){return t.apply(this,arguments)}return e}(t.PreactBaseElement);_.Component=function(n){var e,r=n.datetime,u=n.whenEnded,i=void 0===u?U:u,a=n.locale,f=void 0===a?R:a,c=n.biggestUnit,s=void 0===c?"DAYS":c,l=n.countUp,d=void 0!==l&&l,v=n.render,m=void 0===v?x:v,b=function(n,t){if(null==n)return{};var e,r,u={},o=Object.keys(n);for(r=0;r<o.length;r++)e=o[r],t.indexOf(e)>=0||(u[e]=n[e]);return u}(n,M);e=(0,t.useAmpContext)().notify,(0,t.useLayoutEffect)((function(){e&&e()}));var y=(0,t.useAmpContext)().playable,p=(0,t.useMemo)((function(){return(n=r)?"number"==typeof n?n:"string"==typeof n?h(n):(n=n).getTime():null;var n}),[r]),j=(0,t.useMemo)((function(){return function(n){var t;void 0===w(n)&&(t="Invalid locale ".concat(n,", defaulting to ").concat(R,". ").concat("DateCountdown"),console.warn(t),n=R);var e=w(n);return{"years":e[0],"months":e[1],"days":e[2],"hours":e[3],"minutes":e[4],"seconds":e[5]}}(f)}),[f]),S=O((0,t.useState)(p-Date.now()+I),2),_=S[0],z=S[1],B=(0,t.useMemo)((function(){return function(n,t,e,r){return g(g({},function(n,t,e){e&&(n*=-1);var r=N[t]==N.DAYS?k(Math.floor(n/A)):0,u=N[t]==N.HOURS?k(Math.floor(n/D)):N[t]<N.HOURS?k(Math.floor(n%A/D)):0,o=N[t]==N.MINUTES?k(Math.floor(n/E)):N[t]<N.MINUTES?k(Math.floor(n%D/E)):0,i=k(N[t]==N.SECONDS?Math.floor(n/1e3):Math.floor(n%E/1e3));return{"d":r,"dd":T(r),"h":u,"hh":T(u),"m":o,"mm":T(o),"s":i,"ss":T(i)}}(n,t,r)),e)}(_,s,j,d)}),[_,s,j,d]),C=(0,t.useRef)(null);(0,t.useEffect)((function(){if(y&&C.current){var n=C.current.ownerDocument.defaultView,t=n.setInterval((function(){var e=p-Date.now()+I;z(e),i===U&&e<1e3&&n.clearInterval(t)}),I);return function(){return n.clearInterval(t)}}}),[y,p,i]);var H=function(n,e){var r=O((0,t.useState)(null),2),u=r[0],o=r[1];return(0,t.useLayoutEffect)((function(){var t,r=n&&n(e)||null;if("function"==typeof(null==(t=r)?void 0:t.then)){var u=!1;return r.then((function(n){u||o(n)})),function(){u=!0}}o(r)}),[n,e]),u}(m,B),P=H&&"object"==o(H)&&"__html"in H;return(0,t.createElement)(t.Wrapper,g(g({},b),{},{ref:C,dangerouslySetInnerHTML:P?H:null}),P?null:H)},_.layoutSizeDefined=!0,_.lightDomTag="div",_.usesTemplate=!0,_.props={"datetime":{attrs:["end-date","timeleft-ms","timestamp-ms","timestamp-seconds","offset-seconds"],parseAttrs:function(n){return function(n,t){var e=function(n,t){for(var e=t.map((function(n){return y[n]})),r=0;r<t.length;++r){var u=n.getAttribute(t[r]);if(u)return e[r](u)}return null}(n,t);return d(e,"One of attributes [%s] is required",t.join(", ")),e+1e3*(Number(n.getAttribute("offset-seconds"))||0)}(n,["end-date","timeleft-ms","timestamp-ms","timestamp-seconds"])}},"whenEnded":{attr:"when-ended"},"locale":{attr:"locale"},"biggestUnit":{attr:"biggest-unit"},"countUp":{attr:"count-up",type:"boolean"}};var z=function(t){r(u,t);var e=a(u);function u(){return e.apply(this,arguments)}return u.prototype.checkPropsPostMutations=function(){var t=function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"template";if(n.hasAttribute(t)){var e=n.getAttribute(t);return Boolean(e)?n.ownerDocument.querySelector("template#".concat(b(e))):null}return n.querySelector("template")}(this.element);t&&this.mutateProps({"render":function(e){return{"__html":n.default.render(t.innerHTML,e)}}})},u}(_);(0,t.defineBentoElement)("bento-date-countdown",z,undefined)};Promise.all(["v0/bento-mustache-1.0","bento"].map((function(n){return new Promise((function(e){(t[n]=t[n]||[]).push(e)}))}))).then((function(n){e.apply(null,n)}))}();
//# sourceMappingURL=bento-date-countdown-1.0.js.map
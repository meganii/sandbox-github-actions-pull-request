{"version":3,"file":"amp-position-observer-0.1.mjs","mappings":"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","names":["array","shouldRemove","removed","index","i","length","item","push","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","val","value","nodeType","tagName","toLowerCase","id","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","sentinel","var_args","indexOf","splitMessage","split","message","shift","messageArray","subValue","arguments","nextConstant","elementStringOrPassThru","trim","error","Error","remove","x","__AMP_REPORT_ERROR","assertions","userAssert","test","RelativePositions_Enum","left","top","width","height","bottom","right","y","r1","r2","self","__AMP_LOG","user","dev","userForEmbed","logs","levelFunc","opt_suffix","opt_element","getUserLogger","win","ownerDocument","defaultView","isFromEmbed","suffix","callLogConstructor","shouldBeTrueish","assert","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","getAmpdocServiceHolder","getAmpdoc","nodeOrDoc","node","getService","getAmpDoc","ampdoc","isSingleDoc","holder","devAssert","isServiceRegistered","s","getServices","obj","ctor","context","resolve","services","__AMP_SERVICES","service","Services","getServiceForDoc","constructor","opt_instantiate","opt_override","opt_sharedInstance","promise","reject","sharedInstance","registerServiceInternal","this","ampdoc_","win_","workers_","vsync_","viewport_","unlisteners_","inScroll_","measure_","callbackStarted_","boundStopScroll_","callback","minInterval","locker","timestamp","nextCallArgs","remaining","Date","now","args","setTimeout","waiter","apply","debounce","observe","element","fidelity","handler","worker","handler_","turn","Math","floor","random","prevPosition_","trigger_","position","prevPos","layoutRectEquals","positionRect","viewportRect","relativePos","layoutRectsRelativePos","update","opt_force","viewportSize","getSize","viewportBox","layoutRectLtwh","getClientRectAsync","then","elementBox","startCallback_","removeWorker_","unobserve","splice","stopCallback_","onScroll","onScrollHandler_","onResize","onResizeHandler_","pop","unlisten","updateAllEntries","schedulePass_","measure","registerServiceBuilderForDoc","type","detail","opt_eventInit","eventInit","assign","CustomEvent","TAG","AmpVisibilityObserver","AMP","BaseElement","super","action_","positionObserver_","isVisible_","topRatio_","bottomRatio_","topMarginExpr_","bottomMarginExpr_","resolvedTopMargin_","resolvedBottomMargin_","viewportRect_","targetId_","initialViewportHeight_","scrollProgress_","remainingScrollToExit_","runOnce_","firstIterationComplete_","buildCallback","whenFirstVisible","init_","bind","hasAttribute","parseAttributes_","getServiceForDocOrNull","maybeInstallPositionObserver_","whenReady","scene","discoverScene_","positionChanged_","triggerEnter_","event","createCustomEvent","trigger","triggerExit_","triggerScroll_","scrolltop","getScrollTop","positionObserverData","percent","entry","wasVisible","prevViewportHeight","adjustForSmallViewportResize_","recalculateMargins_","adjViewportRect","applyMargins_","relPos","updateVisibility_","updateScrollProgress_","adjustedViewportRect","ratioToUse","offset","totalProgressOffset","totalProgress","topOffset","abs","ratios","getAttribute","topBottom","validateAndResolveRatio_","margins","assertElement","document","getElementById","parentNode","body","documentElement","validateAndResolveMargin_","unit","assertLength","m","exec","getLengthUnits","num","res","parseFloat","isFinite","undefined","getLengthNumeral","rect","viewportHeightChangeDelta","resizeOffset","installPositionObserverServiceForDoc","maybeUninstallPositionObserver_","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/core/types/array.js","src/core/types/object/index.js","src/core/error/message-helpers.js","src/core/types/index.js","src/core/assert/user.js","src/core/assert/base.js","src/core/dom/layout/index.js","src/core/dom/layout/rect.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/service/position-observer/position-observer-impl.js","src/core/types/function/index.js","src/service/position-observer/position-observer-worker.js","src/utils/event-helper.js","extensions/amp-position-observer/0.1/amp-position-observer.js","src/core/constants/action-constants.js"]}

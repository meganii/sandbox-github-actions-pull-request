;
import{PreactBaseElement as t}from"../bento.mjs";function r(t,r,e){return r in t?Object.defineProperty(t,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[r]=e,t}function e(t,r){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),e.push.apply(e,a)}return e}import{createElement as a}from"../bento.mjs";import{useCallback as o,useEffect as l,useImperativeHandle as n,useMemo as i,useRef as s}from"../bento.mjs";import{forwardRef as b}from"../bento.mjs";import{ContainWrapper as u}from"../bento.mjs";var{hasOwnProperty:c,toString:d}=Object.prototype;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var m={"title":"","artist":"","album":"","artwork":[{"src":""}]},p=["album","aria-describedby","aria-label","aria-labelledby","artist","artwork","controlsList","loading","loop","muted","onError","onPause","onPlaying","preload","sources","src","title"],y=b((function(t,b){let{album:c="","aria-describedby":d,"aria-label":y,"aria-labelledby":f,artist:j="",artwork:g="",controlsList:v,loading:O="lazy",loop:w=!1,muted:P=!1,onError:k,onPause:L,onPlaying:E,preload:z,sources:S,src:h,title:x=""}=t,A=function(t,r){if(null==t)return{};var e,a,o={},l=Object.keys(t);for(a=0;a<l.length;a++)e=l[a],r.indexOf(e)>=0||(o[e]=t[e]);return o}(t,p);const B=s(null),F=s(null),R=s(!1),q=i((()=>({title:x,artist:j,album:c,artwork:[{src:g}]})),[x,j,c,g]),C=o((()=>{B.current.play(),R.current=!0}),[]),D=o((()=>{B.current.pause(),R.current=!1}),[]),G=o((()=>{null==E||E()}),[E]),H=o((()=>{null==L||L()}),[L]);return n(b,(()=>({play:C,pause:D,isPlaying:()=>R.current})),[C,D]),l((()=>{var t,r;!function(t,r,e,a){const{navigator:o}=t;"mediaSession"in o&&t.MediaMetadata&&(o.mediaSession.metadata=new t.MediaMetadata(m),o.mediaSession.metadata=new t.MediaMetadata(r),o.mediaSession.setActionHandler("play",e),o.mediaSession.setActionHandler("pause",a))}(null===(t=B.current)||void 0===t||null===(r=t.ownerDocument)||void 0===r?void 0:r.defaultView,q,C,D)}),[q,C,D]),a(u,function(t){for(var a=1;a<arguments.length;a++){var o=null!=arguments[a]?arguments[a]:{};a%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(o,r))}))}return t}({contentRef:F,size:!0,layout:!0,paint:!0},A),a("audio",{ref:B,"aria-describedby":d,"aria-label":y,"aria-labelledby":f,controls:!0,controlsList:v,loading:O,loop:w,muted:P,onError:k,onPause:H,onPlaying:G,preload:z,src:h},S))}));y.displayName="BentoAudio";var f=class extends t{};f.Component=y,f.props={album:{attr:"album",type:"string"},"aria-describedby":{attr:"aria-describedby",type:"string"},"aria-label":{attr:"aria-label",type:"string"},"aria-labelledby":{attr:"aria-labelledby",type:"string"},artist:{attr:"artist",type:"string"},artwork:{attr:"artwork",type:"string"},controlsList:{attr:"controlsList"},loop:{attr:"loop",type:"boolean"},muted:{attr:"muted",type:"boolean"},preload:{attr:"preload"},sources:{selector:"source",single:!1,clone:!0},src:{attr:"src"},title:{attr:"title",type:"string"}},f.layoutSizeDefined=!0,f.usesShadowDom=!0;import{defineBentoElement as j}from"../bento.mjs";j("bento-audio",f,void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-audio-1.0.mjs.map
{"version":3,"file":"bento-selector-1.0.mjs","mappings":"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","names":["source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","obj","value","defineProperty","enumerable","configurable","writable","object","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","arguments","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","hasOwn_","toString","toString_","prototype","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","element","focus","e","name","forced","hasAttribute","enabled","undefined","setAttribute","removeAttribute","createElement2","useCallback3","PreactBaseElement","useCallback","useAmpContext","props","fallback","tabindex","tabIndex","_typeof","Symbol","iterator","constructor","arg","input","hint","prim","toPrimitive","res","call","TypeError","String","createContext","useCallback2","forwardRef","SelectorContext","selected","KEYBOARD_SELECT_MODE","NONE","FOCUS","SELECT","BentoSelector","ref","as","Comp","disabled","defaultValue","form","keyboardSelectMode","multiple","onChange","role","children","_ref","rest","_objectWithoutPropertiesLoose","tabindexFromProps","selectedState","setSelectedState","useState","optionsRef","useRef","focusRef","active","focusMap","selectOption","option","newValue","includes","v","concat","context","useMemo","useEffect","newOption","pop","toggle","select","isSelected","newSelected","clear","callbackByDelta","delta","cb","current","options","previous","a","b","selectBy","shift","focusBy","useImperativeHandle","onKeyDown","dir","LEFT_ARROW","RIGHT_ARROW","createElement","_objectSpread2","hidden","Provider","customFocus","index","_propName","className","_ref2","selectorDisabled","selectorMultiple","useContext","tryFocus","useLayoutEffect","refFromContext","trySelect","onClick","class","onFocus","displayName","BaseElement","init","this","optionState","mu","MutationObserver","isExpectedMutation","getOptions","mutateProps","observe","attributeFilter","childList","subtree","SelectorShim","shimDomElement","event","triggerEvent","targetOption","selectedOptions","arrayLike","querySelectorAll","Array","slice","el","selector","closest","closestAncestorElementBySelector","devAssert","parentElement","nodeType","child","getAttribute","OptionShim","postRender","takeRecords","optionChild","BentoSelectorOption","syncEvent","type","handler","addEventListener","removeEventListener","toggleAttribute","attributes","attr","addAttributesToElement","ownerDocument","insertBefore","firstChild","removeChild","syncAttr","media","defineBentoElement","win"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/assert/dev.js","src/core/dom/index.js","extensions/amp-selector/1.0/base-element.js","src/preact/utils.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","node_modules/@babel/runtime/helpers/esm/toPrimitive.js","extensions/amp-selector/1.0/component.js","src/core/math.js","src/core/constants/key-codes.js","src/core/types/array.js","src/core/dom/query.js","extensions/amp-selector/1.0/build/bento-selector.js"]}

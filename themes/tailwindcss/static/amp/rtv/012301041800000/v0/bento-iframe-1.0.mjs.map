{"version":3,"file":"bento-iframe-1.0.mjs","mappings":"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","names":["PreactBaseElement","obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","propertyNameCache","hasOwnProperty","hasOwn_","toString","toString_","prototype","vendorPrefixes","element","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","toLowerCase","some","prefix","camelCaseToHyphenCase","node","ownerDocument","defaultView","createElement","useCallback3","ContainWrapper","ioCallback","win","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","document","IntersectionObserver","viewportObservers","WeakMap","viewportCallbacks","entries","seen","Set","entry","has","add","callbacks","get","k","callback","useCallback","useCallback2","useAmpContext","self","__AMP_LOG","user","dev","userForEmbed","DEFAULT_THRESHOLD","time","rootBounds","boundingClientRect","intersectionRect","intersectionRatio","Date","now","NOOP","BaseElement","allowFullScreen","allowPaymentRequest","iframeStyle","onLoad","referrerPolicy","requestResize","sandbox","src","srcdoc","_ref","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","iframeRef","useRef","dataRef","isIntersectingRef","containerRef","observerRef","targetOriginRef","viewabilityCb","iframe","current","targetOrigin","type","opt_is3P","targets","contentWindow","payload","postMessage","origin","postMessageToWindows","changes","map","cloneEntryForCrossOrigin","handleSendIntersectionsPostMessage","event","data","getWin","observe","useEffect","addEventListener","observer","_observer","unobserve","removeEventListener","attemptResize","height","Number","_dataRef$current","width","_dataRef$current2","console","error","offsetHeight","offsetWidth","container","setStyle","updateContainerSize","handleEmbedSizePostMessage","measureRef","ioOptions","unobserveRef","cleanup","viewportObserver","set","createViewportObserver","array","item","index","splice","removeItem","delete","unobserveIntersections","observeIntersections","useIntersectionObserver","isIntersecting","contentProps","useMemo","frameBorder","_objectSpread2","contentAs","contentRef","refs","ref","contentStyle","size","layout","paint","attr","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["extensions/amp-iframe/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/style.js","src/core/window/index.js","extensions/amp-iframe/1.0/component.js","src/core/dom/layout/viewport-observer.js","src/core/dom/index.js","src/preact/component/intersection-observer.js","src/preact/utils.js","src/utils/log.js","src/url.js","src/utils/intersection-observer-3p-host.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","src/iframe-helper.js","src/core/3p-frame-messaging.js","src/core/types/array.js","extensions/amp-iframe/1.0/build/bento-iframe.js"]}

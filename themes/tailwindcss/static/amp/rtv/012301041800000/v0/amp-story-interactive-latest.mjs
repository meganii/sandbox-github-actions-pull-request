;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-story-interactive",ev:"0.1",l:!0,f:function(t,i){(()=>{function i(t){return t?Array.prototype.slice.call(t):[]}var e,a,{isArray:r}=Array,{hasOwnProperty:n,toString:o}=Object.prototype;function m(t){const i=Object.create(null);return t&&Object.assign(i,t),i}function s(t,i,e,a,r,n,o,m,s,p,c){return t}function p(t){const i=t.ownerDocument||t;return e&&e.ownerDocument===i||(e=i.createElement("div")),c}function c(t){return function(t,i){if(s(1===i.length),s(Array.isArray(i)||(e=i,n.call(e,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){const e=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return i[0]}});t.innerHTML=e.createHTML("ignored")}else t.innerHTML=i[0];var e;const a=t.firstElementChild;return s(a),s(!a.nextElementSibling),t.removeChild(a),a}(e,t)}function l(t){const i=Object.getOwnPropertyDescriptor(t,"message");if(null!=i&&i.writable)return t;const{message:e,stack:a}=t,r=new Error(e);for(const i in t)r[i]=t[i];return r.stack=a,r}function h(t){let i=null,e="";for(const t of arguments)t instanceof Error&&!i?i=l(t):(e&&(e+=" "),e+=t);return i?e&&(i.message=e+": "+i.message):i=new Error(e),i}function v(t,...i){const e=h.apply(null,i);e.name=t||e.name,function(t){var i,e;null===(i=(e=self).__AMP_REPORT_ERROR)||void 0===i||i.call(e,t)}(e)}var d=["Webkit","webkit","Moz","moz","ms","O","o"],u={"getPropertyPriority":()=>"","getPropertyValue":()=>""};function y(t){const i=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return d.some((t=>i.startsWith(t+"-")))?`-${i}`:i}function f(t,i,e){if(i.startsWith("--"))return i;a||(a=m());let r=a[i];if(!r||e){if(r=i,void 0===t[i]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(i),a=function(t,i){for(let e=0;e<d.length;e++){const a=d[e]+i;if(void 0!==t[a])return a}return""}(t,e);void 0!==t[a]&&(r=a)}e||(a[i]=r)}return r}function g(t,i){const{style:e}=t;for(const t in i)e.setProperty(y(f(e,t)),String(i[t]),"important")}function b(t,i,e,a,r){const n=f(t.style,i,r);if(!n)return;const o=a?e+a:e;t.style.setProperty(y(n),o)}function x(t,i){for(const e in i)b(t,e,i[e])}function w(t,i){return t.getComputedStyle(i)||u}var k=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function z(t,i=""){try{return decodeURIComponent(t)}catch(t){return i}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var _,A=self.__AMP_LOG;function P(t,i){throw new Error("failed to call initLogConstructor")}function E(t){return A.user||(A.user=R()),function(t,i){return i&&i.ownerDocument.defaultView!=t}(A.user.win,t)?A.userForEmbed||(A.userForEmbed=R()):A.user}function R(t){return P()}function I(){return A.dev||(A.dev=P())}function M(t,i,e,a,r,n,o,m,s,p,c){return t}function T(){return _||(_=Promise.resolve(void 0))}function q(t,i,e){let a;for(a=t;a&&a!==e;a=a.parentElement)if(i(a))return a;return null}function V(t,i,e){return s(i<=e),Math.min(Math.max(t,i),e)}var O={"+":"-","/":"_","=":"."};function C(t,i,e){return i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e,t}function j(t,i){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);i&&(a=a.filter((function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable}))),e.push.apply(e,a)}return e}function S(t){for(var i=1;i<arguments.length;i++){var e=null!=arguments[i]?arguments[i]:{};i%2?j(Object(e),!0).forEach((function(i){C(t,i,e[i])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):j(Object(e)).forEach((function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}))}return t}function $(t){return(t.ownerDocument||t).defaultView}function L(t,i){return N(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),i)}function F(t,i){return J(t,i)}function U(t,i){const e=Y(X(t));return G(e,i)?N(e,i):null}function D(t,i){return H(Y(t),i)}function X(t){return t.nodeType?(i=$(t),L(i,"ampdoc")).getAmpDoc(t):t;var i}function Y(t){const i=X(t);return i.isSingleDoc()?i.win:i}function N(t,i){M(G(t,i));const e=B(t)[i];return e.obj||(M(e.ctor),M(e.context),e.obj=new e.ctor(e.context),M(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}function H(t,i){const e=J(t,i);if(e)return e;const a=B(t);return a[i]=function(){const t=new class{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}},{promise:i,reject:e,resolve:a}=t;return i.catch((()=>{})),{obj:null,promise:i,resolve:a,reject:e,context:null,ctor:null}}(),a[i].promise}function J(t,i){const e=B(t)[i];return e?e.promise?e.promise:(N(t,i),e.promise=Promise.resolve(e.obj)):null}function B(t){let i=t.__AMP_SERVICES;return i||(i=t.__AMP_SERVICES={}),i}function G(t,i){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[i];return!(!e||!e.ctor)}var Z="__AMP__EXPERIMENT_TOGGLES";function W(t){if(!t)return null;const i=t.match(/^(.*)\/(.*)-([0-9.]+|latest)(\.max)?\.(?:js|mjs)(?:\?ssr-css=[0|1])?$/i),e=i?i[2]:void 0,a=i?i[3]:void 0;return e&&a?{extensionId:e,extensionVersion:a}:null}function Q(t,i,e,a,r){return F(t,i)||function(t,i,e,a,r){return(n=t.document,new Promise((t=>function(t,i){!function(t,i,e){if(i())e();else{const a=new($(t).MutationObserver)((()=>{i()&&(a.disconnect(),e())}));a.observe(t,{childList:!0})}}(t.documentElement,(()=>!!t.body),i)}(n,t)))).then((()=>{const i=L(t,"extensions");return function(t,i,e){return function(t){if(!t)return[];const i=t.querySelectorAll("script[custom-element],script[custom-template]"),e=[];for(let t=0;t<i.length;t++){const a=i[t],r=a.getAttribute("custom-element")||a.getAttribute("custom-template"),n=W(a.src);r&&n&&e.push({script:a,extensionId:r,extensionVersion:n.extensionVersion})}return e}(t.document.head).some((({extensionId:t,extensionVersion:a})=>i==t&&e==a))}(i.win,e,a)?i.waitForExtension(e,a):null})).then((e=>e?r?F(t,i):function(t,i){return H(t,i)}(t,i):null));var n}(t,i,e,a,r)}var K=t=>Q(t,"story-store","amp-story","1.0"),tt=t=>Q(t,"story-analytics","amp-story","1.0",!0),it=t=>U(t,"url");function et(t,i,e){if(i[e])return i[e];const a=t.querySelector(`style[${e}], link[${e}]`);return a?(i[e]=a,a):null}var at=["<div class=i-amphtml-story-interactive-confetti-wrapper aria-hidden=true></div>"],rt=["<div class=i-amphtml-story-interactive-confetti></div>"];function nt(t,i){return Math.random()*(i-t)+t}var ot,mt,st="none";function pt(t){return!!t&&-1!=t.toString().indexOf("[native code]")}function ct(t){return void 0===ot&&(i=t||Element,ot=i.prototype.attachShadow?"v1":i.prototype.createShadowRoot?"v0":st),ot;var i}function lt(t,i,e){var a="";return t&&Array.prototype.forEach.call(t,(function(t){if(t.selectorText&&t.style&&void 0!==t.style.cssText)a+=function(t,i,e){var a=[];return t.split(",").forEach((function(t){t=t.trim(),e&&(t=e(t)),function(t,i){var e=function(t){return t=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+t+")"+dt,"m")}(i);return!t.match(e)}(t,i)&&(t=function(t,i){return function(t,i){return t.match(yt)?(t=t.replace(ut,i)).replace(yt,i+" "):i+" "+t}(t,i)}(t,i)),a.push(t)})),a.join(", ")}(t.selectorText,i,e)+" {\n\t",a+=function(t){var i=t.style.cssText;t.style.content&&!t.style.content.match(/['"]+|attr/)&&(i=i.replace(/content:[^;]*;/g,"content: '"+t.style.content+"';"));var e=t.style;for(var a in e)"initial"===e[a]&&(i+=a+": initial; ");return i}(t)+"\n}\n\n";else if(t.type===CSSRule.MEDIA_RULE)a+="@media "+t.media.mediaText+" {\n",a+=lt(t.cssRules,i),a+="\n}\n\n";else try{t.cssText&&(a+=t.cssText+"\n\n")}catch(t){}})),a}var ht="-shadowcsshost",vt=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",dt=(new RegExp("("+ht+vt,"gim"),new RegExp("(-shadowcsscontext"+vt,"gim"),"([>\\s~+[.,{:][\\s\\S]*)?$"),ut=ht+"-no-combinator",yt=new RegExp(ht,"gim"),ft=(new RegExp("-shadowcsscontext","gim"),/[^\.\-\_0-9a-zA-Z]/),gt=/[^\-\_0-9a-zA-Z]/;function bt(t){const e=$(t),a=t.shadowRoot||t.__AMP_SHADOW_ROOT;if(a)return a.innerHTML="",a;let r;const n=ct();if("v1"==n?(r=t.attachShadow({mode:"open"}),r.styleSheets||Object.defineProperty(r,"styleSheets",{get:function(){const t=[];return r.childNodes.forEach((i=>{"STYLE"===i.tagName&&t.push(i.sheet)})),t}})):r="v0"==n?t.createShadowRoot():function(t){const e=t.ownerDocument;t.classList.add("i-amphtml-shadow-host-polyfill");const a=e.createElement("style");a.textContent=".i-amphtml-shadow-host-polyfill>:not(i-amphtml-shadow-root){display:none!important}",t.appendChild(a);const r=e.createElement("i-amphtml-shadow-root");return t.appendChild(r),t.__AMP_SHADOW_ROOT=r,Object.defineProperty(t,"shadowRoot",{enumerable:!0,configurable:!0,value:r}),r.host=t,r.getElementById=function(t){const i=(e=t,CSS.escape(e));var e;return r.querySelector(`#${i}`)},Object.defineProperty(r,"styleSheets",{get:()=>e.styleSheets?i(e.styleSheets).filter((t=>r.contains(t.ownerNode))):[]}),r}(t),void 0===mt&&(mt=ct()!=st&&(pt(Element.prototype.attachShadow)||pt(Element.prototype.createShadowRoot))),!mt){const t=`i-amphtml-sd-${e.Math.floor(1e4*e.Math.random())}`;r.id=t,r.host.classList.add(t),o=t=>function(t,i){return function(t,i){const e=M(t.id),a=t.ownerDocument;let r=null;try{r=kt(a.implementation.createHTMLDocument(""),i)}catch(t){}if(!r)try{r=kt(a,i)}catch(t){}return r?lt(r,`.${e}`,xt):i}(t,i)}(r,t),r.__AMP_CSS_TR=o}var o;return r}function xt(t){return t.replace(/(html|body)/g,wt)}function wt(t,i,e,a){const r=a.charAt(e-1),n=a.charAt(e+t.length);return r&&!ft.test(r)||n&&!gt.test(n)?t:"amp-"+t}function kt(t,i){const e=t.createElement("style");e.textContent=i;try{return(t.head||t.documentElement).appendChild(e),e.sheet?e.sheet.cssRules:null}finally{e.parentNode&&e.parentNode.removeChild(e)}}function zt(t,i,e){const a=self.document.createElement("style");a.textContent=e;const r=bt(t);return r.appendChild(a),r.appendChild(i),t}var _t=['<div class=i-amphtml-story-interactive-disclaimer-dialog role=alertdialog><div class=i-amphtml-story-interactive-disclaimer-description ref=descriptionEl><span class=i-amphtml-story-interactive-disclaimer-note ref=noteEl>Your response will be sent to </span><span class=i-amphtml-story-interactive-disclaimer-entity ref=entityEl></span><div class=i-amphtml-story-interactive-disclaimer-url ref=urlEl></div></div><a target=_blank class=i-amphtml-story-interactive-disclaimer-link ref=linkEl>Learn more</a> <button class=i-amphtml-story-interactive-disclaimer-close aria-label="Close disclaimer"></button></div>'],At=["<div class=i-amphtml-story-interactive-disclaimer-dialog-container></div>"],Pt=['<button class=i-amphtml-story-interactive-disclaimer-icon aria-label="Open disclaimer"></button>'],Et=JSON.parse('{"webstoriesinteractivity-beta.web.app":{"learnMoreUrl":"https://amp.dev/stories","entityName":"AMP Disclaimer Testing Site"}}'),Rt=['<div class="i-amphtml-story-interactive-img-container i-amphtml-story-interactive-container"><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-img-option-container></div></div>'],It=!1,Mt=t=>p(t)(Rt);function Tt(t,i){const e=t.pathname.replace(/\/?$/,"/")+i.replace(/^\//,"");return t.origin+e+t.search+t.hash}new Set(["c","v","a","ad"]);var qt="amp-story-interactive",Vt="i-amphtml-story-interactive-mid-selection",Ot="i-amphtml-story-interactive-post-selection",Ct=[{family:"Poppins",weight:"400",src:"url(https://fonts.gstatic.com/s/poppins/v9/pxiEyp8kv8JHgFVrJJfecnFHGPc.woff2) format('woff2')"},{family:"Poppins",weight:"700",src:"url(https://fonts.gstatic.com/s/poppins/v9/pxiByp8kv8JHgFVrLCz7Z1xlFd2JQEk.woff2) format('woff2')"}],jt=class extends t.BaseElement{constructor(t,i,e=[2,4]){super(t),this.xmt=i,this.II=null,this.wmt=null,this.kmt=null,this.zmt=null,this.Rmt=null,this.Mmt=!1,this.qmt=e,this.Vmt=null,this.U=null,this.Omt=null,this.xat=null,this.Pf=null,this.localizationService=null,this.Dy=null,this.Av=null,this.Fy=null,function(t,i,e,a,r){const n=t.getHeadNode();!function(t,i,e,a){let r=t.__AMP_CSS_SM;r||(r=t.__AMP_CSS_SM=m());const n=`amp-extension=${a}`;if(n){const e=et(t,r,n);if(e)return"STYLE"==e.tagName&&e.textContent!==i&&(e.textContent=i),e}const o=(t.ownerDocument||t).createElement("style");o.textContent=i;let s=null;o.setAttribute("amp-extension",a),s=et(t,r,"amp-runtime"),function(t,i,e=null){if(!e)return void function(t,i){t.insertBefore(i,t.firstChild)}(t,i);const a=e.nextSibling;t.insertBefore(i,a)}(t,o,s),n&&(r[n]=o)}(n,function(t,i){const e=t.__AMP_CSS_TR;return e?e(i):i}(n,".i-amphtml-story-interactive-component{-ms-flex-item-align:center;align-self:center;height:auto!important;pointer-events:none!important;min-width:14em!important;max-width:25em!important;font-size:calc(var(--story-page-vmin)*3);width:100%;--interactive-accent-color:#005af0;--interactive-prompt-background:var(--interactive-accent-color);--interactive-prompt-text-color:#fff;--interactive-prompt-alignment:initial;--i-amphtml-interactive-option-accent-color:var(\n    --interactive-accent-color\n  )!important;--i-amphtml-interactive-option-background-color:#fff!important;--i-amphtml-interactive-options-chip-background-color:var(\n    --i-amphtml-interactive-option-background-color\n  )!important;--i-amphtml-interactive-option-text-color:#55595e!important;--i-amphtml-interactive-theme-border:rgba(85,89,94,0.2)!important;--i-amphtml-interactive-theme-shading:rgba(85,89,94,0.2)!important;--i-amphtml-interactive-theme-shading-base:#dedee1!important;--i-amphtml-interactive-theme-shading-flash:rgba(85,89,94,0.5)!important;--i-amphtml-interactive-chip-radius:2em!important;--i-amphtml-interactive-chip-shadow:0px 0px 0px transparent!important;--i-amphtml-interactive-chip-shadow-inset:inset 0px 0px 0px transparent!important;--i-amphtml-interactive-answer-choice-border:var(\n    --interactive-accent-color\n  )!important;--i-amphtml-interactive-answer-choice-background:#fff!important;--i-amphtml-interactive-prompt-text-size:1.375em!important;--i-amphtml-interactive-prompt-line-height:1.3em!important;--i-amphtml-interactive-strong-text-color:#000!important;--i-amphtml-interactive-animation-time:0.3s!important;--i-amphtml-interactive-ease-out-curve:cubic-bezier(0.3,0,0,1)!important;--i-amphtml-interactive-animation-delay:0s!important;--i-amphtml-interactive-component-shadow:0px 4px 12px rgba(60,64,67,0.08),0px 2px 4px rgba(60,64,67,0.12);--i-amphtml-interactive-prompt-clamp:4!important;--i-amphtml-interactive-results-prompt-margin:20px!important;--i-amphtml-interactive-placeholder-background:rgba(32,33,36,0.2)!important;--i-amphtml-story-interactive-img-quiz-answer-filter:none;--i-amphtml-interactive-img-border:0 0 0 transparent!important}.i-amphtml-story-interactive-component[theme=dark]{--i-amphtml-interactive-option-text-color:#a7adb4!important;--i-amphtml-interactive-option-background-color:#202124!important;--i-amphtml-interactive-theme-border:hsla(212,8%,68%,0.2)!important;--i-amphtml-interactive-theme-shading:hsla(212,8%,68%,0.2)!important;--i-amphtml-interactive-theme-shading-base:#3c3d3f!important;--i-amphtml-interactive-theme-shading-flash:hsla(212,8%,68%,0.5)!important;--i-amphtml-interactive-strong-text-color:#fff!important;--i-amphtml-interactive-placeholder-background:hsla(0,0%,100%,0.2)!important;--i-amphtml-story-interactive-img-quiz-answer-filter:invert(100%)}.i-amphtml-story-interactive-component[chip-style=shadow]{--i-amphtml-interactive-chip-shadow:0px 2px 8px rgba(60,60,60,0.2)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.2)!important;--i-amphtml-interactive-theme-border:transparent!important}.i-amphtml-story-interactive-component:not(amp-story-interactive-results)[chip-style=transparent]{--i-amphtml-interactive-options-chip-background-color:transparent!important;--interactive-prompt-background:transparent!important;--interactive-prompt-alignment:center;--i-amphtml-interactive-chip-shadow:0px 2px 8px rgba(60,60,60,0.2)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.2)!important;--i-amphtml-interactive-theme-border:transparent!important;--i-amphtml-interactive-component-shadow:none!important;--i-amphtml-interactive-img-border:0 0 0 0.25em var(--i-amphtml-interactive-option-background-color)!important}.i-amphtml-story-interactive-component[chip-style=shadow][theme=dark]{--i-amphtml-interactive-chip-shadow:0px 2px 8px 0px rgba(0,0,0,0.6)!important;--i-amphtml-interactive-chip-shadow-inset:inset 4px 4px 8px rgba(0,0,0,0.4)!important}.i-amphtml-story-interactive-component[prompt-size=large]{--i-amphtml-interactive-prompt-text-size:1.75em!important;--i-amphtml-interactive-prompt-clamp:3!important}.i-amphtml-story-interactive-component[prompt-size=small]{--i-amphtml-interactive-prompt-text-size:1.125em!important}.i-amphtml-story-interactive-component:not([prompt-text]){--interactive-prompt-background:transparent!important}amp-story-interactive-binary-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-quiz.i-amphtml-story-interactive-component,amp-story-interactive-results-detailed.i-amphtml-story-interactive-component,amp-story-interactive-results.i-amphtml-story-interactive-component{max-width:18em!important}amp-story-interactive-img-poll.i-amphtml-story-interactive-component,amp-story-interactive-img-quiz.i-amphtml-story-interactive-component{--interactive-prompt-alignment:center}amp-story-interactive-binary-poll[theme=dark],amp-story-interactive-poll[theme=dark]{--i-amphtml-interactive-option-accent-color:#fff!important}amp-story-interactive-results:not([chip-style=transparent]){--interactive-prompt-text-color:var(\n    --i-amphtml-interactive-strong-text-color\n  )}amp-story-interactive-results[chip-style=transparent]{--i-amphtml-interactive-option-text-color:#000!important;--i-amphtml-interactive-options-chip-background-color:transparent!important;--interactive-prompt-background:transparent;--i-amphtml-interactive-component-shadow:none!important;--interactive-prompt-text-color:#000;--i-amphtml-interactive-results-prompt-margin:0px!important}amp-story-interactive-results[theme=dark][chip-style=transparent]{--i-amphtml-interactive-option-text-color:#fff!important;--interactive-prompt-text-color:#fff}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-host.css*/"),0,"amp-story-interactive")}(this.getAmpDoc(),0,null)}getRootElement(){return this.Pf}getOptionElements(){return this.Vmt||(this.Vmt=i(this.Pf.querySelectorAll(".i-amphtml-story-interactive-option"))),this.Vmt}Cmt(){return jt.canonicalUrl64||((t=>{if(It)return;It=!0;const i=t.querySelectorAll("amp-story-interactive-binary-poll, amp-story-interactive-poll, amp-story-interactive-quiz"),e=m();for(let t=0;t<i.length;t++){const a=i[t].id||"interactive-id";if(void 0===e[a])e[a]=0;else{E().error("AMP-STORY-INTERACTIVE",`Duplicate interactive ID ${a}`);const r=`${a}__${++e[a]}`;i[t].id=r}}})(this.win.document),jt.canonicalUrl64=function(t){const i=function(t){const i=new Array(t.length);for(let e=0;e<t.length;e++)i[e]=String.fromCharCode(t[e]);return i.join("")}(t);return btoa(i).replace(/[+/=]/g,(t=>O[t]))}((i=(t=this.element,function(t,i){return N(Y(X(t)),"documentInfo")}(t).get()).canonicalUrl,"undefined"!=typeof TextEncoder?(new TextEncoder).encode(i):function(t){const i=new Uint8Array(t.length);for(let e=0;e<t.length;e++){const a=t.charCodeAt(e);s(a<=255),i[e]=a}return i}(unescape(encodeURIComponent(i)))))),`${jt.canonicalUrl64}+${this.element.id}`;var t,i}getPageEl(){return null==this.xat&&(this.xat=q(this.element,(t=>"amp-story-page"===t.tagName.toLowerCase()))),this.xat}buildCallback(t=""){return this.U=this.s$(),this.element.classList.add("i-amphtml-story-interactive-component"),this.jmt(),M(0==this.element.children.length),this.Av=it(this.element),Promise.all([(e=this.win,Q(e,"story-variable","amp-story","1.0")).then((t=>{this.Fy=t})),K(this.win).then((t=>{this.Dy=t,this.$mt(null)})),tt(this.win).then((t=>{this.II=t})),(i=this.element,D(i,"localization")).then((t=>{this.localizationService=t}))]).then((()=>(this.Pf=this.buildComponent(),this.Pf.classList.add("i-amphtml-story-interactive-container"),function(t,i){const e=function(t){var i,e,a,n,o;if(t[Z])return t[Z];t[Z]=m();const p=t[Z];s(p);const c=S(S({},null!==(i=t.AMP_CONFIG)&&void 0!==i?i:{}),null!==(e=t.AMP_EXP)&&void 0!==e?e:(l=(null===(a=t.__AMP_EXP)||void 0===a?void 0:a.textContent)||"{}",JSON.parse(l)));var l;for(const t in c){const i=c[t];"number"==typeof i&&i>=0&&i<=1&&(p[t]=Math.random()<i)}const h=null===(n=t.AMP_CONFIG)||void 0===n?void 0:n["allow-doc-opt-in"];if(r(h)&&h.length){const i=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(i){var v;const t=(null===(v=i.getAttribute("content"))||void 0===v?void 0:v.split(","))||[];for(const i of t)h.includes(i)&&(p[i]=!0)}}Object.assign(p,function(t){var i;let e="";try{var a;"localStorage"in t&&(e=null!==(a=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==a?a:"")}catch(t){}const r=(null===(i=e)||void 0===i?void 0:i.split(/\s*,\s*/g))||[],n=m();for(const t of r)t&&("-"==t[0]?n[t.substr(1)]=!1:n[t]=!0);return n}(t));const d=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(r(d)&&d.length){const i=function(t){const i=m();if(!t)return i;let e;for(;e=k.exec(t);){const t=z(e[1],e[1]),a=e[2]?z(e[2].replace(/\+/g," "),e[2]):"";i[t]=a}return i}(t.location.originalHash||t.location.hash);for(const t of d){const e=i[`e-${t}`];"1"==e&&(p[t]=!0),"0"==e&&(p[t]=!1)}}return p}(t);return!!e["amp-story-interactive-disclaimer"]}(this.win)&&this.element.hasAttribute("endpoint")&&(this.Rmt=p(this.element)(Pt),this.Pf.prepend(this.Rmt)),zt(this.element,this.Pf,'.i-amphtml-story-interactive-container{--correct-color:#5bba74!important;--correct-color-shaded:#00600f!important;--incorrect-color:#f34e4e!important;--incorrect-color-shaded:#b71c1c!important;font-family:Poppins,sans-serif!important;background:var(--interactive-prompt-background)!important;border-radius:2em!important}.i-amphtml-story-interactive-prompt-container{display:-ms-flexbox!important;display:flex!important;justify-items:center!important;padding:1.25em!important;color:var(--interactive-prompt-text-color)!important}.i-amphtml-story-interactive-prompt{margin:0px!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:var(--i-amphtml-interactive-prompt-clamp)!important;-webkit-box-orient:vertical!important;visibility:visible!important;font-size:var(--i-amphtml-interactive-prompt-text-size)!important;line-height:var(--i-amphtml-interactive-prompt-line-height)!important;font-weight:700!important;text-align:var(--interactive-prompt-alignment)!important;width:100%!important}@keyframes i-amphtml-interactive-animation-flash-background{0%{opacity:.4}to{opacity:.2}}@keyframes i-amphtml-interactive-animation-flash-background-color{0%{background-color:var(--i-amphtml-interactive-theme-shading-flash)}to{background-color:var(--i-amphtml-interactive-theme-shading-base)}}@keyframes answer-choice-bounce{0%{transform:scale(0);visibility:hidden}21%{visibility:visible;transform:scale(.01);animation-timing-function:cubic-bezier(.3,.5,.7,1)}43%{transform:scale(1.203);animation-timing-function:ease-in-out}62%{transform:scale(0.956)}83%{transform:scale(1.008)}96%{transform:scale(1)}99%{transform:scale(.998)}to{transform:scale(1)}}.i-amphtml-story-interactive-container:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option{cursor:pointer!important;pointer-events:all}.i-amphtml-story-interactive-confetti-wrapper{position:absolute!important;top:50%!important;left:50%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center;justify-content:center;z-index:1!important;transform:scale(0)!important;transition:transform .5s var(--i-amphtml-interactive-ease-out-curve),opacity .5s var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-in{transform:scale(1)!important}.i-amphtml-story-interactive-confetti-wrapper.i-amphtml-story-interactive-confetti-wrapper-animate-out{transform:scale(1.2)!important;opacity:0!important}.i-amphtml-story-interactive-confetti{position:absolute!important}.i-amphtml-story-interactive-active{--i-amphtml-interactive-landing-animation-delay:.5s;--i-amphtml-interactive-landing-animation-offset:.9;--i-amphtml-interactive-landing-animation-delay-offset-el1:var(--i-amphtml-interactive-landing-animation-delay);--i-amphtml-interactive-landing-animation-delay-offset-el2:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*1);--i-amphtml-interactive-landing-animation-delay-offset-el3:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*2);--i-amphtml-interactive-landing-animation-delay-offset-el4:calc(var(--i-amphtml-interactive-landing-animation-delay) + var(--i-amphtml-interactive-animation-time)*var(--i-amphtml-interactive-landing-animation-offset)*3)}@keyframes i-amphtml-interactive-animation-landing-animation-flash-background{30%{opacity:.4}}.i-amphtml-story-interactive-disclaimer-icon{width:1.75em!important;height:1.75em!important;position:absolute!important;right:0!important;top:0!important;padding:.25em!important;font-size:inherit!important;transform-origin:bottom right!important;background-color:#fff!important;background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="4" height="12"><path d="M2 0a1.357 1.357 0 0 0-.97.408 1.34 1.34 0 0 0-.38.977l.271 5.497c.009.278.127.542.328.736a1.083 1.083 0 0 0 1.502 0 1.07 1.07 0 0 0 .328-.736l.27-5.497a1.334 1.334 0 0 0-.38-.977A1.35 1.35 0 0 0 2 0zM2 9.3A1.35 1.35 0 1 0 2 12a1.35 1.35 0 0 0 0-2.7z"/></svg>\')!important;background-repeat:no-repeat!important;background-position:50%!important;background-size:0.25em!important;border:.25em solid var(--interactive-accent-color)!important;border-radius:50%!important;box-shadow:0 .2em .2em 0 var(--i-amphtml-story-interactive-disclaimer-black-transparent)!important;box-sizing:border-box!important;cursor:pointer!important;pointer-events:all!important;z-index:2!important;--i-amphtml-story-interactive-disclaimer-black-transparent:#00000040!important}.i-amphtml-story-interactive-disclaimer-icon[hide]{display:none!important}[dir=rtl] .i-amphtml-story-interactive-disclaimer-icon{left:0!important;right:auto!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-shadow.css*/'+t),T())));var i,e}Lmt(){!jt.loadedFonts&&this.win.document.fonts&&FontFace&&Ct.forEach((({family:t,src:i,style:e="normal",weight:a})=>new FontFace(t,i,{weight:a,style:e}).load().then((t=>this.win.document.fonts.add(t))))),jt.loadedFonts=!0}s$(){const t=[];if(i(this.element.attributes).forEach((i=>{if(i.name.match(/^option-\d+(-\w+)+$/)){const e=i.name.split("-"),a=parseInt(e[1],10);for(;t.length<a;)t.push({"optionIndex":t.length});const r=e.slice(2).join("");t[a-1][r]="image"===r?((t,i)=>{const e=it(i),a=i.win.location;if(!e.isProxyOrigin(a.origin)||e.isProxyOrigin(t))return t;const r=e.resolveRelativeUrl(t,e.getSourceOrigin(a.href));return a.origin+"/i/s/"+r.replace(/https?:\/\//,"")})(i.value,this.getAmpDoc()):i.value}})),t.length>=this.qmt[0]&&t.length<=this.qmt[1])return t;M(t.length>=this.qmt[0]&&t.length<=this.qmt[1]),I().error(qt,`Improper number of options. Expected ${this.qmt[0]} <= options <= ${this.qmt[1]} but got ${t.length}.`)}Fmt(t){const i=t.querySelector(".i-amphtml-story-interactive-prompt-container");if(this.element.hasAttribute("prompt-text")){const t=document.createElement("p");t.textContent=this.element.getAttribute("prompt-text"),t.classList.add("i-amphtml-story-interactive-prompt"),i.appendChild(t)}else this.Pf.removeChild(i)}buildComponent(){}layoutCallback(){return this.Lmt(),this.Uy(),this.wmt=this.element.hasAttribute("endpoint")?this.Umt():T()}Dmt(){return this.kmt||(this.kmt=(t=this.element,D(t,"cid")).then((t=>t.get({scope:"amp-story",createCookieIfNotPresent:!0},T())))),this.kmt;var t}Rw(t){this.mutateElement((()=>{t?this.Pf.setAttribute("dir","rtl"):this.Pf.removeAttribute("dir")}))}isLayoutSupported(t){return"container"===t}jmt(){const t=q(this.element,(t=>"amp-story-grid-layer"===t.tagName.toLowerCase()));t.classList.add("i-amphtml-story-has-interactive"),t.parentElement.querySelector("amp-story-cta-layer")&&t.classList.add("i-amphtml-story-has-CTA-layer"),t.parentElement.querySelector("amp-story-page-attachment")&&t.classList.add("i-amphtml-story-has-page-attachment")}Uy(){this.Dy.subscribe(26,(t=>{this.Rw(t)}),!0),this.Dy.subscribe(35,(t=>{this.mutateElement((()=>{const i=t===this.getPageEl().getAttribute("id");this.Pf.classList.toggle("i-amphtml-story-interactive-active",i),this.pw(i)})),this.Xmt()}),!0),this.Pf.addEventListener("click",(t=>this.pY(t)))}pY(t){if(t.target==this.Rmt&&!this.zmt)return void this.Ymt();if(this.Mmt)return;const i=q(t.target,(t=>t.classList.contains("i-amphtml-story-interactive-option")),this.Pf);if(i){this.$mt(i.Nmt),this.Hmt(i.Nmt,i);const t=this.U[i.Nmt].confetti;t&&function(t,i,e){const a=2*Math.PI/5,r=.2*a,n=[30,50],o=t.getBoundingClientRect(),m=N(i,"timer"),s=p(t)(at);t.appendChild(s),m.delay((()=>{for(let i=0;i<5;i++){const m=p(t)(rt);s.appendChild(m),m.textContent=e;const c=nt(n[0],n[1])+"px",l=a*i+nt(-r,r);x(m,{fontSize:c,transform:`translate(${Math.sin(l)*(o.width/2+5)}px, ${Math.cos(l)*(o.height/2+5)}px) rotate(${nt(-20,20)}deg)`})}s.classList.add("i-amphtml-story-interactive-confetti-wrapper-animate-in"),m.delay((()=>{s.classList.add("i-amphtml-story-interactive-confetti-wrapper-animate-out"),m.delay((()=>t.removeChild(s)),300)}),1e3)}),300)}(this.Pf,this.win,t),this.Xmt()}}Jmt(t){this.Fy.onVariableUpdate("storyInteractiveId",this.element.getAttribute("id")),this.Fy.onVariableUpdate("storyInteractiveResponse",t),this.Fy.onVariableUpdate("storyInteractiveType",this.xmt),this.element.__AMP_ANALYTICS_TAG_NAME__=this.element.tagName,this.II.triggerEvent("story-interactive",this.element)}displayOptionsData(t){}Bmt(t){const i=t.reduce(((t,i)=>t+i.count),0);let e=t.map((t=>(100*t.count/i).toFixed(2))),a=e.reduce(((t,i)=>t+Math.round(i)),0);if(a>100&&(e=e.map((t=>(t-2*(t-Math.floor(t))/3).toFixed(2))),a=e.reduce(((t,i)=>t+Math.round(i)),0)),100===a)return e.map((t=>Math.round(t)));let r=100-a,n=e.map(((t,i)=>({originalIndex:i,value:t,remainder:(t-Math.floor(t)).toFixed(2)})));n.sort(((t,i)=>i.remainder-t.remainder||i.value-t.value));const o=[];for(;r>0&&0!==n.length;){const t=n[0],i=n.filter((i=>i.value===t.value));n=n.filter((i=>i.value!==t.value));const e=i.length<=r&&"0.00"!==t.remainder;i.forEach((t=>{o[t.originalIndex]=Math.floor(t.value)+(e?1:0)})),r-=e?i.length:0}return n.forEach((t=>{o[t.originalIndex]=Math.floor(t.value)})),o}Hmt(t,i){this.wmt.then((()=>{this.Mmt||(this.Jmt(t),this.Mmt=!0,this.Omt&&(this.Omt[t].count++,this.Omt[t].selected=!0),this.mutateElement((()=>{this.Gmt(i)})),this.element.hasAttribute("endpoint")&&this.Zmt("POST",t))})).catch((()=>{this.Jmt(t),this.Mmt=!0,this.mutateElement((()=>{this.Gmt(i)}))}))}Umt(){return this.Zmt("GET").then((t=>{this.Wmt(t)}))}Zmt(t,i){let e=this.element.getAttribute("endpoint");return it(this.element).assertAbsoluteHttpOrHttpsUrl(e)?this.Dmt().then((a=>{const n={"method":t},o={"type":this.xmt,"client":a};return e=Tt(this.Av.parse(e),this.Cmt()),"POST"===n.method&&(n.body={"option_selected":i},n.headers={"Content-Type":"application/json"},e=Tt(this.Av.parse(e),":vote")),e=function(t,i){return function(t,i,e){if(!i)return t;const a=t.split("#",2),r=a[0].split("?",2);let n=r[0]+(r[1]?`?${r[1]}&${i}`:`?${i}`);return n+=a[1]?`#${a[1]}`:"",n}(t,function(t){const i=[];for(const o in t){let m=t[o];if(null!=m){m=r(n=m)?n:[n];for(let t=0;t<m.length;t++)i.push((e=o,a=m[t],`${encodeURIComponent(e)}=${encodeURIComponent(a)}`))}}var e,a,n;return i.join("&")}(i))}(e,o),function(t,i,e={}){if(!it(t).isProtocolValid(i))return E().error("request-utils","Invalid config url."),Promise.resolve(null);const a=L($(t),"xhr");var r;return(r=t,U(r,"url-replace")).expandUrlAsync(E().assertString(i)).then((t=>a.fetchJson(t,e))).then((t=>{return i=t.ok,"Invalid HTTP response",E().assert(i,"Invalid HTTP response",undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined),t.json();var i}))}(this.element,e,n).catch((t=>I().error(qt,t)))})):Promise.reject("The publisher has specified an invalid datastore endpoint")}Wmt(t){if(!t||!t.options)return M(t&&"options"in t),void I().error(qt,`Invalid interactive response, expected { data: InteractiveResponseType, ...} but received ${t}`);const i=this.getNumberOfOptions();this.updateComponentWithData(t.options.slice(0,i))}updateComponentWithData(t){const i=this.Pf.querySelectorAll(".i-amphtml-story-interactive-option");this.Omt=this.Qmt(t),this.Omt.forEach((t=>{t.selected&&(this.Mmt=!0,this.$mt(t.index),this.mutateElement((()=>{this.Gmt(i[t.index])})))}))}Gmt(t){this.Pf.classList.add(Ot),null!=t&&t.classList.add("i-amphtml-story-interactive-option-selected"),this.Omt&&(this.Pf.classList.add("i-amphtml-story-interactive-has-data"),this.displayOptionsData(this.Omt)),this.getOptionElements().forEach((t=>{t.setAttribute("tabindex",-1)}))}$mt(t=null){const i={option:null!=t?this.U[t]:null,interactiveId:this.Cmt(),type:this.xmt};this.Dy.dispatch(1,i)}pw(t){this.Pf.querySelectorAll("button, a, input").forEach((i=>{i.classList.contains("i-amphtml-story-interactive-option")&&this.Mmt?i.setAttribute("tabindex",-1):i.setAttribute("tabindex",t?0:-1)}))}getNumberOfOptions(){return this.getOptionElements().length}Qmt(t){const i=this.getNumberOfOptions(),e=new Array(i);t.forEach((t=>{const{index:a}=t;a>=0&&a<i&&(e[a]=t)}));for(let t=0;t<e.length;t++)e[t]||(e[t]={count:0,index:t,selected:!1});return e}Ymt(){if(this.zmt)return;const t=this.Pf.getAttribute("dir")||"ltr";let i;this.zmt=function(t,i={}){const e=p(t.element)(_t);!function(t,i){for(const e in i)t.setAttribute(e,i[e])}(e,i);const{descriptionEl:a,entityEl:r,linkEl:n,noteEl:o,urlEl:c}=function(t){const i=t.querySelectorAll("[ref]"),e=m();for(let t=0;t<i.length;t++){const a=i[t],r=a.getAttribute("ref");s(r),a.removeAttribute("ref"),s(void 0===e[r]),e[r]=a}return e}(e),l=t.element.getAttribute("endpoint").replace("https://",""),h=function(t,i){return Object.entries(i).find((i=>i[0]===t.substring(0,i[0].length)))}(l,Et);h?(r.textContent=h[1].entityName,c.textContent=h[0],h[1].learnMoreUrl?n.href=h[1].learnMoreUrl:n.remove()):(r.remove(),c.textContent=l,n.remove()),t.localizationService.getLocalizedStringAsync("89").then((t=>o.textContent=t));const v=`i-amphtml-story-disclaimer-${t.element.id}-description`;a.id=v,e.setAttribute("aria-describedby",v);const d=p(t.element)(At);return zt(d,e,'.i-amphtml-story-interactive-disclaimer-dialog{overflow:hidden!important;padding:1em!important;text-align:initial!important;box-sizing:border-box!important;font-size:calc(var(--story-page-vmin)*3)!important;max-width:25em!important;background:#fff!important;border-radius:1em!important;box-shadow:0px .2em .2em 0px var(--i-amphtml-story-interactive-disclaimer-black-transparent)!important;--i-amphtml-story-interactive-disclaimer-black-transparent:#00000040!important;--i-amphtml-story-interactive-disclaimer-blue:#005af0!important}.i-amphtml-story-interactive-disclaimer-url{color:#5f6368!important;padding-inline-end:2em!important;text-overflow:ellipsis!important;white-space:nowrap!important;overflow:hidden!important}.i-amphtml-story-interactive-disclaimer-link{color:var(--i-amphtml-story-interactive-disclaimer-blue)!important;font-weight:700!important;text-decoration:none!important;padding-top:0.2em!important}.i-amphtml-story-interactive-disclaimer-close{position:absolute!important;bottom:0!important;right:0!important;cursor:pointer!important;background:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" fill="%239AA0A6"><rect x=".788" y="1.833" width="1.479" height="13.264" rx=".739" transform="rotate(-45 .788 1.833)"/><rect x="10.167" y=".788" width="1.479" height="13.264" rx=".739" transform="rotate(45 10.167 .788)"/></svg>\')!important;width:3em!important;height:3em!important;background-size:1em!important;background-repeat:no-repeat!important;background-position:50%!important;border:none!important;font-size:inherit!important}[dir=rtl] .i-amphtml-story-interactive-disclaimer-close{left:0!important;right:auto!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-disclaimer.css*/'),d}(this,{dir:t}),this.measureMutateElement((()=>{const e=this.element.getBoundingClientRect(),a=this.getPageEl().getBoundingClientRect(),r=this.Rmt.getBoundingClientRect(),n=1-(r.y+r.height-a.y)/a.height,o=e.width/a.width,m=V(100*n,0,85),s=Math.max(100*o,65);if(i={"bottom":m+"%","max-width":s+"%","position":"absolute","z-index":3},"rtl"===t){const t=(r.x-a.x)/a.width;i.left=V(100*t,0,25)+"%"}else{const t=1-(r.x+r.width-a.x)/a.width;i.right=V(100*t,0,25)+"%"}}),(()=>{g(this.zmt,function(t){return"display"in t&&v("STYLE","`display` style detected. You must use toggle instead."),t}(i)),this.getPageEl().appendChild(this.zmt),this.Rmt.setAttribute("hide",""),this.zmt.addEventListener("click",(t=>{t.path[0].classList.contains("i-amphtml-story-interactive-disclaimer-close")&&this.Xmt()}))}))}Xmt(){this.zmt&&this.mutateElement((()=>{this.zmt.remove(),this.zmt=null,this.Rmt&&this.Rmt.removeAttribute("hide")}))}},St=["<div class=i-amphtml-story-interactive-binary-poll-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-binary-poll-option-container></div></div>"],$t=["<button class=i-amphtml-story-interactive-option aria-live=polite><span class=i-amphtml-story-interactive-option-percent-bar></span> <span class=i-amphtml-story-interactive-option-text-container><span class=i-amphtml-story-interactive-option-title><span class=i-amphtml-story-interactive-option-title-text></span></span> <span class=i-amphtml-story-interactive-option-percentage-text aria-hidden=true>0%</span></span></button>"],Lt=["<span class=i-amphtml-story-interactive-option-divider></span>"],Ft='.i-amphtml-story-interactive-img-container{--i-amphtml-interactive-img-option-size:7.5em!important;--i-amphtml-interactive-img-option-gap:1em!important;--i-amphtml-interactive-img-transform:scale(0.95)!important;border-radius:3.75em 3.75em 4.5em 4.5em!important}.i-amphtml-story-interactive-img-option-container{background:var(\n    --i-amphtml-interactive-options-chip-background-color\n  )!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:justify!important;justify-content:space-between!important;-ms-flex-align:end!important;align-items:flex-end!important;border-radius:4.375em!important;-ms-flex-wrap:wrap!important;flex-wrap:wrap!important;padding:var(--i-amphtml-interactive-img-option-gap)!important}.i-amphtml-story-interactive-img-option{width:var(--i-amphtml-interactive-img-option-size)!important;height:var(--i-amphtml-interactive-img-option-size)!important;position:relative!important;padding:0!important;background:none!important;border:none!important;font-family:inherit!important;font-size:inherit!important}.i-amphtml-story-interactive-img-option:nth-child(3){margin-top:var(--i-amphtml-interactive-img-option-gap)!important}.i-amphtml-story-interactive-img-option:nth-child(3):last-child{margin:0 auto auto!important}.i-amphtml-story-interactive-img-option-img{border-radius:50%!important;overflow:hidden!important;width:100%!important;height:100%!important;background-color:var(\n    --i-amphtml-interactive-placeholder-background\n  )!important;background-position:50%!important;background-size:cover!important;box-shadow:var(--i-amphtml-interactive-img-border)!important;position:relative!important;z-index:1!important;-webkit-clip-path:circle(calc(var(--i-amphtml-interactive-img-option-size)))!important;clip-path:circle(calc(var(--i-amphtml-interactive-img-option-size)))!important}.i-amphtml-story-interactive-img-option:focus{outline:none!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:focus .i-amphtml-story-interactive-img-option-img{transform:var(--i-amphtml-interactive-img-transform)!important}.i-amphtml-story-interactive-img-option-img:before{content:""!important;display:block!important;width:100%!important;height:100%!important;transform:scaleY(0)!important;transform-origin:bottom!important;opacity:0.5!important}.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-img-option-img{box-shadow:inset 0 0 0 0.25em var(--i-amphtml-interactive-option-post-color),var(--i-amphtml-interactive-img-border)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-img-option-img:before{background-color:var(--i-amphtml-interactive-option-post-color)!important;transform:scaleY(var(--option-percentage,0))!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-img-option-percentage-text{position:absolute!important;bottom:0.625em!important;text-align:center!important;right:0!important;left:0!important;color:#fff!important;font-weight:700!important;text-shadow:0 0 0.7em rgba(0,0,0,0.5)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option-img{animation:i-amphtml-story-interactive-img-option-img-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el1\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(2) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el2\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(3) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el3\n  )!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-img-option:nth-of-type(4) .i-amphtml-story-interactive-img-option-img{animation-delay:var(\n    --i-amphtml-interactive-landing-animation-delay-offset-el4\n  )!important}@keyframes i-amphtml-story-interactive-img-option-img-landing-animation{33%{transform:var(--i-amphtml-interactive-img-transform)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img.css*/',Ut=['<button class="i-amphtml-story-interactive-img-option i-amphtml-story-interactive-option" aria-live=polite><div class=i-amphtml-story-interactive-img-option-img><span class=i-amphtml-story-interactive-img-option-percentage-text></span></div></button>'];function Dt(t,i){const e=U(i,"localization"),a=L($(i),"vsync"),r=[];return t.querySelectorAll("[i-amphtml-i18n-aria-label]").forEach((t=>{r.push(e.getLocalizedStringAsync(t.getAttribute("i-amphtml-i18n-aria-label")).then((i=>t.setAttribute("aria-label",i)))),t.removeAttribute("i-amphtml-i18n-aria-label")})),t.querySelectorAll("[i-amphtml-i18n-text-content]").forEach((i=>{r.push(e.getLocalizedStringAsync(i.getAttribute("i-amphtml-i18n-text-content")).then((e=>t.isConnected?a.mutatePromise((()=>{i.textContent=e})):i.textContent=e))),i.removeAttribute("i-amphtml-i18n-text-content")})),Promise.all(r)}var Xt=['<button class="i-amphtml-story-interactive-img-option i-amphtml-story-interactive-option" aria-live=polite><div class=i-amphtml-story-interactive-img-option-img><span class=i-amphtml-story-interactive-img-option-percentage-text></span></div><div class="i-amphtml-story-interactive-img-quiz-answer-choice notranslate"></div></button>'],Yt=["<div class=i-amphtml-story-interactive-poll-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-option-container></div></div>"],Nt=["<button class=i-amphtml-story-interactive-option aria-live=polite><span class=i-amphtml-story-interactive-option-text></span> <span class=i-amphtml-story-interactive-option-percentage><span class=i-amphtml-story-interactive-option-percentage-text></span> <span class=i-amphtml-story-interactive-option-percentage-sign>%</span></span></button>"],Ht=["<div class=i-amphtml-story-interactive-quiz-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-quiz-option-container></div></div>"],Jt=['<button class="i-amphtml-story-interactive-quiz-option i-amphtml-story-interactive-option" aria-live=polite><span class="i-amphtml-story-interactive-quiz-answer-choice notranslate"></span></button>'],Bt=["<div class=i-amphtml-story-interactive-results-container><div class=i-amphtml-story-interactive-results-image-border><div class=i-amphtml-story-interactive-results-image></div></div><div class=i-amphtml-story-interactive-results-prompt></div><div class=i-amphtml-story-interactive-results-title></div><div class=i-amphtml-story-interactive-results-description></div></div>"],Gt=["<div class=i-amphtml-story-interactive-results-top><div class=i-amphtml-story-interactive-results-top-score>SCORE:</div><div class=i-amphtml-story-interactive-results-top-value><span class=i-amphtml-story-interactive-results-top-value-number>100</span><span>%</span></div></div>"],Zt=(t,i)=>{const e={category:null,percentage:null},a={};return i.forEach((t=>{t.resultscategory&&(a[t.resultscategory]=0)})),Object.values(t).forEach((t=>{1==t.type&&t.option&&t.option.resultscategory&&null!=a[t.option.resultscategory]&&(a[t.option.resultscategory]+=1)})),e.category=Object.keys(a).reduce(((t,i)=>a[t]>=a[i]?t:i)),e},Wt=(t,i)=>{const e={category:null,percentage:null};let a=0,r=0;Object.values(t).forEach((t=>{0==t.type&&(a+=1,t.option&&null!=t.option.correct&&(r+=1))})),e.percentage=0==a?0:r/a*100;let n=-100;return i.forEach((t=>{const i=e.percentage-parseFloat(t.resultsthreshold);(i>=0&&(n>i||n<0)||i<0&&n<0&&i>n)&&(e.category=t.resultscategory,n=i)})),e},Qt=t=>t.some((t=>null!=t.resultsthreshold))?"percentage":"category",Kt=class extends jt{constructor(t){super(t,2,[2,4])}buildCallback(t=""){return super.buildCallback(".i-amphtml-story-interactive-results-container{font-family:Poppins,sans-serif!important;background:var(--i-amphtml-interactive-options-chip-background-color)!important;border-radius:var(--i-amphtml-interactive-chip-radius)!important;color:var(--i-amphtml-interactive-strong-text-color)!important;text-align:center!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column!important;flex-direction:column!important;-ms-flex-align:center!important;align-items:center!important;padding-bottom:1.25em!important}.i-amphtml-story-interactive-results-container.i-amphtml-story-interactive-has-image:not(.i-amphtml-story-interactive-has-score){padding-top:2.5em!important}.i-amphtml-story-interactive-has-score .i-amphtml-story-interactive-results-top{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:justify!important;justify-content:space-between!important;padding:1em 1.5em!important;box-sizing:border-box!important;color:var(--interactive-prompt-text-color)!important}.i-amphtml-story-interactive-results-top{width:100%!important;border-top-left-radius:var(--i-amphtml-interactive-chip-radius)!important;border-top-right-radius:var(--i-amphtml-interactive-chip-radius)!important;display:none!important}.i-amphtml-story-interactive-has-score:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-top{background:var(--interactive-prompt-background)!important}.i-amphtml-story-interactive-results-top-score{font-weight:700!important;font-size:.75em!important;line-height:1em!important;letter-spacing:.15em!important;text-transform:uppercase!important}[dir=rtl] .i-amphtml-story-interactive-results-top-score{left:auto!important;right:1.25em!important}.i-amphtml-story-interactive-results-top-value{font-weight:700!important;font-size:1.75em!important;line-height:1!important}.i-amphtml-story-interactive-results-top-value>span:nth-child(2){font-size:.5em!important}[dir=rtl] .i-amphtml-story-interactive-results-top-value{left:.7em!important;right:auto!important}.i-amphtml-story-interactive-results-container:not(.i-amphtml-story-interactive-has-score){--i-amphtml-story-interactive-score-display:none!important}.i-amphtml-story-interactive-results-container:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-image-border{display:none!important}.i-amphtml-story-interactive-results-image{width:8.75em!important;height:8.75em!important;background-size:cover!important;background-position:50%!important;border-radius:50%!important}.i-amphtml-story-interactive-results-image-border{margin:0px 10px!important;padding:8px!important;border-radius:50%!important;border:2px solid var(--interactive-accent-color)!important}.i-amphtml-story-interactive-results-prompt{text-transform:uppercase!important;font-size:.75em!important;margin-top:1.75em!important;font-weight:700!important;letter-spacing:.2em!important}.i-amphtml-story-interactive-results-top-transparent.i-amphtml-story-interactive-has-score:not(.i-amphtml-story-interactive-has-image) .i-amphtml-story-interactive-results-prompt{margin-top:0px!important}.i-amphtml-story-interactive-results-title{font-size:1.75em!important;font-weight:700!important}.i-amphtml-story-interactive-results-description{font-size:.875em!important;text-align:center!important;color:var(--i-amphtml-interactive-option-text-color)!important;margin-top:.5em!important;padding:0px 1.4em!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-results.css*/"+t)}buildComponent(){return this.Pf=p(this.element)(Bt),this.buildTop(),this.Pf}buildTop(){this.Pf.prepend(p(this.element)(Gt))}layoutCallback(){this.element.hasAttribute("prompt-text")&&(this.Pf.querySelector(".i-amphtml-story-interactive-results-prompt").textContent=this.element.getAttribute("prompt-text")),this.Dy.subscribe(16,(t=>this.onInteractiveReactStateUpdate(t)),!0)}onInteractiveReactStateUpdate(t){const i=((t,i)=>("category"===Qt(i)?Zt:Wt)(t,i))(t,this.U);this.Pf.classList.toggle("i-amphtml-story-interactive-has-score",null!=i.percentage),this.Pf.querySelector(".i-amphtml-story-interactive-results-top-value-number").textContent=(i.percentage||0).toFixed(0),this.U.forEach((t=>{t.resultscategory===i.category&&this.mutateElement((()=>{this.Kmt(t),this.Gmt(null)}))}))}Kmt(t){this.Pf.classList.toggle("i-amphtml-story-interactive-has-image",null!=t.image),t.image&&b(this.Pf.querySelector(".i-amphtml-story-interactive-results-image"),"background","url("+t.image+")"),this.Pf.querySelector(".i-amphtml-story-interactive-results-title").textContent=t.resultscategory,this.Pf.querySelector(".i-amphtml-story-interactive-results-description").textContent=t.text||"",this.Pf.classList.toggle("i-amphtml-story-interactive-results-top-transparent",this.tvt())}pY(t){}displayOptionsData(t){}$mt(t){}tvt(){const t=w(this.win,this.Pf.querySelector(".i-amphtml-story-interactive-results-top")).background;return!(!t.startsWith("rgba")||0!=t.lastIndexOf("rgb"))&&0==parseFloat(t.split(", ")[3].split(")")[0])}},ti=["<div class=i-amphtml-story-interactive-results-container><div class=i-amphtml-story-interactive-results-prompt></div><div class=i-amphtml-story-interactive-results-title></div><div class=i-amphtml-story-interactive-results-detailed><div class=i-amphtml-story-interactive-results-image></div></div><div class=i-amphtml-story-interactive-results-description></div></div>"],ii=["<div class=i-amphtml-story-interactive-slider-container><div class=i-amphtml-story-interactive-prompt-container></div><div class=i-amphtml-story-interactive-slider-input-container><div class=i-amphtml-story-interactive-slider-input-size><input class=i-amphtml-story-interactive-slider-input type=range min=0 max=100 step=0.1 value=0><div class=i-amphtml-story-interactive-slider-bubble-wrapper><div class=i-amphtml-story-interactive-slider-bubble></div></div><div class=i-amphtml-story-interactive-slider-average-indicator><span></span><span></span><span></span></div><div class=i-amphtml-story-interactive-slider-average-text>Average answer</div></div></div></div>"],ei=t=>t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1,ai="percentage",ri=class extends jt{constructor(t){super(t,3,[0,1]),this.ivt=null,this.evt=null,this.avt=ai,this.rvt=null,this.ap=null}displayOptionsData(t){const i=this.nvt(t);g(this.Pf,{"--average":i+"%"})}nvt(t){let i=0,e=0;for(let a=0;a<t.length;a++)i+=t[a].index*t[a].count,e+=t[a].count;return 0==e?0:i/e}updateComponentWithData(t){this.Omt=this.Qmt(t),this.Omt.forEach((t=>{t.selected&&(this.Mmt=!0,this.mutateElement((()=>{this.evt.value=t.index,this.ovt(),this.R$(),this.Gmt(null)})))}))}buildComponent(){if(this.Pf=p(this.element)(ii),this.ivt=this.Pf.querySelector(".i-amphtml-story-interactive-slider-bubble"),this.evt=this.Pf.querySelector(".i-amphtml-story-interactive-slider-input"),this.U.length>0){this.avt="emoji";const t=this.win.document.createElement("span");t.textContent=this.U[0].text,this.ivt.appendChild(t)}return this.Pf.setAttribute("type",this.avt),this.Fmt(this.Pf),this.Pf}buildCallback(){return super.buildCallback('.i-amphtml-story-interactive-slider-container{--average:0%;--fraction:0;--percentage:calc(var(--fraction)*100%)!important;--percentage-corrected:calc(2.5% + var(--percentage)*0.95)!important;--thumb-size:1.5em!important;--gradient-angle:90deg!important;--translate-x-center:-50%!important}.i-amphtml-story-interactive-slider-input-container{display:-ms-flexbox!important;display:flex!important;background:var(--i-amphtml-interactive-option-background-color)!important;border-radius:2em!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;padding:0em 1em!important}.i-amphtml-story-interactive-slider-bubble{position:absolute!important;--scale-var:calc(var(--fraction) + 1)!important;transform:translateY(calc(var(--scale-var)*-70% - 40%)) scale(var(--scale-var))!important;text-align:center!important;font-weight:700!important;height:100%!important;width:100%!important;color:#fff!important}[dir=rtl].i-amphtml-story-interactive-slider-container{--gradient-angle:270deg!important;--translate-x-center:50%!important}[dir=rtl] .i-amphtml-story-interactive-slider-bubble-wrapper{right:var(--percentage)!important}[type=emoji] .i-amphtml-story-interactive-slider-bubble{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important}[type=percentage] .i-amphtml-story-interactive-slider-bubble{line-height:2.9em!important}.i-amphtml-story-interactive-slider-bubble:after{position:absolute!important;content:""!important;box-sizing:border-box!important;height:100%!important;width:100%!important;top:0%!important;background:var(--interactive-accent-color)!important;z-index:-1!important;left:50%!important;transform:translateX(-50%) rotate(45deg)!important;border:0.1em solid transparent!important;border-radius:50% 50% 0% 50%!important;box-shadow:0em 0em 0.5em rgba(0,0,0,0.25)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-slider-bubble{z-index:2!important;transform:scale(0.9)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-slider-bubble:after{cursor:initial!important;border:0.1em solid var(--i-amphtml-interactive-option-background-color)!important;border-bottom-right-radius:50%!important;transition:border-radius var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),border-color var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-slider-bubble-wrapper{transform:translate(var(--translate-x-center),-50%) scale(0)!important;position:absolute!important;width:2.8em!important;height:2.8em!important;top:50%!important;left:var(--percentage)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-mid-selection .i-amphtml-story-interactive-slider-bubble-wrapper,.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-slider-bubble-wrapper{transform:translate(var(--translate-x-center),-50%) scale(1)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-slider-bubble-wrapper{z-index:2!important}.i-amphtml-story-interactive-slider-average-indicator{transform:translate(-50%,-50%) scale(0)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;width:2em!important;height:2em!important;top:50%!important;left:var(--average)!important;opacity:0.6!important;border-radius:50%;position:absolute}.i-amphtml-story-interactive-active.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-slider-average-indicator{transform:translate(-50%,-50%) scale(1)!important}.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-slider-average-indicator span{--pulse-animation-duration:3s;transform:scale(0);box-sizing:border-box;content:"";width:2em;height:2em;position:absolute;box-shadow:inset 0 0 0 0.05em var(--i-amphtml-interactive-strong-text-color);border-radius:50%;animation:pulse var(--pulse-animation-duration) linear infinite forwards!important}.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-slider-average-indicator span:first-child{animation-delay:calc(var(--pulse-animation-duration)*-0.33)!important}.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-slider-average-indicator span:nth-child(2){animation-delay:calc(var(--pulse-animation-duration)*-0.66)!important}@keyframes pulse{0%{opacity:0;transform:scale(0.15);box-shadow:inset 0 0 0 3em var(--i-amphtml-interactive-strong-text-color)}10%{opacity:1;transform:scale(0.2);box-shadow:inset 0 0 0 0.5em var(--i-amphtml-interactive-strong-text-color)}20%{opacity:1;box-shadow:inset 0 0 0 0.4em var(--i-amphtml-interactive-strong-text-color)}60%{opacity:1}to{opacity:0;transform:scale(1);box-shadow:inset 0 0 0 0.08em var(--i-amphtml-interactive-strong-text-color)}}.i-amphtml-story-interactive-slider-average-text{position:absolute!important;transform:translate(-50%,100%) scale(0)!important;bottom:260%!important;line-height:1.5em!important;font-size:0.7em!important;padding:0.5em 1.5em!important;color:#000!important;z-index:1!important;border-radius:1.5em!important;box-shadow:0 0.4em 0.5em -0.25em rgba(0,0,0,0.2),0 0.3em 1.4em 0.25em rgba(0,0,0,0.14),0 0.75em 1em 0.125em rgba(0,0,0,0.14)!important;background-color:#fff!important}.i-amphtml-story-interactive-slider-average-text:after{content:""!important;position:absolute!important;transform:translateX(-50%) rotate(90deg)!important;left:50%!important;top:90%!important;border:0.75em solid transparent!important;border-left-color:#fff!important}.i-amphtml-story-interactive-active.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-slider-average-text{left:var(--average)!important;animation:average-pop 3s 0.3s forwards}@keyframes average-pop{0%,to{transform:translate(-50%,35%);opacity:0}10%,90%{opacity:1;transform:translate(-50%)}}[type=emoji] .i-amphtml-story-interactive-slider-bubble span{display:inline-block!important;font-size:3em!important;transform:scale(0.5)!important}.i-amphtml-story-interactive-slider-input{-webkit-opacity:1!important;-webkit-appearance:none!important;font-size:inherit!important;height:1em!important;width:calc(100% + var(--thumb-size))!important;margin:0em calc(var(--thumb-size)*-0.5)!important;border-radius:0.5em!important;position:absolute!important;pointer-events:all!important;cursor:pointer!important;background:transparent!important;z-index:1!important}.i-amphtml-story-interactive-slider-input-size{position:relative!important;-ms-flex:1!important;flex:1!important;margin:1em calc(var(--thumb-size)*0.5)!important;height:1em!important}.i-amphtml-story-interactive-slider-input-size:after,.i-amphtml-story-interactive-slider-input-size:before{content:""!important;background:linear-gradient(var(--gradient-angle),var(--interactive-accent-color) var(--percentage-corrected),transparent var(--percentage-corrected))!important;width:100%!important;height:100%!important;border-radius:0.5em!important;position:absolute!important;margin:0em calc(var(--thumb-size)*-0.5)!important;width:calc(100% + var(--thumb-size))!important}.i-amphtml-story-interactive-slider-input-size:after{background:linear-gradient(var(--gradient-angle),#fff,var(--interactive-accent-color) var(--percentage-corrected))!important;opacity:0.3!important;z-index:0!important}.i-amphtml-story-interactive-slider-input::-webkit-slider-thumb{transform:rotate(45deg)!important;-webkit-appearance:none!important;width:var(--thumb-size)!important;height:var(--thumb-size)!important;background:var(--interactive-accent-color)!important;border-radius:50%!important;position:relative!important;-webkit-transition:border-radius var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),box-shadow var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transition:border-radius var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),box-shadow var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;border:none!important;z-index:1!important}.i-amphtml-story-interactive-slider-input::-moz-range-thumb{transform:rotate(45deg)!important;width:var(--thumb-size)!important;height:var(--thumb-size)!important;background:var(--interactive-accent-color)!important;border-radius:50%!important;border:none!important;-moz-transition:border-radius var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),box-shadow var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transition:border-radius var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),box-shadow var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-mid-selection .i-amphtml-story-interactive-slider-input::-webkit-slider-thumb{box-shadow:0em 0em 0.5em rgba(0,0,0,0.25),0em 0em 0em 0.07em var(--i-amphtml-interactive-option-background-color)!important;border-top-left-radius:0%!important}.i-amphtml-story-interactive-mid-selection .i-amphtml-story-interactive-slider-input::-moz-range-thumb{box-shadow:0em 0em 0.5em rgba(0,0,0,0.25),0em 0em 0em 0.07em var(--i-amphtml-interactive-option-background-color)!important;border-top-left-radius:0%!important}.i-amphtml-story-interactive-slider-input[disabled]{pointer-events:none!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-slider.css*/')}Uy(){super.Uy(),this.evt.addEventListener("input",(()=>{cancelAnimationFrame(this.ap),this.ovt()})),["mouseup","touchend"].forEach((t=>{this.evt.addEventListener(t,(()=>{this.R$()}))})),this.evt.addEventListener("keydown",(t=>{const i=this.Dy.get(26)?-1:1;"Enter"===t.key||" "===t.key?this.R$():"ArrowLeft"===t.key?(this.mvt(-i),t.preventDefault()):"ArrowRight"===t.key&&(this.mvt(i),t.preventDefault())}),!0),this.evt.addEventListener("touchmove",(t=>t.stopPropagation()),!0),this.Dy.subscribe(35,(t=>{if(this.Pf.classList.contains(Ot))return;if(t!=this.getPageEl().getAttribute("id"))return cancelAnimationFrame(this.ap),clearTimeout(this.rvt),this.evt.value=0,this.ovt(),void this.Pf.classList.remove(Vt);let i;const e=t=>{if(this.Pf.classList.contains("i-amphtml-story-interactive-has-data"))return;i||(i=t);const a=t-i;if(1500<a)return void this.Pf.classList.remove(Vt);const r=a/1500,n=r<.5?30*ei(2*r):30*ei(2-2*r);this.evt.value=n,this.ovt(),this.ap=requestAnimationFrame(e)};this.rvt=setTimeout((()=>requestAnimationFrame(e)),500)}),!0)}ovt(){const{value:t}=this.evt;this.avt==ai&&(this.ivt.textContent=Math.round(t)+"%"),this.Pf.classList.add(Vt),g(this.Pf,{"--fraction":t/100})}mvt(t){const i=parseFloat(this.evt.value);this.evt.value=i+t,this.ovt()}R$(){this.Mmt||(this.Gmt(),this.evt.setAttribute("disabled",""),this.Pf.classList.remove(Vt),this.Hmt(Math.round(this.evt.value)))}getNumberOfOptions(){return 101}};t.registerElement("amp-story-interactive-binary-poll",class extends jt{constructor(t){super(t,1,[2,2])}buildCallback(){return super.buildCallback('.i-amphtml-story-interactive-binary-poll-container{color:var(--i-amphtml-interactive-option-accent-color)!important;--post-select-scale:0.5!important;--post-select-scale-variable:1;border-radius:2em!important}.i-amphtml-story-interactive-binary-poll-option-container{background:var(--i-amphtml-interactive-option-background-color)!important;height:5.625em!important;border-radius:1em!important;overflow:hidden!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important;transform:translateZ(0)!important}.i-amphtml-story-interactive-binary-poll-option-container,.i-amphtml-story-interactive-option{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important}.i-amphtml-story-interactive-option{-ms-flex-align:center!important;align-items:center!important;text-align:center!important;-ms-flex-direction:column!important;flex-direction:column!important;width:50%;position:relative!important;background-color:transparent!important;font:inherit!important;border:none!important;outline:none!important;color:inherit!important}.i-amphtml-story-interactive-prompt{text-align:center!important}.i-amphtml-story-interactive-option-text-container{width:100%!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-direction:column!important;flex-direction:column!important;transform:translateY(calc(1em + 1px))!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-text-container{transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve),opacity var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform:translateY(0)!important}.i-amphtml-story-interactive-binary-poll-container:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option-divider{height:100%!important;width:1px!important;opacity:0.3!important;background-color:var(--i-amphtml-interactive-theme-border)!important}.i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-percent-bar{height:100%!important;width:100%!important;position:absolute!important;opacity:0!important;transform-origin:left!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-option:last-child .i-amphtml-story-interactive-option-percent-bar,[dir=rtl] .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-percent-bar{transform-origin:right!important}[dir=rtl] .i-amphtml-story-interactive-option:last-child .i-amphtml-story-interactive-option-percent-bar{transform-origin:left!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-option-percent-bar{background-color:var(--i-amphtml-interactive-option-accent-color)!important;opacity:0.2!important;animation:i-amphtml-interactive-animation-flash-background forwards var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)}.i-amphtml-story-interactive-option-title{font-weight:800!important;font-size:1.75em!important;margin:0!important;line-height:1.3em!important;width:4.42em!important;display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:center!important;justify-content:center!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;height:2.6em!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-title{transform:scale(var(--post-select-scale))!important}.i-amphtml-story-interactive-option-title-text{overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;max-height:2.6em!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-title-text{transform:scale(var(--post-select-scale-variable))!important}.i-amphtml-story-interactive-option-percentage-text{font-weight:700!important;font-size:1.375em!important;transform:scale(0)!important;display:inline-block!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-percentage-text{transform:scale(1) translateY(-0.75em)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:before{background-color:var(--i-amphtml-interactive-theme-shading-flash)!important;content:""!important;position:absolute!important;width:100%!important;height:100%!important;left:0!important;opacity:0!important;animation:i-amphtml-interactive-animation-landing-animation-flash-background var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:focus:before{opacity:1!important;background-color:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-title-text{animation:i-amphtml-story-interactive-option-title-text-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-option-title-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}@keyframes i-amphtml-story-interactive-option-title-text-landing-animation{33%{transform:scale(.95)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-binary-poll.css*/')}buildComponent(){return this.Pf=p(this.element)(St),this.svt(this.Pf),this.Pf}layoutCallback(){return this.pvt(this.Pf).then((()=>super.layoutCallback()))}svt(t){this.Fmt(t);const i=t.querySelector(".i-amphtml-story-interactive-binary-poll-option-container");i.appendChild(this.cvt(this.U[0])),i.appendChild(p(t)(Lt)),i.appendChild(this.cvt(this.U[1]))}pvt(t){let e=28;const a=i(t.querySelectorAll(".i-amphtml-story-interactive-option-title-text"));return this.measureMutateElement((()=>{a.forEach((t=>{const i=Math.round(t.clientHeight/parseFloat(w(this.win,t)["line-height"].replace("px","")));t.textContent.length<=3&&e>=28?e=28:1==i&&e>=16?e=16:2==i&&(e=14)}))}),(()=>{b(t,"--post-select-scale-variable",`${(e/14).toFixed(2)}`)}),t)}cvt(t){const i=p(this.element)($t);return i.querySelector(".i-amphtml-story-interactive-option-title-text").textContent=t.text,i.Nmt=t.optionIndex,i}lvt(t){let i=Math.max(t-50,-20);return"rtl"===document.dir&&(i*=-1),i}displayOptionsData(t){if(!t)return;const i=this.Bmt(t);this.getOptionElements().forEach(((e,a)=>{const r=i[a],n=e.querySelector(".i-amphtml-story-interactive-option-percentage-text");n.textContent=`${r}%`,n.removeAttribute("aria-hidden"),b(e.querySelector(".i-amphtml-story-interactive-option-percent-bar"),"transform",`scaleX(${.01*r*2})`);const o=e.querySelector(".i-amphtml-story-interactive-option-text-container");o.setAttribute("style",`transform: translateX(${this.lvt(r)*(0===a?1:-1)}%) !important`),t[a].selected&&o.setAttribute("aria-label","selected "+o.textContent),0===r&&b(o,"opacity","0")}))}}),t.registerElement("amp-story-interactive-img-poll",class extends jt{constructor(t){super(t,1)}buildCallback(){return super.buildCallback(".i-amphtml-story-interactive-img-option{--i-amphtml-interactive-option-post-color:var(\n    --interactive-accent-color\n  )!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img-poll.css*/"+Ft)}buildComponent(){return this.Pf=Mt(this.element),this.svt(this.Pf),this.Pf}svt(t){this.Fmt(t);const i=this.Pf.querySelector(".i-amphtml-story-interactive-img-option-container");this.U.forEach(((t,e)=>i.appendChild(this.hvt(t,e))))}hvt(t){const i=(t=>p(this.element)(Ut))();return i.Nmt=t.optionIndex,g(i.querySelector(".i-amphtml-story-interactive-img-option-img"),{"background-image":"url("+t.image+")"}),i.setAttribute("aria-label",t.imagealt),i}displayOptionsData(t){if(!t)return;const i=this.Bmt(t);this.getOptionElements().forEach(((e,a)=>{t[a].selected&&e.setAttribute("aria-label","selected "+this.U[a].imagealt),e.querySelector(".i-amphtml-story-interactive-img-option-percentage-text").textContent=`${i[a]}%`,g(e,{"--option-percentage":i[a]/100})}))}}),t.registerElement("amp-story-interactive-img-quiz",class extends jt{constructor(t){super(t,0),this.vvt=[]}buildCallback(){return super.buildCallback('.i-amphtml-story-interactive-img-quiz-answer-choice{position:absolute!important;height:1.5em!important;width:1.5em!important;bottom:0.5em!important;box-shadow:0 0 0 0.125em var(--i-amphtml-interactive-option-background-color)!important;background-color:var(--interactive-accent-color)!important;border-radius:50%!important;text-align:center!important;color:var(--i-amphtml-interactive-option-answer-choice-color)!important;font-weight:700!important;line-height:1.5em!important;z-index:1!important;-webkit-backface-visibility:hidden!important;backface-visibility:hidden!important;-webkit-clip-path:circle(1em)!important;clip-path:circle(1em)!important;background-clip:content-box!important}.i-amphtml-story-interactive-img-container:not([dir=rtl]) .i-amphtml-story-interactive-img-quiz-answer-choice{right:0.5em!important}.i-amphtml-story-interactive-img-container[dir=rtl] .i-amphtml-story-interactive-img-quiz-answer-choice{left:0.5em!important}.i-amphtml-story-interactive-img-quiz-answer-choice:before{content:""!important;width:100%!important;height:100%!important;border-radius:50%!important;position:absolute!important;left:0!important}.i-amphtml-story-interactive-img-option[correct=correct]{--i-amphtml-interactive-option-post-color:var(--correct-color)!important;--i-amphtml-interactive-option-post-marker:url(\'data:image/svg+xml;charset=utf-8,<svg width="12" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M3.584 7.497 1.362 5.276a.641.641 0 1 0-.907.907l3.129 3.129 7.241-7.242a.64.64 0 0 0-.904-.904L3.584 7.497z" fill="%23fff"/></svg>\')!important}.i-amphtml-story-interactive-img-option:not([correct=correct]){--i-amphtml-interactive-option-post-color:var(--incorrect-color)!important;--i-amphtml-interactive-option-post-marker:url(\'data:image/svg+xml;charset=utf-8,<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M11.396 1.813A.854.854 0 1 0 10.187.604L6 4.791 1.813.604A.855.855 0 0 0 .604 1.813L4.791 6 .604 10.187a.855.855 0 0 0 1.209 1.209L6 7.209l4.187 4.187a.855.855 0 1 0 1.209-1.209L7.209 6l4.187-4.187z" fill="%23fff"/></svg>\')!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-img-quiz-answer-choice{background-color:var(--i-amphtml-interactive-option-post-color)!important;color:transparent!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-img-quiz-answer-choice:before{display:block!important;background-color:transparent!important;background-image:var(--i-amphtml-interactive-option-post-marker)!important;background-position:50%!important;background-repeat:no-repeat!important;background-size:0.75em!important;filter:var(--i-amphtml-story-interactive-img-quiz-answer-filter)!important}.i-amphtml-story-interactive-option-selected .i-amphtml-story-interactive-img-quiz-answer-choice{animation:answer-choice-bounce 600ms linear forwards!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-img-quiz.css*/'+Ft)}buildComponent(){return this.Pf=Mt(this.element),this.svt(this.Pf),this.Pf}layoutCallback(){return this.dvt(this.Pf),super.layoutCallback()}svt(t){this.Fmt(t),this.vvt=["71","72","73","74"];const i=this.Pf.querySelector(".i-amphtml-story-interactive-img-option-container");this.U.forEach(((t,e)=>i.appendChild(this.hvt(t,e)))),Dt(i,this.element)}hvt(t,i){const e=(t=>p(this.element)(Xt))();return e.querySelector(".i-amphtml-story-interactive-img-quiz-answer-choice").setAttribute("i-amphtml-i18n-text-content",this.vvt[i]),e.Nmt=t.optionIndex,g(e.querySelector(".i-amphtml-story-interactive-img-option-img"),{"background-image":"url("+t.image+")"}),e.setAttribute("aria-label",t.imagealt),"correct"in t&&e.setAttribute("correct","correct"),e}displayOptionsData(t){if(!t)return;const i=this.Bmt(t);this.getOptionElements().forEach(((e,a)=>{const r=(t[a].selected?"selected":"")+(e.hasAttribute("correct")?" correct":"")+(e.hasAttribute("correct")?"":" incorrect");e.setAttribute("aria-label",r+" "+this.U[a].imagealt),e.querySelector(".i-amphtml-story-interactive-img-option-percentage-text").textContent=`${i[a]}%`,g(e,{"--option-percentage":i[a]/100})}))}dvt(t){const i=t.querySelector(".i-amphtml-story-interactive-img-quiz-answer-choice"),{backgroundColor:e}=w(this.win,i);g(t,{"--i-amphtml-interactive-option-answer-choice-color":function(t){const{b:i,g:e,r:a}=t,r=t=>(t/=255)<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4);return.2126*r(a)+.7152*r(e)+.0722*r(i)>.179?"#000":"#FFF"}(function(t){const i=/rgba?\((\d{1,3}), (\d{1,3}), (\d{1,3})/;if(!t.match(i))return E().error("UTILS",`getRGBFromCssColorValue expects a parameter in the form of 'rgba(0, 0, 0, 1)' or 'rgb(0, 0, 0)' but got ${t}`),{r:0,g:0,b:0};const e=i.exec(t);return{r:Number(e[1]),g:Number(e[2]),b:Number(e[3])}}(e))})}}),t.registerElement("amp-story-interactive-poll",class extends jt{constructor(t){super(t,1,[2,4])}buildCallback(){return super.buildCallback('.i-amphtml-story-interactive-option-container{background-color:var(--i-amphtml-interactive-options-chip-background-color)!important;border-radius:1em!important;color:var(--i-amphtml-interactive-strong-text-color)!important;font-weight:700!important;padding:.5em!important}.i-amphtml-story-interactive-option{display:-ms-flexbox!important;display:flex!important;-ms-flex-align:center!important;align-items:center!important;-ms-flex-pack:justify!important;justify-content:space-between!important;height:3.5em!important;overflow:hidden!important;padding:0px .75em!important;position:relative!important;box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;border-radius:.5em!important;background-color:var(--i-amphtml-interactive-option-background-color);border:none!important;font:inherit!important;color:inherit!important;width:100%!important;outline:none!important;text-align:start!important}.i-amphtml-story-interactive-option:not(:first-child){margin-top:.5em!important}.i-amphtml-story-interactive-option.i-amphtml-story-interactive-option-selected{background-color:var(--i-amphtml-interactive-theme-shading-base);box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow-inset),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;animation:i-amphtml-interactive-animation-flash-background-color forwards var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-option:after{content:""!important;background-color:var(--i-amphtml-interactive-theme-shading)!important;position:absolute!important;height:100%!important;width:100%!important;left:0!important;top:0!important;transform:translateX(-100%)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:focus:before{opacity:1!important;background-color:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option:after{transform:translateX(100%)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option:after{transform:translateX(calc(var(--option-percentage) - 100%))!important}.i-amphtml-story-interactive-poll-container.i-amphtml-story-interactive-post-selection[dir=rtl] .i-amphtml-story-interactive-option:after{transform:translateX(calc(100% - var(--option-percentage)))!important}.i-amphtml-story-interactive-poll-container:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-option:after{visibility:hidden!important}.i-amphtml-story-interactive-option-text{font-size:1.375em!important;margin:0!important;z-index:1!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform-origin:left!important;line-height:1.3em!important;word-wrap:break-word!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;max-height:2.6em!important}.i-amphtml-story-interactive-poll-two-lines .i-amphtml-story-interactive-option-text{font-size:1.125em!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option-text{transform-origin:right!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-text{transform:scale(0.72)!important}.i-amphtml-story-interactive-option-percentage{font-weight:700!important;font-size:1.75em!important;margin:0!important;opacity:0!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important;transform:translateX(2em)!important;-ms-flex-negative:0!important;flex-shrink:0!important;direction:ltr!important}.i-amphtml-story-interactive-poll-container[dir=rtl] .i-amphtml-story-interactive-option-percentage{transform:translateX(-2em)!important}.i-amphtml-story-interactive-has-data.i-amphtml-story-interactive-post-selection:not([dir=rtl]) .i-amphtml-story-interactive-option-percentage,.i-amphtml-story-interactive-has-data.i-amphtml-story-interactive-post-selection[dir=rtl] .i-amphtml-story-interactive-option-percentage{opacity:1!important;transform:translateX(0px)!important}.i-amphtml-story-interactive-option-percentage-sign{font-size:.6em!important;margin-left:-.25em!important;display:inline-block!important}.i-amphtml-story-interactive-poll-container:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-option-percentage{visibility:hidden!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:before{background-color:var(--i-amphtml-interactive-theme-shading-flash)!important;content:""!important;position:absolute!important;width:100%!important;height:100%!important;left:0!important;opacity:0!important;animation:i-amphtml-interactive-animation-landing-animation-flash-background var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4):before{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-option-text{transform-origin:center!important;animation:i-amphtml-story-interactive-option-text-landing-text var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4) .i-amphtml-story-interactive-option-text{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}@keyframes i-amphtml-story-interactive-option-text-landing-text{33%{transform:translateY(.2em)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-poll.css*/')}buildComponent(){return this.Pf=p(this.element)(Yt),this.svt(this.Pf),this.Pf}layoutCallback(){return this.pvt(this.Pf).then((()=>super.layoutCallback()))}svt(t){this.Fmt(t),this.U.forEach(((t,i)=>this.hvt(t,i)))}hvt(t,i){const e=(t=>p(this.element)(Nt))();e.Nmt=i,e.querySelector(".i-amphtml-story-interactive-option-text").textContent=t.text,this.Pf.querySelector(".i-amphtml-story-interactive-option-container").appendChild(e)}displayOptionsData(t){if(!t)return;const i=this.Bmt(t);this.getOptionElements().forEach(((e,a)=>{if(t[a].selected){const t=e.querySelector(".i-amphtml-story-interactive-option-text");t.setAttribute("aria-label","selected "+t.textContent)}e.querySelector(".i-amphtml-story-interactive-option-percentage-text").textContent=i[a],b(e,"--option-percentage",i[a]+"%")}))}pvt(t){let e=!1;const a=i(t.querySelectorAll(".i-amphtml-story-interactive-option-text"));return this.measureMutateElement((()=>{e=a.some((t=>Math.round(t.clientHeight/parseFloat(w(this.win,t)["line-height"].replace("px","")))>=2))}),(()=>{this.Pf.classList.toggle("i-amphtml-story-interactive-poll-two-lines",e)}),t)}}),t.registerElement("amp-story-interactive-quiz",class extends jt{constructor(t){super(t,0),this.vvt=[]}buildCallback(){return super.buildCallback('.i-amphtml-story-interactive-quiz-option-container{display:-ms-flexbox!important;display:flex!important;-ms-flex-direction:column;flex-direction:column;background-color:var(\n    --i-amphtml-interactive-options-chip-background-color\n  )!important;border-radius:2em!important;padding:0.5em 0.5em 0!important;box-shadow:var(--i-amphtml-interactive-component-shadow)!important}.i-amphtml-story-interactive-quiz-option{font-family:inherit!important;position:relative!important;display:-ms-flexbox!important;display:flex!important;justify-items:start!important;-ms-flex-align:center!important;align-items:center!important;border-radius:1.649em!important;padding:0.5em 1em 0.5em 0.5em!important;background-color:var(\n    --i-amphtml-interactive-option-background-color\n  )!important;margin-bottom:0.5em!important;color:var(--i-amphtml-interactive-option-text-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-webkit-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;-moz-box-shadow:var(--i-amphtml-interactive-chip-shadow),inset 0px 0px 0px 1px var(--i-amphtml-interactive-theme-border)!important;font-size:1em!important;line-height:1.25em!important;overflow:hidden!important;z-index:0!important;border:none!important;outline:none!important;text-align:start!important}[dir=rtl] .i-amphtml-story-interactive-quiz-option{padding:0.5em 0.5em 0.5em 1em!important}.i-amphtml-story-interactive-quiz-option-text{max-height:2.5em!important;overflow:hidden!important;text-overflow:ellipsis!important;display:-webkit-box!important;-webkit-line-clamp:2!important;-webkit-box-orient:vertical!important;visibility:visible!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected{color:#fff!important;border:1px solid transparent!important}.i-amphtml-story-interactive-quiz-answer-choice{display:-ms-flexbox!important;display:flex!important;-ms-flex-pack:center!important;justify-content:center!important;-ms-flex-align:center!important;align-items:center!important;height:1.5em!important;width:1.5em!important;min-width:1.5em!important;border-radius:50%!important;padding:.31em!important;margin-right:1em!important;color:var(--interactive-accent-color)!important;border:0.125em solid!important;border-color:var(--i-amphtml-interactive-answer-choice-border)!important;font-size:1em!important;line-height:1em!important;font-weight:700!important;background-repeat:no-repeat!important;background-position:50%!important;background-size:1.5em!important}[dir=rtl] .i-amphtml-story-interactive-quiz-answer-choice{margin-left:16px!important;margin-right:0px!important}.i-amphtml-story-interactive-quiz-percentage-text{display:-ms-flexbox!important;display:flex!important;padding-left:1em!important;margin-left:auto!important;visibility:hidden!important;-ms-flex-negative:0!important;flex-shrink:0!important}.i-amphtml-story-interactive-quiz-option:not(.i-amphtml-story-interactive-option-selected) .i-amphtml-story-interactive-quiz-percentage-text{opacity:0.5!important}[dir=rtl] .i-amphtml-story-interactive-quiz-percentage-text{padding-left:0px!important;padding-right:1em!important;margin-right:auto!important;margin-left:0px!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-percentage-text{visibility:visible!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected>.i-amphtml-story-interactive-quiz-percentage-text{color:#fff!important}.i-amphtml-story-interactive-post-selection :not([correct])>.i-amphtml-story-interactive-quiz-answer-choice{color:var(--incorrect-color)!important;border-color:var(--incorrect-color)!important}.i-amphtml-story-interactive-post-selection [correct]>.i-amphtml-story-interactive-quiz-answer-choice{color:var(--correct-color)!important;border-color:var(--correct-color)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected>.i-amphtml-story-interactive-quiz-answer-choice{border-color:transparent!important;animation:answer-choice-bounce 600ms linear forwards;background-color:var(\n    --i-amphtml-interactive-answer-choice-background\n  )!important}.i-amphtml-story-interactive-post-selection [correct]>.i-amphtml-story-interactive-quiz-answer-choice{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%235BBA74"><path fill="none" d="M0 0h24v24H0z"/><path d="M9 16.2 4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/></svg>\')!important;color:transparent!important}.i-amphtml-story-interactive-post-selection :not([correct])>.i-amphtml-story-interactive-quiz-answer-choice{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="%23F34E4E"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>\')!important;color:transparent!important}.i-amphtml-story-interactive-quiz-option>*{position:relative!important}.i-amphtml-story-interactive-quiz-option:before{content:""!important;position:absolute!important;left:0px!important;width:100%!important;height:100%!important;border-radius:var(--i-amphtml-interactive-chip-radius)!important;line-height:1.25em!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-quiz-option:focus:before{background:var(--i-amphtml-interactive-theme-shading)!important}.i-amphtml-story-interactive-post-selection:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-quiz-option-selected[correct].i-amphtml-story-interactive-quiz-option:before{animation:option-select-correct 150ms cubic-bezier(0,0,0.2,1) forwards!important}.i-amphtml-story-interactive-post-selection:not(.i-amphtml-story-interactive-has-data) .i-amphtml-story-interactive-quiz-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option:before{animation:option-select-incorrect 150ms cubic-bezier(0,0,0.2,1) forwards!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-option:before{transform:translateX(var(--option-percentage,0%))!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data[dir=rtl] .i-amphtml-story-interactive-quiz-option:before{transform:translateX(calc(var(--option-percentage, 0%)*-1))!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-quiz-option:before{left:-100%!important;width:100%!important;height:100%!important;border-radius:0px!important;background:var(--i-amphtml-interactive-theme-shading)!important;color:var(--i-amphtml-interactive-theme-shading)!important;transition:transform var(--i-amphtml-interactive-animation-time) var(--i-amphtml-interactive-ease-out-curve)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data[dir=rtl] .i-amphtml-story-interactive-quiz-option:before{left:101%!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected[correct].i-amphtml-story-interactive-quiz-option{background:var(--correct-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-post-selection .i-amphtml-story-interactive-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option{background:var(--incorrect-color)!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-option-selected.i-amphtml-story-interactive-quiz-option{border:none!important;box-shadow:var(--i-amphtml-interactive-chip-shadow-inset)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-option-selected[correct].i-amphtml-story-interactive-quiz-option:before{background:var(--correct-color-shaded)!important;color:var(--correct-color-shaded)!important}.i-amphtml-story-interactive-post-selection.i-amphtml-story-interactive-has-data .i-amphtml-story-interactive-option-selected:not([correct]).i-amphtml-story-interactive-quiz-option:before{background:var(--incorrect-color-shaded)!important;color:var(--incorrect-color-shaded)!important}@keyframes option-select-incorrect{0%{border-color:var(--incorrect-color);background:var(--incorrect-color);opacity:0.2;transform:scale(0.1);color:var(--incorrect-color)}50%{opacity:1;color:var(--incorrect-color)}to{border-color:var(--incorrect-color);background:var(--incorrect-color);transform:scale(1);color:#fff}}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option .i-amphtml-story-interactive-quiz-answer-choice{animation:i-amphtml-story-interactive-quiz-answer-choice-landing-animation var(--i-amphtml-interactive-animation-time)!important;animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el1)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(2) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el2)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(3) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el3)!important}.i-amphtml-story-interactive-active:not(.i-amphtml-story-interactive-post-selection) .i-amphtml-story-interactive-option:nth-of-type(4) .i-amphtml-story-interactive-quiz-answer-choice{animation-delay:var(--i-amphtml-interactive-landing-animation-delay-offset-el4)!important}@keyframes i-amphtml-story-interactive-quiz-answer-choice-landing-animation{33%{transform:scale(.8)}}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-quiz.css*/')}buildComponent(){return this.Pf=p(this.element)(Ht),this.svt(this.Pf),this.Pf}svt(t){this.Fmt(t),this.vvt=["71","72","73","74"];const i=this.Pf.querySelector(".i-amphtml-story-interactive-quiz-option-container");this.U.forEach(((t,e)=>i.appendChild(this.hvt(t,e)))),Dt(i,this.element)}hvt(t,i){const e=(t=>p(this.element)(Jt))();e.querySelector(".i-amphtml-story-interactive-quiz-answer-choice").setAttribute("i-amphtml-i18n-text-content",this.vvt[i]),e.Nmt=t.optionIndex;const a=document.createElement("span");a.classList.add("i-amphtml-story-interactive-quiz-option-text"),a.textContent=t.text,e.appendChild(a);const r=document.createElement("span");return r.classList.add("i-amphtml-story-interactive-quiz-percentage-text"),e.appendChild(r),"correct"in t&&e.setAttribute("correct","correct"),e}displayOptionsData(t){if(!t)return;const i=this.Bmt(t);this.getOptionElements().forEach(((e,a)=>{const r=(t[a].selected?"selected":"")+(e.hasAttribute("correct")?" correct":"")+(e.hasAttribute("correct")?"":" incorrect");e.querySelector(".i-amphtml-story-interactive-quiz-answer-choice").setAttribute("aria-hidden",!0);const n=e.querySelector(".i-amphtml-story-interactive-quiz-option-text");n.setAttribute("aria-label",r+" "+n.textContent),e.querySelector(".i-amphtml-story-interactive-quiz-percentage-text").textContent=`${i[a]}%`,b(e,"--option-percentage",`${i[a]}%`)}))}}),t.registerElement("amp-story-interactive-slider",ri),t.registerElement("amp-story-interactive-slider",ri),t.registerElement("amp-story-interactive-slider",ri),t.registerElement("amp-story-interactive-results",Kt),t.registerElement("amp-story-interactive-results-detailed",class extends Kt{constructor(t){super(t),this.uvt={},this.yvt=null,this.fvt=!1}buildCallback(){return super.buildCallback(".i-amphtml-story-interactive-results-detailed{position:relative!important;height:18em!important;width:100%!important}.i-amphtml-story-interactive-results-image{margin:4em auto auto!important;border:0.3em solid var(--interactive-accent-color)!important}.i-amphtml-story-interactive-results-result{border-radius:50%!important;background-position:50%!important;background-size:cover!important;background-color:var(\n    --i-amphtml-interactive-placeholder-background\n  )!important}\n/*# sourceURL=/extensions/amp-story-interactive/0.1/amp-story-interactive-results-detailed.css*/")}buildComponent(){return this.Pf=p(this.element)(ti),this.buildTop(),this.yvt=this.Pf.querySelector(".i-amphtml-story-interactive-results-detailed"),this.fvt="percentage"===Qt(this.U),this.Pf}onInteractiveReactStateUpdate(t){const i=Object.values(t);let e=!1;i.forEach((t=>{(this.fvt&&0===t.type||!this.fvt&&1===t.type)&&(this.uvt[t.interactiveId]||(e=!0,this.gvt(t)),this.bvt(t))})),e&&this.xvt(),super.onInteractiveReactStateUpdate(t)}gvt(t){const i=document.createElement("div");i.classList.add("i-amphtml-story-interactive-results-result"),this.yvt.appendChild(i),this.uvt[t.interactiveId]={element:i,answered:!1}}bvt(t){t.option&&!this.uvt[t.interactiveId].answered&&(t.option.image?g(this.uvt[t.interactiveId].element,{"background-image":"url("+t.option.image+")"}):this.uvt[t.interactiveId].element.textContent=t.option.text,this.uvt[t.interactiveId].answered=!0)}xvt(){for(const t in this.uvt)g(this.uvt[t].element,{"height":"5em","width":"5em"})}})})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
* @license
* Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
* Use of this source code is governed by a BSD-style
* license that can be found in the LICENSE file or at
* https://developers.google.com/open-source/licenses/bsd
*/}});
//# sourceMappingURL=amp-story-interactive-0.1.mjs.map
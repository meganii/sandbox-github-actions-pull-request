;
import{PreactBaseElement as t}from"../bento.mjs";function n(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function e(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}var i,{hasOwnProperty:o,toString:r}=Object.prototype,f=["Webkit","webkit","Moz","moz","ms","O","o"];function c(t,n,e,o,r){const c=function(t,n,e){if(n.startsWith("--"))return n;i||(i=Object.create(null));let o=i[n];if(!o||e){if(o=n,void 0===t[n]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),i=function(t,n){for(let e=0;e<f.length;e++){const i=f[e]+n;if(void 0!==t[i])return i}return""}(t,e);void 0!==t[i]&&(o=i)}e||(i[n]=o)}return o}(t.style,n,r);if(!c)return;const l=o?e+o:e;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return f.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(c),l)}function l(t){return`${t}px`}function a(t,n){for(let e=0;e<n.length;e++)c(t,n[e],null)}import{createElement as u}from"../bento.mjs";import{useCallback as m,useLayoutEffect as s,useRef as b}from"../bento.mjs";import{ContainWrapper as p}from"../bento.mjs";var x=["children","maxFontSize","minFontSize"],h=class extends t{};h.Component=function(t){let{children:i,maxFontSize:o=72,minFontSize:r=6}=t,f=function(t,n){if(null==t)return{};var e,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)e=r[i],n.indexOf(e)>=0||(o[e]=t[e]);return o}(t,x);const h=b(null),d=b(null),j=b(null),v=m((()=>{if(!d.current||!h.current)return;const{clientHeight:t,clientWidth:n}=h.current,e=function(t,n,e,i,o){for(o++;o-i>1;){const r=Math.floor((i+o)/2);c(t,"fontSize",l(r));const f=t.scrollWidth;t.scrollHeight>n||f>e?o=r:i=r}return c(t,"fontSize",l(i)),i}(d.current,t,n,r,o);!function(t,n,e){const i=t.scrollHeight>n,o=1.15*e,r=Math.floor(n/o);i?(function(t,n){for(const e in n)c(t,e,n[e])}(t,{"lineClamp":r,"-webkit-line-clamp":r,"maxHeight":l(o*r)}),a(t,["display"])):(c(t,"display","flex"),a(t,["lineClamp","-webkit-line-clamp","maxHeight"]))}(d.current,t,e)}),[o,r]);return s((()=>{const t=h.current,n=j.current;if(!t||!n)return;const e=((i=t).ownerDocument||i).defaultView;var i;if(!e)return;const o=new e.ResizeObserver((()=>v()));return o.observe(t),o.observe(n),()=>o.disconnect()}),[v]),u(p,function(t){for(var i=1;i<arguments.length;i++){var o=null!=arguments[i]?arguments[i]:{};i%2?e(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(o,n))}))}return t}({size:!0,layout:!0,paint:!0,contentRef:h,contentClassName:"fit-text-content-wrapper-faf5e99"},f),u("div",{ref:d,class:"fit-text-content-faf5e99"},u("div",{ref:j,class:"min-content-height-faf5e99"},i)))},h.props={"children":{passthrough:!0},"minFontSize":{attr:"min-font-size",type:"number",media:!0},"maxFontSize":{attr:"max-font-size",type:"number",media:!0}},h.layoutSizeDefined=!0,h.usesShadowDom=!0,h.shadowCss=".fit-text-content-wrapper-faf5e99{display:-ms-flexbox;display:flex}.fit-text-content-faf5e99,.fit-text-content-wrapper-faf5e99{-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:center;justify-content:center}.fit-text-content-faf5e99{display:-webkit-box;overflow:hidden;line-height:1.15em;text-overflow:ellipsis}.min-content-height-faf5e99{height:-webkit-min-content;height:min-content}";import{defineBentoElement as d}from"../bento.mjs";d("bento-fit-text",h,void 0);
//# sourceMappingURL=bento-fit-text-1.0.mjs.map
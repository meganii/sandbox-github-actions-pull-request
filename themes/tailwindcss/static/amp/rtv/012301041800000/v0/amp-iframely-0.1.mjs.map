{"version":3,"file":"amp-iframely-0.1.mjs","mappings":"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","names":["intersectionDeferreds","intersectionObservers","propertyNameCache","isArray","Array","hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","shouldBeTruthy","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","element","opt_replacedContent","classList","add","WeakMap","optsSupported","vendorPrefixes","self","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","getUserLogger","win","assert","url","params","paramString","opt_addToFront","mainAndFragment","split","mainAndQuery","newUrl","appendEncodedParamStringToUrl","s","k","v","arrayOrSingleItem","i","length","push","key","value","encodeURIComponent","join","serializeQueryString","Set","TAG","AmpIframely","AMP","BaseElement","constructor","super","this","src_","iframe_","widgetId_","base_","url_","key_","options_","isLayoutSupported","layout","isLayoutSizeDefined","buildCallback","getAttribute","parseOptions_","domain","requestedDomain","isValidDomain_","parseAttributes_","preconnectCallback","opt_onLayout","preconnect","createPlaceholderCallback","getLayout","hasAttribute","attributes","src","addParamsToUrl","constructSrc_","loading","placeholder","attr","setAttribute","addAttributesToElement","ownerDocument","createElement","applyFillContent","layoutCallback","property","opt_units","opt_bypassCache","propertyName","style","camelCase","startsWith","create","undefined","titleCase","charAt","toUpperCase","slice","camelCaseToTitleCase","prefixedPropertyName","getVendorJsPropertyName_","getVendorJsPropertyName","styleValue","setProperty","hyphenated","replace","match","toLowerCase","some","prefix","camelCaseToHyphenCase","setStyle","appendChild","unlistener_","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","e","__AMP_REPORT_ERROR","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","source","contentWindow","handleEvent_","loadPromise","data","json","opt_onFailed","JSON","parse","parseJson","tryParseJson","getData","method","height","attemptChangeHeight","catch","media","el","deferred","_intersectionDeferred2","get","inOb","devAssert","observer","ioCallback","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","document","IntersectionObserver","createViewportObserver","entries","seen","target","has","unobserve","resolve","delete","set","getInOb","node","defaultView","observe","promise","Promise","res","rej","reject","measureIntersection","then","box","boundingClientRect","width","Math","round","abs","attemptCollapse","slug","amp","userAssert","o","dataset","props","keys","reduce","acc","includes","unlayoutCallback","_element$parentElemen","parentElement","removeChild","unlisten_","domainName","allowed","re","test","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/core/types/array.js","src/core/dom/layout/intersection.js","src/core/dom/style.js","src/core/types/object/index.js","src/core/assert/dev.js","src/core/dom/layout/index.js","src/core/dom/layout/viewport-observer.js","src/core/dom/event-helper-listen.js","src/utils/log.js","src/url.js","extensions/amp-iframely/0.1/amp-iframely.js","src/core/dom/index.js","src/utils/event-helper.js","src/core/types/object/json.js","src/core/window/index.js","src/core/data-structures/promise.js"]}

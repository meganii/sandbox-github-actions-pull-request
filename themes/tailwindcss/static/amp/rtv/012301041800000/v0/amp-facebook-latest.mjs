;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-facebook",ev:"0.1",l:!0,f:function(t,n){(()=>{var{isArray:n}=Array,{hasOwnProperty:e,toString:o}=Object.prototype;function r(t){const n=Object.create(null);return t&&Object.assign(n,t),n}function i(t,n,e,o,r,i,c,s,u,l,a){return t}function c(t){return JSON.parse(t)}function s(t,n){try{return c(t)}catch(t){return null==n||n(t),null}}function u(t){const n=parseFloat(t);return"number"==typeof(e=n)&&isFinite(e)?n:void 0;var e}var l=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function a(t,n=""){try{return decodeURIComponent(t)}catch(t){return n}}function f(t){const n=r();if(!t)return n;let e;for(;e=l.exec(t);){const t=a(e[1],e[1]),o=e[2]?a(e[2].replace(/\+/g," "),e[2]):"";n[t]=o}return n}function d(t){const{location:n}=t||self;return f(n.originalHash||n.hash)}var m="";function h(t){const n=t||self;return n.__AMP_MODE?n.__AMP_MODE:n.__AMP_MODE=function(t){return{localDev:!1,development:p(t,d(t)),esm:!0,test:!1,rtvVersion:v(t),ssrReady:!1}}(n)}function v(t){var n;return m||(m=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"012301041800000"),m}function p(t,n){const e=n||d(t);return["1","actions","amp","amp4ads","amp4email"].includes(e.development)||!!t.AMP_DEV_MODE}function b(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:e,stack:o}=t,r=new Error(e);for(const n in t)r[n]=t[n];return r.stack=o,r}function g(t){let n=null,e="";for(const t of arguments)t instanceof Error&&!n?n=b(t):(e&&(e+=" "),e+=t);return n?e&&(n.message=e+": "+n.message):n=new Error(e),n}function w(t){var n,e;null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t)}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var y=self.__AMP_LOG;function O(t){return y.user||(y.user=j()),function(t,n){return n&&n.ownerDocument.defaultView!=t}(y.user.win,t)?y.userForEmbed||(y.userForEmbed=j()):y.user}function j(t){return function(t,n){throw new Error("failed to call initLogConstructor")}()}function k(t,n,e,o,r,i,c,s,u,l,a){return t}function E(t,n,e,o,r,i,c,s,u,l,a){return O().assert(t,n,e,o,r,i,c,s,u,l,a)}function S(t,n){return A(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function x(t,n){return A(function(t){const n=$(t);return n.isSingleDoc()?n.win:n}($(t)),n)}function $(t){return t.nodeType?(e=t,n=(e.ownerDocument||e).defaultView,S(n,"ampdoc")).getAmpDoc(t):t;var n,e}function A(t,n){k(function(t,n){const e=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!e||!e.ctor)}(t,n));const e=function(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return e.obj||(k(e.ctor),k(e.context),e.obj=new e.ctor(e.context),k(e.obj),e.context=null,e.resolve&&e.resolve(e.obj)),e.obj}var F,M;function C(t){return t.data}function V(t){return function(t,n){if(i(1===n.length),i(Array.isArray(n)||(o=n,e.call(o,"raw"))),self.trustedTypes&&self.trustedTypes.createPolicy){const e=self.trustedTypes.createPolicy("static-template#createNode",{createHTML:function(t){return n[0]}});t.innerHTML=e.createHTML("ignored")}else t.innerHTML=n[0];var o;const r=t.firstElementChild;return i(r),i(!r.nextElementSibling),t.removeChild(r),r}(M,t)}var _,I=['<svg viewBox="0 0 72 72"><path fill=currentColor d="M46,36c0-5.5-4.5-10-10-10s-10,4.5-10,10c0,5,3.7,9.1,8.4,9.9v-7h-2.5V36h2.5v-2.2c0-2.5,1.5-3.9,3.8-3.9\n                c1.1,0,2.2,0.2,2.2,0.2v2.5h-1.3c-1.2,0-1.6,0.8-1.6,1.6V36h2.8l-0.4,2.9h-2.3v7C42.3,45.1,46,41,46,36z"></path><path fill=#ffffff class=i-amphtml-new-loader-transparent-on-shim d="M39.9,38.9l0.4-2.9h-2.8v-1.9c0-0.8,0.4-1.6,1.6-1.6h1.3v-2.5c0,0-1.1-0.2-2.2-0.2c-2.3,0-3.8,1.4-3.8,3.9V36\n                h-2.5v2.9h2.5v7c0.5,0.1,1,0.1,1.6,0.1s1.1,0,1.6-0.1v-7H39.9z"></path></svg>'],L=["Webkit","webkit","Moz","moz","ms","O","o"];var N=class{static generate(t){return function(t){const{length:n}=t;let e=5381;for(let o=0;o<n;o++)e=33*e^t.charCodeAt(o);return String(e>>>0)}(function(t){const n=[];let e=0;for(;1==(null==(o=t)?void 0:o.nodeType)&&e<25;){let o="";t.id&&(o=`/${t.id}`);const r=t.nodeName.toLowerCase();n.push(`${r}${o}${T(t)}`),e++,t=t.parentElement}var o;return n.join()}(t))}};function T(t){const{nodeName:n}=t;let e=0,o=0,r=t.previousElementSibling;for(;r&&o<25&&e<100;)r.nodeName==n&&o++,e++,r=r.previousElementSibling;return o<25&&e<100?`.${o}`:""}function P(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function R(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,o)}return e}function U(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?R(Object(e),!0).forEach((function(n){P(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):R(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}var z="__AMP__EXPERIMENT_TOGGLES";function G(t){var e,o,s,u,l;if(t[z])return t[z];t[z]=r();const a=t[z];i(a);const d=U(U({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(o=t.AMP_EXP)&&void 0!==o?o:c((null===(s=t.__AMP_EXP)||void 0===s?void 0:s.textContent)||"{}"));for(const t in d){const n=d[t];"number"==typeof n&&n>=0&&n<=1&&(a[t]=Math.random()<n)}const m=null===(u=t.AMP_CONFIG)||void 0===u?void 0:u["allow-doc-opt-in"];if(n(m)&&m.length){const n=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(n){var h;const t=(null===(h=n.getAttribute("content"))||void 0===h?void 0:h.split(","))||[];for(const n of t)m.includes(n)&&(a[n]=!0)}}Object.assign(a,function(t){var n;let e="";try{var o;"localStorage"in t&&(e=null!==(o=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==o?o:"")}catch(t){}const i=(null===(n=e)||void 0===n?void 0:n.split(/\s*,\s*/g))||[],c=r();for(const t of i)t&&("-"==t[0]?c[t.substr(1)]=!1:c[t]=!0);return c}(t));const v=null===(l=t.AMP_CONFIG)||void 0===l?void 0:l["allow-url-opt-in"];if(n(v)&&v.length){const n=f(t.location.originalHash||t.location.hash);for(const t of v){const e=n[`e-${t}`];"1"==e&&(a[t]=!0),"0"==e&&(a[t]=!1)}}return a}var D,H=(()=>self.AMP.config.urls)();function J(t,n){return D||(D=self.document.createElement("a")),function(t,n,e){return t.href="",new URL(n,t.href)}(D,t)}new Set(["c","v","a","ad"]);var W=(()=>self.AMP.config.urls)(),q={};function B(t,n,e,o){const r=e||n.getAttribute("type");E(r,"Attribute type required for <amp-ad>: %s",n);const i=function(t){let n=0;for(let e=t;e&&e!=e.parent;e=e.parent)n++;return String(n)+"-"+Z(t)}(t);let c={};return function(t,n){const{dataset:e}=t;for(const t in e)t.startsWith("vars")||(n[t]=e[t]);const o=t.getAttribute("json");if(o){const e=s(o);if(void 0===e)throw O().createError("Error parsing JSON in json attribute in element %s",t);for(const t in e)n[t]=e[t]}}(n,c),c=function(t,n,e,o){const r=Date.now(),i=n.getAttribute("width"),c=n.getAttribute("height");(o=o||{}).width=u(i),o.height=u(c),n.getAttribute("title")&&(o.title=n.getAttribute("title"));let s=t.location.href;"about:srcdoc"==s&&(s=t.parent.location.href);const l=$(n),a=x(n,"documentInfo").get(),f=(m=n,x(m,"viewer")).getUnconfirmedReferrerUrl(),d=function(t){const n=t.ownerDocument.body;let e=0,o=0;for(let r=t;r&&r!=n;r=r.offsetParent)e+=r.offsetLeft,o+=r.offsetTop;const{offsetHeight:r,offsetWidth:i}=t;return function(t,n,e,o){return{left:t,top:n,width:e,height:o,bottom:n+o,right:t+e,x:t,y:n}}(e,o,i,r)}(n);var m,v,p,b;o._context={"ampcontextVersion":"2301041800000","ampcontextFilepath":`${H.thirdParty}/2301041800000/ampcontext-v0.js`,"sourceUrl":a.sourceUrl,"referrer":f,"canonicalUrl":a.canonicalUrl,"pageViewId":a.pageViewId,"location":{"href":s},"startTime":r,"tagName":n.tagName,"mode":{localDev:!1,development:!1,esm:h(b).esm,test:!1,rtvVersion:h(b).rtvVersion},"canary":(v=t,!(null===(p=v.AMP_CONFIG)||void 0===p||!p.canary)),"hidden":!l.isVisible(),"initialLayoutRect":d?{"left":d.left,"top":d.top,"width":d.width,"height":d.height}:null,"domFingerprint":N.generate(n),"experimentToggles":G(t),"sentinel":e};const g=n.getAttribute("src");return g&&(o.src=g),o}(t,n,i,c),c.type=r,Object.assign(c._context,o),c}function K(t){return`${W.thirdParty}/2301041800000/vendor/${t}.mjs`}function X(t,n,e){return function(t,n,e){const o=n.getMetaByName("amp-3p-iframe-src");if(!o)return null;const r=function(t,n,e="source"){return E(null!=t,"%s %s must be available",n,e),E(function(t){return"https:"==(t=(t=>"string"==typeof t?J(t):t)(t)).protocol||"localhost"==t.hostname||"127.0.0.1"==t.hostname||function(t,n){const e=t.length-n.length;return e>=0&&t.indexOf(n,e)==e}(t.hostname,".localhost")}(t)||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',n,e,t),t}(o,'meta[name="amp-3p-iframe-src"]');E(-1==r.indexOf("?"),"3p iframe url must not include query string %s in element %s.",r,o);const i=J(r);return E("localhost"==i.hostname&&!e||i.origin!=J(t.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.",r,i.origin,o),`${r}?2301041800000`}(t,n,e)||function(t,n){return t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+Z(t),"https://"+t.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+`.${W.thirdPartyFrameHost}/2301041800000/frame.html`}(t)}function Z(t){let n;if(t.crypto&&t.crypto.getRandomValues){const e=new Uint32Array(2);t.crypto.getRandomValues(e),n=String(e[0])+e[1]}else n=String(t.Math.random()).substr(2)+"0";return n}function Q(t){return"string"==typeof t&&t.startsWith("amp-")&&-1!=t.indexOf("{")}var Y="unlisten";function tt(t,n,e){const o=function(t,n){let{listeningFors:e}=t;return!e&&n&&(e=t.listeningFors=Object.create(null)),e||null}(t,e);if(!o)return o;let r=o[n];return!r&&e&&(r=o[n]=[]),r||null}function nt(t,n){for(let e=n;e&&e!=e.parent;e=e.parent)if(e==t)return!0;return!1}function et(t){const n={"sentinel":Y};for(let e=t.length-1;e>=0;e--){const o=t[e];if(!o.frame.contentWindow){t.splice(e,1);const{events:r}=o;for(const t in r)r[t].splice(0,1/0).forEach((t=>{t(n)}))}}}var ot=class extends t.BaseElement{static createLoaderLogoCallback(t){return function(t){return{color:"#1877F2",content:function(t){const n=t.ownerDocument||t;return M&&M.ownerDocument===n||(M=n.createElement("div")),V}(t)(I)}}(t)}constructor(t){super(t),this.Lv=null,this.fj=t.hasAttribute("data-locale")?t.getAttribute("data-locale"):window.navigator.language.replace("-","_"),this.dw=null,this.wj=0}renderOutsideViewport(){return.75}preconnectCallback(t){const n=S(this.win,"preconnect");n.url(this.getAmpDoc(),"https://facebook.com",t),n.preload(this.getAmpDoc(),"https://connect.facebook.net/"+this.fj+"/sdk.js","script"),function(t,n,e,o){const r=X(t,e);o.preload(e,r,"document"),o.preload(e,K("facebook"),"script")}(this.win,0,this.getAmpDoc(),n)}isLayoutSupported(t){return function(t){return"fixed"==t||"fixed-height"==t||"responsive"==t||"fill"==t||"flex-item"==t||"fluid"==t||"intrinsic"==t}(t)}layoutCallback(){const t=this.element.getAttribute("data-embed-as");if("comment"===t)return void this.user().warn("AMP-FACEBOOK","Embedded Comments have been deprecated: https://developers.facebook.com/docs/plugins/embedded-comments");E(!t||-1!==["post","video"].indexOf(t),'Attribute data-embed-as for <amp-facebook> value is wrong, should be "post" or "video" but was: %s',t);const n=function(t,n,e,o,i={}){const{allowFullscreen:c=!1,initialIntersection:s}=i;k(void 0===n.isConnected||!0===n.isConnected);const u=B(t,n,e,o);s&&(u._context.initialIntersection=s);const l=t.document.createElement("iframe");q[u.type]||(q[u.type]=0),q[u.type]+=1;const a=X(t,n.getAmpDoc()),f=J(a).hostname,d=JSON.stringify({"host":f,"bootstrap":K(u.type),"type":u.type,"count":q[u.type],"attributes":u});return l.src=a,l.ampLocation=J(a),l.name=d,u.width&&(l.width=u.width),u.height&&(l.height=u.height),u.title&&(l.title=u.title),c&&l.setAttribute("allowfullscreen","true"),l.setAttribute("scrolling","no"),function(t,n,e,o,i){const c=function(t,n,e){if(n.startsWith("--"))return n;_||(_=r());let o=_[n];if(!o||e){if(o=n,void 0===t[n]){const e=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),r=function(t,n){for(let e=0;e<L.length;e++){const o=L[e]+n;if(void 0!==t[o])return o}return""}(t,e);void 0!==t[r]&&(o=r)}e||(_[n]=o)}return o}(t.style,n,i);if(!c)return;const s=o?e+o:e;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return L.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(c),s)}(l,"border","none"),l.onload=function(){this.readyState="complete"},l.setAttribute("allow","sync-xhr 'none';"),["facebook"].includes(e)||function(t){if(!t.sandbox||!t.sandbox.supports)return;const n=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"];for(let e=0;e<n.length;e++){const o=n[e];if(!t.sandbox.supports(o))return}t.sandbox=n.join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" ")}(l),l.setAttribute("data-amp-3p-sentinel",u._context.sentinel),l}(this.win,this.element,"facebook");return n.title=this.element.title||"Facebook",n.classList.add("i-amphtml-fill-content"),this.element.hasAttribute("data-allowfullscreen")&&n.setAttribute("allowfullscreen","true"),function(t,n,e,o,r,c){k(t.src),k(!t.parentNode),k(e);const u=t.ownerDocument.defaultView;!function(t){t.listeningFors||t.addEventListener("message",(function(n){if(!C(n))return;const e=function(t){return"string"==typeof t&&(t="{"==t.charAt(0)?s(t,(t=>{}))||null:Q(t)?function(t){if(!Q(t))return null;const n=t.indexOf("{");return i(-1!=n),s(t.substr(n),(n=>{!function(t){const n=g.apply(null,arguments);setTimeout((()=>{throw w(n),n}))}(new Error(`MESSAGING: Failed to parse message: ${t}\n${n.message}`))}))}(t):null),t}(C(n));if(!e||!e.sentinel)return;const o=function(t,n,e,o){const r=tt(t,n);if(!r)return r;let i;for(let t=0;t<r.length;t++){const n=r[t],{contentWindow:e}=n.frame;if(e){if(o==e||nt(e,o)){i=n;break}}else setTimeout(et,0,r)}return i?i.events:null}(t,e.sentinel,n.origin,n.source);if(!o)return;let r=o[e.type];if(r){r=r.slice();for(let t=0;t<r.length;t++)(0,r[t])(e,n.source,n.origin,n)}}))}(u);const l=function(t,n,e){const o=function(t,n){return t.getAttribute("data-amp-3p-sentinel")}(n),r=tt(t,o,!0);let i;for(let t=0;t<r.length;t++){const e=r[t];if(e.frame===n){i=e;break}}return i||(i={frame:n,events:Object.create(null)},r.push(i)),i.events}(u,t),a=J(t.src).origin;let f,d=l["embed-size"]||(l["embed-size"]=[]),m=function(n,o,r,i){if("amp"==n.sentinel){if(o!=t.contentWindow)return;const n="null"==r&&undefined;if(a!=r&&!n)return}o==t.contentWindow&&(n.sentinel!=Y?e(n,o,r,i):f())};d.push(m),f=function(){if(m){const t=d.indexOf(m);t>-1&&d.splice(t,1),m=null,d=null,e=null}}}(n,0,(t=>{this.forceChangeHeight(t.height)})),this.dw=(e=this.win,o=this.mj.bind(this),function(t,n,e,o){let r=t,i=e,c=t=>{try{return i(t)}catch(t){var n,e;throw null===(n=(e=self).__AMP_REPORT_ERROR)||void 0===n||n.call(e,t),t}};const s=function(){if(void 0!==F)return F;F=!1;try{const t={get capture(){return F=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return F}();return r.addEventListener(n,c,!!s&&o),()=>{null==r||r.removeEventListener(n,c,!!s&&o),i=null,r=null,c=null}}(e,"message",o,void 0)),this.toggleLoading(!0),this.element.appendChild(n),this.Lv=n,this.loadPromise(n);var e,o}mj(t){if(this.Lv&&t.source!=this.Lv.contentWindow)return;const n=C(t);var e;n&&(e=n,("[object Object]"===o.call(e)?n:s(n))&&"ready"==n.action&&this.toggleLoading(!1))}unlayoutOnPause(){return!0}unlayoutCallback(){var t,n;return this.Lv&&(null===(n=(t=this.Lv).parentElement)||void 0===n||n.removeChild(t),this.Lv=null),this.dw&&this.dw(),!0}};t.registerElement("amp-facebook",ot)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-facebook-0.1.mjs.map
;
(self.AMP=self.AMP||[]).push({m:1,v:"2301041800000",n:"amp-subscriptions-google",ev:"0.1",l:!0,f:function(t,e){(()=>{var e,n;function s(){return e||(e=Promise.resolve(void 0))}var i,o,r,a,l=(i={"src/core/data-structures/promise.js"(){n=class{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}}},function(){return i&&(o=(0,i[Object.keys(i)[0]])(i=0)),o}),h=(r={"node_modules/web-activities/activity-ports.js"(t,e){l(),l();var n,i={IFRAME:"iframe",POPUP:"popup",REDIRECT:"redirect"},o={OK:"ok",CANCELED:"canceled",FAILED:"failed"},r=class{constructor(t,e,n,s,i,r){this.code=t,this.data=t==o.OK?e:null,this.mode=n,this.origin=s,this.originVerified=i,this.secureChannel=r,this.ok=t==o.OK,this.error=t==o.FAILED?new Error(String(e)||""):null}},a="AbortError";function h(t){return function(t){if(t.origin)return t.origin;const e=t.protocol;let n=t.host;return"https:"==e&&n.indexOf(":443")==n.length-4?n=n.replace(":443",""):"http:"==e&&n.indexOf(":80")==n.length-3&&(n=n.replace(":80","")),e+"//"+n}(function(t){return n||(n=document.createElement("a")),n.href=t,n}(t))}function u(t,e){const n="AbortError"+(e?": "+e:"");let s=null;if("function"==typeof t.DOMException){const e=t.DOMException;try{s=new e(n,a)}catch(t){}}return s||(s=new Error(n),s.name=a,s.code=20),s}function c(t,e,n){if(e.ok)n(e);else{const s=e.error||u(t);s.activityResult=e,n(Promise.reject(s))}}function g(t){const e=t.navigator;return/Trident|MSIE|IEMobile/i.test(e&&e.userAgent)}function p(t){const e=t.navigator;return/Edge/i.test(e&&e.userAgent)}var d="__ACTIVITIES__",m=class{constructor(t,e,n,s){this.win_=t,this.targetOrCallback_=e,this.targetOrigin_=n,this.requireTarget_=s,this.target_=null,this.acceptsChannel_=!1,this.port_=null,this.onCommand_=null,this.onCustomMessage_=null,this.channels_=null,this.boundHandleEvent_=this.handleEvent_.bind(this)}connect(t){if(this.onCommand_)throw new Error("already connected");this.onCommand_=t,this.win_.addEventListener("message",this.boundHandleEvent_)}disconnect(){if(this.onCommand_&&(this.onCommand_=null,this.port_&&(f(this.port_),this.port_=null),this.win_.removeEventListener("message",this.boundHandleEvent_),this.channels_)){for(const t in this.channels_){const e=this.channels_[t];e.port1&&f(e.port1),e.port2&&f(e.port2)}this.channels_=null}}isConnected(){return null!=this.targetOrigin_}getTarget(){const t=this.getOptionalTarget_();if(!t)throw new Error("not connected");return t}getOptionalTarget_(){return this.onCommand_&&!this.target_&&("function"==typeof this.targetOrCallback_?this.target_=this.targetOrCallback_():this.target_=this.targetOrCallback_),this.target_}getTargetOrigin(){if(null==this.targetOrigin_)throw new Error("not connected");return this.targetOrigin_}sendConnectCommand(){const t=g(this.win_)||p(this.win_);this.sendCommand("connect",{"acceptsChannel":t})}sendStartCommand(t){let e=null;this.acceptsChannel_&&"function"==typeof this.win_.MessageChannel&&(e=new this.win_.MessageChannel),e?(this.sendCommand("start",t,[e.port2]),this.switchToChannel_(e.port1)):this.sendCommand("start",t)}sendCommand(t,e,n){const s={"sentinel":d,"cmd":t,"payload":e||null};if(this.port_)this.port_.postMessage(s,n||void 0);else{const e=this.getTarget(),i="connect"==t?null!=this.targetOrigin_?this.targetOrigin_:"*":this.getTargetOrigin();e.postMessage(s,i,n||void 0)}}customMessage(t){this.sendCommand("msg",t)}onCustomMessage(t){this.onCustomMessage_=t}startChannel(t){const e=t||"",n=this.getChannelObj_(e);if(!n.port1){const t=new this.win_.MessageChannel;n.port1=t.port1,n.port2=t.port2,n.resolver(n.port1)}return n.port2&&(this.sendCommand("cnset",{"name":e},[n.port2]),n.port2=null),n.promise}askChannel(t){const e=t||"",n=this.getChannelObj_(e);return n.port1||this.sendCommand("cnget",{"name":e}),n.promise}receiveChannel_(t,e){const n=this.getChannelObj_(t);n.port1=e,n.resolver(e)}getChannelObj_(t){this.channels_||(this.channels_={});let e=this.channels_[t];if(!e){let n;const s=new Promise((t=>{n=t}));e={port1:null,port2:null,resolver:n,promise:s},this.channels_[t]=e}return e}switchToChannel_(t){this.port_&&f(this.port_),this.port_=t,this.port_.onmessage=t=>{const e=t.data,n=e&&e.cmd,s=e&&e.payload||null;n&&this.handleCommand_(n,s,t)}}handleEvent_(t){if(this.requireTarget_&&this.getOptionalTarget_()!=t.source)return;const e=t.data;if(!e||e.sentinel!=d)return;const n=e.cmd;if(this.port_&&"connect"!=n&&"start"!=n)return;const s=t.origin,i=e.payload||null;null==this.targetOrigin_&&"start"==n&&(this.targetOrigin_=s),null==this.targetOrigin_&&t.source&&this.getOptionalTarget_()==t.source&&(this.targetOrigin_=s),s==this.targetOrigin_&&this.handleCommand_(n,i,t)}handleCommand_(t,e,n){if("connect"==t)this.port_&&(f(this.port_),this.port_=null),this.acceptsChannel_=e&&e.acceptsChannel||!1,this.onCommand_(t,e);else if("start"==t){const s=n.ports&&n.ports[0];s&&this.switchToChannel_(s),this.onCommand_(t,e)}else if("msg"==t)null!=this.onCustomMessage_&&null!=e&&this.onCustomMessage_(e);else if("cnget"==t){const t=e.name;this.startChannel(t)}else if("cnset"==t){const t=e.name,s=n.ports[0];this.receiveChannel_(t,s)}else this.onCommand_(t,e)}};function f(t){try{t.close()}catch(t){}}var b=class{constructor(t,e,n){this.iframe_=t,this.url_=e,this.args_=n||null,this.win_=this.iframe_.ownerDocument.defaultView,this.targetOrigin_=h(e),this.connected_=!1,this.connectedResolver_=null,this.connectedPromise_=new Promise((t=>{this.connectedResolver_=t})),this.readyResolver_=null,this.readyPromise_=new Promise((t=>{this.readyResolver_=t})),this.resultResolver_=null,this.resultPromise_=new Promise((t=>{this.resultResolver_=t})),this.onResizeRequest_=null,this.requestedHeight_=null,this.messenger_=new m(this.win_,(()=>this.iframe_.contentWindow),this.targetOrigin_,!0)}getMode(){return i.IFRAME}connect(){if(!function(t){if("isConnected"in t)return t.isConnected;const e=t.ownerDocument&&t.ownerDocument.documentElement;return e&&e.contains(t)||!1}(this.iframe_))throw new Error("iframe must be in DOM");return this.messenger_.connect(this.handleCommand_.bind(this)),this.iframe_.src=this.url_,this.connectedPromise_}disconnect(){this.connected_=!1,this.messenger_.disconnect()}acceptResult(){return this.resultPromise_}getTargetWin(){return this.iframe_.contentWindow||null}message(t){this.messenger_.customMessage(t)}onMessage(t){this.messenger_.onCustomMessage(t)}messageChannel(t){return this.messenger_.askChannel(t)}whenReady(){return this.readyPromise_}onResizeRequest(t){this.onResizeRequest_=t,s().then((()=>{null!=this.requestedHeight_&&t(this.requestedHeight_)}))}resized(){if(!this.connected_)return;const t=this.iframe_.offsetHeight;this.messenger_.sendCommand("resized",{"height":t})}handleCommand_(t,e){if("connect"==t)this.connected_=!0,this.messenger_.sendStartCommand(this.args_),this.connectedResolver_();else if("result"==t){if(this.resultResolver_){const t=e.code,n=t==o.FAILED?new Error(e.data||""):e.data,s=new r(t,n,i.IFRAME,this.messenger_.getTargetOrigin(),!0,!0);c(this.win_,s,this.resultResolver_),this.resultResolver_=null,this.messenger_.sendCommand("close"),this.disconnect()}}else"ready"==t?this.readyResolver_&&(this.readyResolver_(),this.readyResolver_=null):"resize"==t&&(this.requestedHeight_=e.height,this.onResizeRequest_&&this.onResizeRequest_(this.requestedHeight_))}},w=class{constructor(t,e,n,s,i,o){if(!s||"_blank"!=s&&"_top"!=s&&"_"==s[0])throw new Error('The only allowed targets are "_blank", "_top" and name targets');this.win_=t,this.requestId_=e,this.url_=n,this.openTarget_=s,this.args_=i||null,this.options_=o||{},this.connectedResolver_=null,this.connectedPromise_=new Promise((t=>{this.connectedResolver_=t})),this.resultResolver_=null,this.resultPromise_=new Promise((t=>{this.resultResolver_=t})),this.targetWin_=null,this.heartbeatInterval_=null,this.messenger_=null}getMode(){return"_top"==this.openTarget_?i.REDIRECT:i.POPUP}open(){return this.openInternal_()}whenConnected(){return this.connectedPromise_}disconnect(){if(this.heartbeatInterval_&&(this.win_.clearInterval(this.heartbeatInterval_),this.heartbeatInterval_=null),this.messenger_&&(this.messenger_.disconnect(),this.messenger_=null),this.targetWin_){try{this.targetWin_.close()}catch(t){}this.targetWin_=null}this.resultResolver_=null}getTargetWin(){return this.targetWin_}acceptResult(){return this.resultPromise_}message(t){this.messenger_.customMessage(t)}onMessage(t){this.messenger_.onCustomMessage(t)}messageChannel(t){return this.messenger_.askChannel(t)}openInternal_(){const t=this.buildFeatures_();let e,n=this.url_;if(!this.options_.skipRequestInUrl){const t=this.options_.returnUrl||function(t){const e=t.indexOf("#");return-1==e?t:t.substring(0,e)}(this.win_.location.href);n=function(t,e,n){return t+(-1==t.indexOf("#")?"#":"&")+encodeURIComponent("__WA__")+"="+encodeURIComponent(n)}(n,0,function(t){const e={"requestId":t.requestId,"returnUrl":t.returnUrl,"args":t.args};return void 0!==t.origin&&(e.origin=t.origin),void 0!==t.originVerified&&(e.originVerified=t.originVerified),JSON.stringify(e)}({requestId:this.requestId_,returnUrl:t,args:this.args_}))}let s=this.openTarget_;"_top"!=s&&g(this.win_)&&(s="_top");try{e=this.win_.open(n,s,t)}catch(t){}if(!e&&"_top"!=s&&!this.options_.disableRedirectFallback){s="_top";try{e=this.win_.open(n,s)}catch(t){}}return e?(this.targetWin_=e,"_top"!=s&&this.setupPopup_()):this.disconnectWithError_(new Error("failed to open window")),this.resultPromise_.catch((()=>{}))}buildFeatures_(){const t=this.win_.screen,e=t.availWidth||t.width,n=t.availHeight||t.height,s=this.isTopWindow_(),i=p(this.win_),o=s&&this.win_.outerWidth>this.win_.innerWidth?Math.min(100,this.win_.outerWidth-this.win_.innerWidth):i?100:0,r=s&&this.win_.outerHeight>this.win_.innerHeight?Math.min(100,this.win_.outerHeight-this.win_.innerHeight):i?100:0,a=Math.max(e-o,.5*e),l=Math.max(n-r,.5*n);let h=Math.floor(Math.min(600,.9*a)),u=Math.floor(Math.min(600,.9*l));this.options_.width&&(h=Math.min(this.options_.width,a)),this.options_.height&&(u=Math.min(this.options_.height,l));const c=Math.floor((t.width-h)/2),g=Math.floor((t.height-u)/2),d={"height":u,"width":h,"resizable":"yes","scrollbars":"yes"};i||(d.left=c,d.top=g);let m="";for(const t in d)m&&(m+=","),m+=`${t}=${d[t]}`;return m}isTopWindow_(){return this.win_==this.win_.top}setupPopup_(){this.heartbeatInterval_=this.win_.setInterval((()=>{this.check_(!0)}),500),this.messenger_=new m(this.win_,this.targetWin_,null,!0),this.messenger_.connect(this.handleCommand_.bind(this))}check_(t){this.targetWin_&&!this.targetWin_.closed||(this.heartbeatInterval_&&(this.win_.clearInterval(this.heartbeatInterval_),this.heartbeatInterval_=null),this.win_.setTimeout((()=>{try{this.result_(o.CANCELED,null)}catch(t){this.disconnectWithError_(t)}}),t?3e3:0))}disconnectWithError_(t){this.resultResolver_&&this.resultResolver_(Promise.reject(t)),this.disconnect()}result_(t,e){if(this.resultResolver_){const n=this.messenger_.isConnected(),s=new r(t,e,i.POPUP,n?this.messenger_.getTargetOrigin():h(this.url_),n,n);c(this.win_,s,this.resultResolver_),this.resultResolver_=null}this.messenger_&&this.messenger_.sendCommand("close"),this.disconnect()}handleCommand_(t,e){if("connect"==t)this.messenger_.sendStartCommand(this.args_),this.connectedResolver_();else if("result"==t){const t=e.code,n=t==o.FAILED?new Error(e.data||""):e.data;this.result_(t,n)}else"check"==t&&this.win_.setTimeout((()=>this.check_()),200)}};var v=class{constructor(t,e,n,s,i){this.win_=t,this.code_=e,this.data_=n,this.targetOrigin_=s,this.targetOriginVerified_=i}getMode(){return i.REDIRECT}acceptResult(){const t=new r(this.code_,this.data_,i.REDIRECT,this.targetOrigin_,this.targetOriginVerified_,!1);return new Promise((e=>{c(this.win_,t,e)}))}};e.exports={ActivityPorts:class{constructor(t){this.version="1.24",this.win_=t,this.fragment_=t.location.hash,this.requestHandlers_={},this.resultBuffer_={},this.redirectErrorResolver_=null,this.redirectErrorPromise_=new Promise((t=>{this.redirectErrorResolver_=t}))}openIframe(t,e,n){const s=new b(t,e,n);return s.connect().then((()=>s))}open(t,e,n,s,i){return{targetWin:this.openWin_(t,e,n,s,i).getTargetWin()}}openWithMessaging(t,e,n,s,i){const o=this.openWin_(t,e,n,s,i);return o.whenConnected().then((()=>o))}onResult(t,e){let n=this.requestHandlers_[t];n||(n=[],this.requestHandlers_[t]=n),n.push(e);const s=this.discoverResult_(t);s&&this.consumeResult_(s,e)}onRedirectError(t){this.redirectErrorPromise_.then(t)}openWin_(t,e,n,s,i){const o=new w(this.win_,t,e,n,s,i);return o.open().then((()=>{this.consumeResultAll_(t,o)})),o}discoverResult_(t){let e=this.resultBuffer_[t];if(!e&&this.fragment_){try{e=function(t,e,n){const s=(i=e,i?(/^[?#]/.test(i)?i.slice(1):i).split("&").reduce(((t,e)=>{const n=e.split("="),s=decodeURIComponent(n[0]||""),i=decodeURIComponent(n[1]||"");return s&&(t[s]=i),t}),{}):{}).__WA_RES__;var i;if(!s)return null;const o=JSON.parse(s);if(!o||o.requestId!=n)return null;const r=function(t,e){if(!t)return t;const n=encodeURIComponent("__WA_RES__")+"=";let s=-1;do{if(s=t.indexOf(n,s),-1!=s){const e=s>0?t.substring(s-1,s):"";if(""==e||"?"==e||"#"==e||"&"==e){let e=t.indexOf("&",s+1);-1==e&&(e=t.length),t=t.substring(0,s)+t.substring(e+1)}else s++}}while(-1!=s&&s<t.length);return t}(t.location.hash)||"";if(r!=t.location.hash&&t.history&&t.history.replaceState)try{t.history.replaceState(t.history.state,"",r)}catch(t){}const a=o.code,l=o.data,u=o.origin,c=t.document.referrer&&h(t.document.referrer);return new v(t,a,l,u,u==c)}(this.win_,this.fragment_,t)}catch(t){!function(t){setTimeout((()=>{throw t}))}(t),this.redirectErrorResolver_(t)}e&&(this.resultBuffer_[t]=e)}return e}consumeResult_(t,e){s().then((()=>{e(t)}))}consumeResultAll_(t,e){const n=this.requestHandlers_[t];n&&n.forEach((t=>{this.consumeResult_(e,t)})),this.resultBuffer_[t]=e}},ActivityIframePort:b,ActivityMessagingPort:class{getTargetWin(){}message(t){}onMessage(t){}messageChannel(t){}},ActivityMode:i,ActivityOpenOptions:void 0,ActivityPort:class{getMode(){}acceptResult(){}},ActivityRequest:void 0,ActivityResult:r,ActivityResultCode:o,ActivityWindowPort:w,createAbortError:u,isAbortError:function(t){return!(!t||"object"!=typeof t)&&t.name===a}}}},function(){return a||(0,r[Object.keys(r)[0]])((a={exports:{}}).exports,a),a.exports});l();var{hasOwnProperty:u,toString:c}=Object.prototype;function g(t){const e=Object.create(null);return t&&Object.assign(e,t),e}function p(t,e){return u.call(t,e)}function d(t,e){if("."==e)return t;const n=e.split(".");let s=t;for(const t of n){if(!(t&&s&&void 0!==s[t]&&"object"==typeof s&&p(s,t))){s=void 0;break}s=s[t]}return s}var m=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function f(t,e=""){try{return decodeURIComponent(t)}catch(t){return e}}function b(t){const e=g();if(!t)return e;let n;for(;n=m.exec(t);){const t=f(n[1],n[1]),s=n[2]?f(n[2].replace(/\+/g," "),n[2]):"";e[t]=s}return e}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var{isArray:y}=Array;self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var A=self.__AMP_LOG;function I(t){return A.user||(A.user=k()),function(t,e){return e&&e.ownerDocument.defaultView!=t}(A.user.win,t)?A.userForEmbed||(A.userForEmbed=k()):A.user}function k(t){return function(t,e){throw new Error("failed to call initLogConstructor")}()}function C(t,e,n,s,i,o,r,a,l,h,u){return t}function E(t,e,n,s,i,o,r,a,l,h,u){return I().assert(t,e,n,s,i,o,r,a,l,h,u)}function N(t,e){return L(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),e)}function T(t,e){return L(_(S(t)),e)}function P(t,e){return R(_(t),e)}function S(t){return t.nodeType?(n=t,e=(n.ownerDocument||n).defaultView,N(e,"ampdoc")).getAmpDoc(t):t;var e,n}function _(t){const e=S(t);return e.isSingleDoc()?e.win:e}function L(t,e){C(M(t,e));const n=O(t)[e];return n.obj||(C(n.ctor),C(n.context),n.obj=new n.ctor(n.context),C(n.obj),n.context=null,n.resolve&&n.resolve(n.obj)),n.obj}function R(t,e){const n=O(t)[e];return n?n.promise?n.promise:(L(t,e),n.promise=Promise.resolve(n.obj)):null}function O(t){let e=t.__AMP_SERVICES;return e||(e=t.__AMP_SERVICES={}),e}function M(t,e){const n=t.__AMP_SERVICES&&t.__AMP_SERVICES[e];return!(!n||!n.ctor)}l();var j="__AMP__EXPERIMENT_TOGGLES";function G(t){var e,n,s,i,o;if(t[j])return t[j];t[j]=g();const r=t[j],a=x(x({},null!==(e=t.AMP_CONFIG)&&void 0!==e?e:{}),null!==(n=t.AMP_EXP)&&void 0!==n?n:(l=(null===(s=t.__AMP_EXP)||void 0===s?void 0:s.textContent)||"{}",JSON.parse(l)));var l;for(const t in a){const e=a[t];"number"==typeof e&&e>=0&&e<=1&&(r[t]=Math.random()<e)}const h=null===(i=t.AMP_CONFIG)||void 0===i?void 0:i["allow-doc-opt-in"];if(y(h)&&h.length){const e=t.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(e){var u;const t=(null===(u=e.getAttribute("content"))||void 0===u?void 0:u.split(","))||[];for(const e of t)h.includes(e)&&(r[e]=!0)}}Object.assign(r,function(t){var e;let n="";try{var s;"localStorage"in t&&(n=null!==(s=t.localStorage.getItem("amp-experiment-toggles"))&&void 0!==s?s:"")}catch(t){}const i=(null===(e=n)||void 0===e?void 0:e.split(/\s*,\s*/g))||[],o=g();for(const t of i)t&&("-"==t[0]?o[t.substr(1)]=!1:o[t]=!0);return o}(t));const c=null===(o=t.AMP_CONFIG)||void 0===o?void 0:o["allow-url-opt-in"];if(y(c)&&c.length){const e=b(t.location.originalHash||t.location.hash);for(const t of c){const n=e[`e-${t}`];"1"==n&&(r[t]=!0),"0"==n&&(r[t]=!1)}}return r}function U(t,e,s,i){return function(t,e,s,i){const o=P(t,e);if(o)return o;const r=S(t);return r.whenExtensionsKnown().then((()=>{const t=r.getExtensionVersion(s);return t?N(r.win,"extensions").waitForExtension(s,t):null})).then((s=>s?i?P(t,e):function(t,e){return function(t,e){const s=R(t,e);if(s)return s;const i=O(t);return i[e]=function(){const t=new n,{promise:e,reject:s,resolve:i}=t;return e.catch((()=>{})),{obj:null,promise:e,resolve:i,reject:s,context:null,ctor:null}}(),i[e].promise}(_(t),e)}(t,e):null))}(t,e,s,i).then((t=>function(t,e,n){return E(t,"Service %s was requested to be provided through %s, but %s is not loaded in the current page. To fix this problem load the JavaScript file for %s in this page.",e,n,n,n)}(t,e,s)))}l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l(),l();var D=t=>"paywall"===t||"ad_shown"===t||"offers_shown"===t||"subscriptions_landing_page"===t||"offer_selected"===t||"payment_flow_start"===t||"payment_complete"===t||"custom"===t,z=1001,B=1005,F=1006,$=2e3,V=3007,W=3008,K=3009,q=3010,H=4e3,Y=1003,J=class{constructor(t=[],e=!0){const n=e?1:0;this.complete_=null==t[n]?null:t[n]}getComplete(){return this.complete_}setComplete(t){this.complete_=t}toArray(t=!0){const e=[this.complete_];return t&&e.unshift(this.label()),e}label(){return"AccountCreationRequest"}},Q=class{constructor(t=[],e=!0){const n=e?1:0;this.subscriberOrMember_=null==t[n]?null:t[n],this.linkRequested_=null==t[1+n]?null:t[1+n]}getSubscriberOrMember(){return this.subscriberOrMember_}setSubscriberOrMember(t){this.subscriberOrMember_=t}getLinkRequested(){return this.linkRequested_}setLinkRequested(t){this.linkRequested_=t}toArray(t=!0){const e=[this.subscriberOrMember_,this.linkRequested_];return t&&e.unshift(this.label()),e}label(){return"AlreadySubscribedResponse"}},Z=class{constructor(t=[],e=!0){const n=e?1:0;this.embedderOrigin_=null==t[n]?null:t[n],this.transactionId_=null==t[1+n]?null:t[1+n],this.referringOrigin_=null==t[2+n]?null:t[2+n],this.utmSource_=null==t[3+n]?null:t[3+n],this.utmCampaign_=null==t[4+n]?null:t[4+n],this.utmMedium_=null==t[5+n]?null:t[5+n],this.sku_=null==t[6+n]?null:t[6+n],this.readyToPay_=null==t[7+n]?null:t[7+n],this.label_=t[8+n]||[],this.clientVersion_=null==t[9+n]?null:t[9+n],this.url_=null==t[10+n]?null:t[10+n],this.clientTimestamp_=null==t[11+n]||null==t[11+n]?null:new pt(t[11+n],e),this.readerSurfaceType_=null==t[12+n]?null:t[12+n],this.integrationVersion_=null==t[13+n]?null:t[13+n]}getEmbedderOrigin(){return this.embedderOrigin_}setEmbedderOrigin(t){this.embedderOrigin_=t}getTransactionId(){return this.transactionId_}setTransactionId(t){this.transactionId_=t}getReferringOrigin(){return this.referringOrigin_}setReferringOrigin(t){this.referringOrigin_=t}getUtmSource(){return this.utmSource_}setUtmSource(t){this.utmSource_=t}getUtmCampaign(){return this.utmCampaign_}setUtmCampaign(t){this.utmCampaign_=t}getUtmMedium(){return this.utmMedium_}setUtmMedium(t){this.utmMedium_=t}getSku(){return this.sku_}setSku(t){this.sku_=t}getReadyToPay(){return this.readyToPay_}setReadyToPay(t){this.readyToPay_=t}getLabelList(){return this.label_}setLabelList(t){this.label_=t}getClientVersion(){return this.clientVersion_}setClientVersion(t){this.clientVersion_=t}getUrl(){return this.url_}setUrl(t){this.url_=t}getClientTimestamp(){return this.clientTimestamp_}setClientTimestamp(t){this.clientTimestamp_=t}getReaderSurfaceType(){return this.readerSurfaceType_}setReaderSurfaceType(t){this.readerSurfaceType_=t}getIntegrationVersion(){return this.integrationVersion_}setIntegrationVersion(t){this.integrationVersion_=t}toArray(t=!0){const e=[this.embedderOrigin_,this.transactionId_,this.referringOrigin_,this.utmSource_,this.utmCampaign_,this.utmMedium_,this.sku_,this.readyToPay_,this.label_,this.clientVersion_,this.url_,this.clientTimestamp_?this.clientTimestamp_.toArray(t):[],this.readerSurfaceType_,this.integrationVersion_];return t&&e.unshift(this.label()),e}label(){return"AnalyticsContext"}},X=class{constructor(t=[],e=!0){const n=e?1:0;this.eventOriginator_=null==t[n]?null:t[n],this.isFromUserAction_=null==t[1+n]?null:t[1+n]}getEventOriginator(){return this.eventOriginator_}setEventOriginator(t){this.eventOriginator_=t}getIsFromUserAction(){return this.isFromUserAction_}setIsFromUserAction(t){this.isFromUserAction_=t}toArray(t=!0){const e=[this.eventOriginator_,this.isFromUserAction_];return t&&e.unshift(this.label()),e}label(){return"AnalyticsEventMeta"}},tt=class{constructor(t=[],e=!0){const n=e?1:0;this.context_=null==t[n]||null==t[n]?null:new Z(t[n],e),this.event_=null==t[1+n]?null:t[1+n],this.meta_=null==t[2+n]||null==t[2+n]?null:new X(t[2+n],e),this.params_=null==t[3+n]||null==t[3+n]?null:new it(t[3+n],e)}getContext(){return this.context_}setContext(t){this.context_=t}getEvent(){return this.event_}setEvent(t){this.event_=t}getMeta(){return this.meta_}setMeta(t){this.meta_=t}getParams(){return this.params_}setParams(t){this.params_=t}toArray(t=!0){const e=[this.context_?this.context_.toArray(t):[],this.event_,this.meta_?this.meta_.toArray(t):[],this.params_?this.params_.toArray(t):[]];return t&&e.unshift(this.label()),e}label(){return"AnalyticsRequest"}},et=class{constructor(t=[],e=!0){const n=e?1:0;this.jwt_=null==t[n]?null:t[n],this.source_=null==t[1+n]?null:t[1+n]}getJwt(){return this.jwt_}setJwt(t){this.jwt_=t}getSource(){return this.source_}setSource(t){this.source_=t}toArray(t=!0){const e=[this.jwt_,this.source_];return t&&e.unshift(this.label()),e}label(){return"EntitlementJwt"}},nt=class{constructor(t=[],e=!0){const n=e?1:0;this.usedEntitlement_=null==t[n]||null==t[n]?null:new et(t[n],e),this.clientEventTime_=null==t[1+n]||null==t[1+n]?null:new pt(t[1+n],e),this.entitlementSource_=null==t[2+n]?null:t[2+n],this.entitlementResult_=null==t[3+n]?null:t[3+n],this.token_=null==t[4+n]?null:t[4+n],this.isUserRegistered_=null==t[5+n]?null:t[5+n],this.subscriptionTimestamp_=null==t[6+n]||null==t[6+n]?null:new pt(t[6+n],e)}getUsedEntitlement(){return this.usedEntitlement_}setUsedEntitlement(t){this.usedEntitlement_=t}getClientEventTime(){return this.clientEventTime_}setClientEventTime(t){this.clientEventTime_=t}getEntitlementSource(){return this.entitlementSource_}setEntitlementSource(t){this.entitlementSource_=t}getEntitlementResult(){return this.entitlementResult_}setEntitlementResult(t){this.entitlementResult_=t}getToken(){return this.token_}setToken(t){this.token_=t}getIsUserRegistered(){return this.isUserRegistered_}setIsUserRegistered(t){this.isUserRegistered_=t}getSubscriptionTimestamp(){return this.subscriptionTimestamp_}setSubscriptionTimestamp(t){this.subscriptionTimestamp_=t}toArray(t=!0){const e=[this.usedEntitlement_?this.usedEntitlement_.toArray(t):[],this.clientEventTime_?this.clientEventTime_.toArray(t):[],this.entitlementSource_,this.entitlementResult_,this.token_,this.isUserRegistered_,this.subscriptionTimestamp_?this.subscriptionTimestamp_.toArray(t):[]];return t&&e.unshift(this.label()),e}label(){return"EntitlementsRequest"}},st=class{constructor(t=[],e=!0){const n=e?1:0;this.jwt_=null==t[n]?null:t[n],this.swgUserToken_=null==t[1+n]?null:t[1+n]}getJwt(){return this.jwt_}setJwt(t){this.jwt_=t}getSwgUserToken(){return this.swgUserToken_}setSwgUserToken(t){this.swgUserToken_=t}toArray(t=!0){const e=[this.jwt_,this.swgUserToken_];return t&&e.unshift(this.label()),e}label(){return"EntitlementsResponse"}},it=class{constructor(t=[],e=!0){const n=e?1:0;this.smartboxMessage_=null==t[n]?null:t[n],this.gpayTransactionId_=null==t[1+n]?null:t[1+n],this.hadLogged_=null==t[2+n]?null:t[2+n],this.sku_=null==t[3+n]?null:t[3+n],this.oldTransactionId_=null==t[4+n]?null:t[4+n],this.isUserRegistered_=null==t[5+n]?null:t[5+n],this.subscriptionFlow_=null==t[6+n]?null:t[6+n],this.subscriptionTimestamp_=null==t[7+n]||null==t[7+n]?null:new pt(t[7+n],e)}getSmartboxMessage(){return this.smartboxMessage_}setSmartboxMessage(t){this.smartboxMessage_=t}getGpayTransactionId(){return this.gpayTransactionId_}setGpayTransactionId(t){this.gpayTransactionId_=t}getHadLogged(){return this.hadLogged_}setHadLogged(t){this.hadLogged_=t}getSku(){return this.sku_}setSku(t){this.sku_=t}getOldTransactionId(){return this.oldTransactionId_}setOldTransactionId(t){this.oldTransactionId_=t}getIsUserRegistered(){return this.isUserRegistered_}setIsUserRegistered(t){this.isUserRegistered_=t}getSubscriptionFlow(){return this.subscriptionFlow_}setSubscriptionFlow(t){this.subscriptionFlow_=t}getSubscriptionTimestamp(){return this.subscriptionTimestamp_}setSubscriptionTimestamp(t){this.subscriptionTimestamp_=t}toArray(t=!0){const e=[this.smartboxMessage_,this.gpayTransactionId_,this.hadLogged_,this.sku_,this.oldTransactionId_,this.isUserRegistered_,this.subscriptionFlow_,this.subscriptionTimestamp_?this.subscriptionTimestamp_.toArray(t):[]];return t&&e.unshift(this.label()),e}label(){return"EventParams"}},ot=class{constructor(t=[],e=!0){const n=e?1:0;this.complete_=null==t[n]?null:t[n],this.error_=null==t[1+n]?null:t[1+n]}getComplete(){return this.complete_}setComplete(t){this.complete_=t}getError(){return this.error_}setError(t){this.error_=t}toArray(t=!0){const e=[this.complete_,this.error_];return t&&e.unshift(this.label()),e}label(){return"FinishedLoggingResponse"}},rt=class{constructor(t=[],e=!0){const n=e?1:0;this.authCode_=null==t[n]?null:t[n],this.token_=null==t[1+n]?null:t[1+n]}getAuthCode(){return this.authCode_}setAuthCode(t){this.authCode_=t}getToken(){return this.token_}setToken(t){this.token_=t}toArray(t=!0){const e=[this.authCode_,this.token_];return t&&e.unshift(this.label()),e}label(){return"LinkSaveTokenRequest"}},at=class{constructor(t=[],e=!0){const n=e?1:0;this.requested_=null==t[n]?null:t[n]}getRequested(){return this.requested_}setRequested(t){this.requested_=t}toArray(t=!0){const e=[this.requested_];return t&&e.unshift(this.label()),e}label(){return"LinkingInfoResponse"}},lt=class{constructor(t=[],e=!0){const n=e?1:0;this.sku_=null==t[n]?null:t[n],this.oldSku_=null==t[1+n]?null:t[1+n],this.oneTime_=null==t[2+n]?null:t[2+n],this.playOffer_=null==t[3+n]?null:t[3+n],this.oldPlayOffer_=null==t[4+n]?null:t[4+n],this.customMessage_=null==t[5+n]?null:t[5+n],this.anonymous_=null==t[6+n]?null:t[6+n],this.sharingPolicyEnabled_=null==t[7+n]?null:t[7+n]}getSku(){return this.sku_}setSku(t){this.sku_=t}getOldSku(){return this.oldSku_}setOldSku(t){this.oldSku_=t}getOneTime(){return this.oneTime_}setOneTime(t){this.oneTime_=t}getPlayOffer(){return this.playOffer_}setPlayOffer(t){this.playOffer_=t}getOldPlayOffer(){return this.oldPlayOffer_}setOldPlayOffer(t){this.oldPlayOffer_=t}getCustomMessage(){return this.customMessage_}setCustomMessage(t){this.customMessage_=t}getAnonymous(){return this.anonymous_}setAnonymous(t){this.anonymous_=t}getSharingPolicyEnabled(){return this.sharingPolicyEnabled_}setSharingPolicyEnabled(t){this.sharingPolicyEnabled_=t}toArray(t=!0){const e=[this.sku_,this.oldSku_,this.oneTime_,this.playOffer_,this.oldPlayOffer_,this.customMessage_,this.anonymous_,this.sharingPolicyEnabled_];return t&&e.unshift(this.label()),e}label(){return"SkuSelectedResponse"}},ht=class{constructor(t=[],e=!0){const n=e?1:0;this.isClicked_=null==t[n]?null:t[n]}getIsClicked(){return this.isClicked_}setIsClicked(t){this.isClicked_=t}toArray(t=!0){const e=[this.isClicked_];return t&&e.unshift(this.label()),e}label(){return"SmartBoxMessage"}},ut=class{constructor(t=[],e=!0){const n=e?1:0;this.subscribe_=null==t[n]?null:t[n]}getSubscribe(){return this.subscribe_}setSubscribe(t){this.subscribe_=t}toArray(t=!0){const e=[this.subscribe_];return t&&e.unshift(this.label()),e}label(){return"SubscribeResponse"}},ct=class{constructor(t=[],e=!0){const n=e?1:0;this.answerId_=null==t[n]?null:t[n],this.answerText_=null==t[1+n]?null:t[1+n],this.answerCategory_=null==t[2+n]?null:t[2+n]}getAnswerId(){return this.answerId_}setAnswerId(t){this.answerId_=t}getAnswerText(){return this.answerText_}setAnswerText(t){this.answerText_=t}getAnswerCategory(){return this.answerCategory_}setAnswerCategory(t){this.answerCategory_=t}toArray(t=!0){const e=[this.answerId_,this.answerText_,this.answerCategory_];return t&&e.unshift(this.label()),e}label(){return"SurveyAnswer"}},gt=class{constructor(t=[],e=!0){const n=e?1:0;this.questionId_=null==t[n]?null:t[n],this.questionText_=null==t[1+n]?null:t[1+n],this.questionCategory_=null==t[2+n]?null:t[2+n],this.surveyAnswers_=(t[3+n]||[]).map((t=>new ct(t,e)))}getQuestionId(){return this.questionId_}setQuestionId(t){this.questionId_=t}getQuestionText(){return this.questionText_}setQuestionText(t){this.questionText_=t}getQuestionCategory(){return this.questionCategory_}setQuestionCategory(t){this.questionCategory_=t}getSurveyAnswersList(){return this.surveyAnswers_}setSurveyAnswersList(t){this.surveyAnswers_=t}toArray(t=!0){const e=[this.questionId_,this.questionText_,this.questionCategory_,this.surveyAnswers_?this.surveyAnswers_.map((e=>e.toArray(t))):[]];return t&&e.unshift(this.label()),e}label(){return"SurveyQuestion"}},pt=class{constructor(t=[],e=!0){const n=e?1:0;this.seconds_=null==t[n]?null:t[n],this.nanos_=null==t[1+n]?null:t[1+n]}getSeconds(){return this.seconds_}setSeconds(t){this.seconds_=t}getNanos(){return this.nanos_}setNanos(t){this.nanos_=t}toArray(t=!0){const e=[this.seconds_,this.nanos_];return t&&e.unshift(this.label()),e}label(){return"Timestamp"}},dt=class{constructor(t=[],e=!0){const n=e?1:0;this.close_=null==t[n]?null:t[n]}getClose(){return this.close_}setClose(t){this.close_=t}toArray(t=!0){const e=[this.close_];return t&&e.unshift(this.label()),e}label(){return"ToastCloseRequest"}},mt=class{constructor(t=[],e=!0){const n=e?1:0;this.native_=null==t[n]?null:t[n]}getNative(){return this.native_}setNative(t){this.native_=t}toArray(t=!0){const e=[this.native_];return t&&e.unshift(this.label()),e}label(){return"ViewSubscriptionsResponse"}},ft={"AccountCreationRequest":J,"ActionRequest":class{constructor(t=[],e=!0){const n=e?1:0;this.action_=null==t[n]?null:t[n]}getAction(){return this.action_}setAction(t){this.action_=t}toArray(t=!0){const e=[this.action_];return t&&e.unshift(this.label()),e}label(){return"ActionRequest"}},"AlreadySubscribedResponse":Q,"AnalyticsContext":Z,"AnalyticsEventMeta":X,"AnalyticsRequest":tt,"AudienceActivityClientLogsRequest":class{constructor(t=[],e=!0){const n=e?1:0;this.event_=null==t[n]?null:t[n]}getEvent(){return this.event_}setEvent(t){this.event_=t}toArray(t=!0){const e=[this.event_];return t&&e.unshift(this.label()),e}label(){return"AudienceActivityClientLogsRequest"}},"CompleteAudienceActionResponse":class{constructor(t=[],e=!0){const n=e?1:0;this.swgUserToken_=null==t[n]?null:t[n],this.actionCompleted_=null==t[1+n]?null:t[1+n],this.userEmail_=null==t[2+n]?null:t[2+n],this.alreadyCompleted_=null==t[3+n]?null:t[3+n]}getSwgUserToken(){return this.swgUserToken_}setSwgUserToken(t){this.swgUserToken_=t}getActionCompleted(){return this.actionCompleted_}setActionCompleted(t){this.actionCompleted_=t}getUserEmail(){return this.userEmail_}setUserEmail(t){this.userEmail_=t}getAlreadyCompleted(){return this.alreadyCompleted_}setAlreadyCompleted(t){this.alreadyCompleted_=t}toArray(t=!0){const e=[this.swgUserToken_,this.actionCompleted_,this.userEmail_,this.alreadyCompleted_];return t&&e.unshift(this.label()),e}label(){return"CompleteAudienceActionResponse"}},"EntitlementJwt":et,"EntitlementsRequest":nt,"EntitlementsResponse":st,"EventParams":it,"FinishedLoggingResponse":ot,"LinkSaveTokenRequest":rt,"LinkingInfoResponse":at,"OpenDialogRequest":class{constructor(t=[],e=!0){const n=e?1:0;this.urlPath_=null==t[n]?null:t[n]}getUrlPath(){return this.urlPath_}setUrlPath(t){this.urlPath_=t}toArray(t=!0){const e=[this.urlPath_];return t&&e.unshift(this.label()),e}label(){return"OpenDialogRequest"}},"SkuSelectedResponse":lt,"SmartBoxMessage":ht,"SubscribeResponse":ut,"SubscriptionLinkingCompleteResponse":class{constructor(t=[],e=!0){const n=e?1:0;this.publisherProvidedId_=null==t[n]?null:t[n],this.success_=null==t[1+n]?null:t[1+n]}getPublisherProvidedId(){return this.publisherProvidedId_}setPublisherProvidedId(t){this.publisherProvidedId_=t}getSuccess(){return this.success_}setSuccess(t){this.success_=t}toArray(t=!0){const e=[this.publisherProvidedId_,this.success_];return t&&e.unshift(this.label()),e}label(){return"SubscriptionLinkingCompleteResponse"}},"SubscriptionLinkingResponse":class{constructor(t=[],e=!0){const n=e?1:0;this.publisherProvidedId_=null==t[n]?null:t[n]}getPublisherProvidedId(){return this.publisherProvidedId_}setPublisherProvidedId(t){this.publisherProvidedId_=t}toArray(t=!0){const e=[this.publisherProvidedId_];return t&&e.unshift(this.label()),e}label(){return"SubscriptionLinkingResponse"}},"SurveyAnswer":ct,"SurveyDataTransferRequest":class{constructor(t=[],e=!0){const n=e?1:0;this.surveyQuestions_=(t[n]||[]).map((t=>new gt(t,e)))}getSurveyQuestionsList(){return this.surveyQuestions_}setSurveyQuestionsList(t){this.surveyQuestions_=t}toArray(t=!0){const e=[this.surveyQuestions_?this.surveyQuestions_.map((e=>e.toArray(t))):[]];return t&&e.unshift(this.label()),e}label(){return"SurveyDataTransferRequest"}},"SurveyDataTransferResponse":class{constructor(t=[],e=!0){const n=e?1:0;this.success_=null==t[n]?null:t[n]}getSuccess(){return this.success_}setSuccess(t){this.success_=t}toArray(t=!0){const e=[this.success_];return t&&e.unshift(this.label()),e}label(){return"SurveyDataTransferResponse"}},"SurveyQuestion":gt,"Timestamp":pt,"ToastCloseRequest":dt,"ViewSubscriptionsResponse":mt};function bt(t,e,n,s){return t.acceptResult().then((t=>{if(t.origin!=e||n&&!t.originVerified||s&&!t.secureChannel)throw new Error("channel mismatch");return t.data}))}function wt(t){if(/swg.debug=1/.test(self.location.hash)){const t=Array.prototype.slice.call(arguments,0);t.unshift("[Subscriptions]"),vt.apply(vt,t)}}function vt(t){console.log.apply(console,arguments)}function xt(t){console.warn.apply(console,arguments)}function yt(t,e,n){let s;if(!t){const t=(e=e||"Assertion failed").split("%s"),n=t.shift();let i=n;const o=[];At(o,n);for(let e=2;e<arguments.length;e++){const n=arguments[e];n&&n.tagName&&(s=n);const r=t.shift();o.push(n),At(o,r.trim()),i+=It(n)+r}const r=new Error(i);throw r.fromAssert=!0,r.associatedElement=s,r.messageArray=o,r}return t}function At(t,e){""!=e&&t.push(e)}function It(t){return t&&1==t.nodeType?t.tagName.toLowerCase()+(t.id?"#"+t.id:""):t}function kt(t,e){if(!t)return null;const n=t.length||0;if(n>0)for(let s=0;s<n;s++){const n=t[s];if(e(n,s,t))return n}return null}var Ct={"-":"+","_":"/"},Et={"+":"-","/":"_","=":""};function Nt(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);yt(s<=255,"Characters must be in range [0,255]"),e[n]=s}return e}function Tt(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}function Pt(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);const e=Tt(new Uint8Array(t));return decodeURIComponent(escape(e))}function St(t){return"undefined"!=typeof TextEncoder?new TextEncoder("utf-8").encode(t):Nt(unescape(encodeURIComponent(t)))}function _t(t){return Nt(atob(t.replace(/[-_]/g,(t=>Ct[t]))))}function Lt(t){const e=Tt(t);return btoa(e).replace(/[+/=]/g,(t=>Et[t]))}var Rt,Ot="0123456789ABCDEF";function Mt(){let t=function(){const t=Date.now().toString(16);return t.substring(t.length-8).toUpperCase()}()+"-",e=0;const n=function(t,e){const n=new Uint8Array(23),s=self.msCrypto?self.msCrypto:self.crypto;if(s&&s.getRandomValues){s.getRandomValues(n);for(let t=n.length-1;t>-1;t--)n[t]=n[t]%16}else for(let t=n.length-1;t>-1;t--)n[t]=Math.floor(16*Math.random());return n}();for(let i=9;i<36;i++)switch(i){case 13:case 18:case 23:t+="-";break;case 14:t+="4";break;case 19:t+=(s=n[e++],Ot[3&s|8]);break;default:t+=Ot[n[e++]]}var s;return t}function jt(t){const e=self.crypto||self.msCrypto,n=null==e?void 0:e.subtle;if(!n){const t="Swgjs only works on secure (HTTPS or localhost) pages.";return xt(t),Promise.reject(t)}return n.digest("SHA-512",St(t)).then((t=>function(t){const e=[],n=new DataView(t);for(let t=0;t<n.byteLength;t+=4){const s=n.getUint32(t).toString(16);e.push(("00000000"+s).slice(-"00000000".length))}return e.join("")}(t)))}var Gt=["Webkit","webkit","Moz","moz","ms","O","o"],Ut={"align-content":"normal","animation":"none","align-items":"normal","align-self":"auto","alignment-baseline":"auto","backface-visibility":"hidden","background-clip":"border-box","background-image":"none","baseline-shift":"0","block-size":"auto","border":"none","border-collapse":"separate","bottom":"0","box-sizing":"border-box","break-after":"auto","break-before":"auto","break-inside":"auto","buffered-rendering":"auto","caption-side":"top","caret-color":"rgb(51, 51, 51)","clear":"none","color":"rgb(51, 51, 51)","color-rendering":"auto","column-count":"auto","column-fill":"balance","column-gap":"normal","column-rule-color":"rgb(51, 51, 51)","column-rule-style":"none","column-rule-width":"0","column-span":"none","column-width":"auto","contain":"none","counter-increment":"none","counter-reset":"none","cursor":"auto","direction":"inherit","display":"block","empty-cells":"show","filter":"none","flex":"none","flex-flow":"row nowrap","float":"none","flood-color":"rgb(0, 0, 0)","flood-opacity":"1","font":"none","font-size":"medium","font-family":"","height":"auto","hyphens":"manual","image-rendering":"auto","inline-size":"","isolation":"auto","justify-content":"normal","justify-items":"normal","justify-self":"auto","letter-spacing":"normal","lighting-color":"rgb(255, 255, 255)","line-break":"auto","line-height":"normal","margin-bottom":"0","mask":"none","max-block-size":"none","max-height":"none","max-inline-size":"none","max-width":"none","min-block-size":"none","min-height":"0","min-inline-size":"0","min-width":"0","mix-blend-mode":"normal","object-fit":"fill","offset-distance":"none","offset-path":"none","offset-rotate":"auto 0deg","opacity":"1","order":"0","orphans":"2","outline":"none","overflow-anchor":"auto","overflow-wrap":"normal","overflow":"visible","padding":"0","page":"","perspective":"none","pointer-events":"auto","position":"static","quotes":"","resize":"none","right":"0","scroll-behavior":"auto","tab-size":"8","table-layout":"auto","text-align":"start","text-align-last":"auto","text-anchor":"start","text-combine-upright":"none","text-decoration":"none","text-indent":"0","text-orientation":"mixed","text-overflow":"clip","text-rendering":"auto","text-shadow":"none","text-size-adjust":"auto","text-transform":"none","text-underline-position":"auto","top":"auto","touch-action":"auto","transform":"none","transition":"none 0s ease 0s","unicode-bidi":"normal","user-select":"auto","vector-effect":"none","vertical-align":"baseline","visibility":"visible","white-space":"normal","widows":"2","word-break":"normal","word-spacing":"0","word-wrap":"normal","writing-mode":"horizontal-tb","zoom":"1","z-index":"auto"};function Dt(t,e,n){if(!("--".length>(s=e).length)&&0==s.lastIndexOf("--",0))return e;var s;Rt||(Rt=Object.create(null));let i=Rt[e];if(!i||n){if(i=e,void 0===t[e]){const n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),s=function(t,e){for(let n=0;n<Gt.length;n++){const s=Gt[n]+e;if(void 0!==t[s])return s}return""}(t,n);void 0!==t[s]&&(i=s)}n||(Rt[e]=i)}return i}function zt(t,e){for(const n in e)t.style.setProperty(Dt(e,n),e[n].toString(),"important")}function Bt(t,e,n,s,i){const o=Dt(t.style,e,i);o&&(t.style[o]=s?n+s:n)}function Ft(t,e){for(const n in e)Bt(t,n,e[n])}function $t(t,e,n,s){const i=t.createElement(e);if(function(t,e){for(const n in e)"style"==n?Ft(t,e[n]):t.setAttribute(n,e[n])}(i,n),null!=s)if("string"==typeof s)i.textContent=s;else if(s.nodeType)i.appendChild(s);else if("length"in s)for(let t=0;t<s.length;t++)i.appendChild(s[t]);else yt(!1,"Unsupported content: %s",s);return i}function Vt(t,e){const n=$t(t.getWin().document,"style",{"type":"text/css"});return n.textContent=e,t.getHead().appendChild(n),n}var{createAbortError:Wt,isAbortError:Kt}=h();function qt(t){return Kt(t)}function Ht(t,e){return Wt(t,e)}var Yt=class{static throwAsync(t){setTimeout((()=>{throw t}))}},Jt={"frameborder":"0","scrolling":"no"},Qt=class extends class{constructor(){}getElement(){}init(t){}resized(){}whenComplete(){}shouldFadeBody(){}hasLoadingIndicator(){}}{constructor(t,e,n,s,i=!1,o=!1){super(),this.win_=t,this.doc_=this.win_.document,this.iframe_=$t(this.doc_,"iframe",Jt),this.activityPorts_=e,this.src_=n,this.args_=s||{},this.shouldFadeBody_=i,this.hasLoadingIndicator_=o,this.port_=null,this.portResolver_=null,this.portPromise_=new Promise((t=>{this.portResolver_=t}))}getElement(){return this.iframe_}init(t){return this.activityPorts_.openIframe(this.iframe_,this.src_,this.args_).then((e=>this.onOpenIframeResponse_(e,t)))}shouldFadeBody(){return this.shouldFadeBody_}hasLoadingIndicator(){return this.hasLoadingIndicator_}onOpenIframeResponse_(t,e){return this.port_=t,this.portResolver_(t),this.port_.onResizeRequest((t=>{e.resizeView(this,t)})),this.port_.whenReady()}getPortPromise_(){return this.portPromise_}on(t,e){this.getPortPromise_().then((n=>{n.on(t,e)}))}execute(t){this.getPortPromise_().then((e=>{e.execute(t)}))}acceptResult(){return this.getPortPromise_().then((t=>t.acceptResult()))}acceptResultAndVerify(t,e,n){return this.getPortPromise_().then((s=>bt(s,t,e,n)))}whenComplete(){return this.acceptResult()}onCancel(t){this.acceptResult().catch((e=>{throw qt(e)&&t(),e}))}resized(){this.port_&&this.port_.resized()}},Zt={};function Xt(t){return JSON.parse(t)}function te(t,e){try{return Xt(t)}catch(t){return void(e&&e(t))}}function ee(t,e){const n=te(t);return n&&n[e]||null}Zt.USER_TOKEN="USER_TOKEN",Zt.READ_TIME="READ_TIME";var ne,se,ie=class{constructor(){}decode(t){return this.decodeInternal_(t).payload}decodeInternal_(t){function e(){throw new Error(`Invalid token: "${t}"`)}const n=t.split(".");3!=n.length&&e();const s=_t(n[0]),i=_t(n[1]);return{header:te(Pt(s),e),payload:te(Pt(i),e),verifiable:`${n[0]}.${n[1]}`,sig:n[2]}}},oe="google:metering",re=class{constructor(t,e,n,s,i,o,r,a){this.service=t,this.raw=e,this.entitlements=n,this.isReadyToPay=r||!1,this.decryptedDocumentKey=a||null,this.product_=s,this.ackHandler_=i,this.consumeHandler_=o}clone(){return new re(this.service,this.raw,this.entitlements.map((t=>t.clone())),this.product_,this.ackHandler_,this.consumeHandler_,this.isReadyToPay,this.decryptedDocumentKey)}json(){return{"service":this.service,"entitlements":this.entitlements.map((t=>t.json())),"isReadyToPay":this.isReadyToPay}}enablesThisWithCacheableEntitlements(){return!!this.getEntitlementForThis()&&!this.enablesThisWithGoogleMetering()&&!this.enablesThisWithGoogleDevMode()}enablesThisWithGoogleMetering(){const t=this.getEntitlementForThis();return!!t&&t.source===oe}enablesThisWithGoogleDevMode(){const t=this.getEntitlementForThis();if(!t)return!1;const e="google"===t.source&&-1!==t.subscriptionToken.indexOf("GOOGLE_DEV_MODE_ORDER"),n="GOOGLE_DEV_MODE_TOKEN"===t.subscriptionToken;return e||n}enablesThis(t){return this.enables(this.product_,t)}enablesAny(t){for(let e=0;e<this.entitlements.length;e++)if(this.entitlements[e].products.length>0&&(!t||t==this.entitlements[e].source))return!0;return!1}enables(t,e){return!!t&&!!this.getEntitlementFor(t,e)}getEntitlementForThis(t){return this.getEntitlementFor(this.product_,t)}getEntitlementFor(t,e){if(!t)return xt("SwG needs this article to define a product ID (e.g. example.com:premium). Articles can define a product ID using JSON+LD. SwG can check entitlements after this article defines a product ID."),null;const n=this.entitlements.filter((n=>n.enables(t)&&(!e||e===n.source))),s=kt(n,(t=>t.source!==oe)),i=kt(n,(t=>t.source===oe));return s||i||null}getEntitlementForSource(t){if(this.entitlements.length>0)for(let e=0;e<this.entitlements.length;e++)if(this.entitlements[e].subscriptionToken&&t==this.entitlements[e].source)return this.entitlements[e];return null}ack(){this.ackHandler_(this)}consume(t){this.consumeHandler_(this,t)}},ae=class{constructor(t,e,n,s,i){this.source=t,this.products=e,this.subscriptionToken=n,this.subscriptionTokenContents=s,this.subscriptionTimestamp=i}clone(){return new ae(this.source,this.products.slice(0),this.subscriptionToken,this.subscriptionTokenContents,this.subscriptionTimestamp)}json(){return{"source":this.source,"products":this.products,"subscriptionToken":this.subscriptionToken}}enables(t){if(!t)return!1;const e=t.indexOf(":");if(-1!=e){const n=t.substring(0,e+1);if(n+"*"==t&&this.products.filter((t=>t.substring(0,e+1)==n)).length>=1)return wt("enabled with wildcard productId"),!0;if(this.products.includes(n+"*"))return wt("enabled with wildcard entitlement"),!0}return this.products.includes(t)}static parseFromJson(t,e){t||(t={});const n=t.source||"",s=t.products||[],i=t.subscriptionToken;let o;try{o=i?e.decode(i):null}catch(t){o=null}const r=t.subscriptionTimestamp;let a;try{a=new pt([r.seconds_,r.nanos_],!1)}catch(t){a=null}return new ae(n,s,i,o,a)}static parseListFromJson(t,e){return(Array.isArray(t)?t:[t]).map((t=>ae.parseFromJson(t,e)))}getSku(){if("google"!==this.source)return null;const t=ee(this.subscriptionToken,"productId")||null;return t||xt("Unable to retrieve SKU from SwG subscription token"),t}},le=class{constructor(t,e){this.idToken=t,this.data=e,this.id=e.sub,this.email=e.email,this.emailVerified=e.email_verified,this.name=e.name,this.givenName=e.given_name,this.familyName=e.family_name,this.pictureUrl=e.picture}clone(){return new le(this.idToken,this.data)}json(){return{"id":this.id,"email":this.email,"emailVerified":this.emailVerified,"name":this.name,"givenName":this.givenName,"familyName":this.familyName,"pictureUrl":this.pictureUrl}}},he=class{constructor(t,e,n,s,i,o,r=null,a=null,l=null,h=null){this.raw=t,this.purchaseData=e,this.userData=n,this.entitlements=s,this.productType=i,this.completeHandler_=o,this.oldSku=r,this.swgUserToken=a,this.paymentRecurrence=l,this.requestMetadata=h}clone(){return new he(this.raw,this.purchaseData,this.userData,this.entitlements,this.productType,this.completeHandler_,this.oldSku,this.swgUserToken)}json(){return{"purchaseData":this.purchaseData.json(),"userData":this.userData?this.userData.json():null,"entitlements":this.entitlements?this.entitlements.json():null,"oldSku":this.oldSku,"productType":this.productType,"swgUserToken":this.swgUserToken}}complete(){return this.completeHandler_()}},ue=class{constructor(t,e){this.raw=t,this.data=t,this.signature=e}clone(){return new ue(this.raw,this.signature)}json(){return{"data":this.raw,"signature":this.signature}}},ce=class{constructor(t,e,n,s){this.entitlements=t,this.userData=e,this.purchaseDataList=n,this.purchaseData=n[0],this.completeHandler_=s}clone(){return new ce(this.entitlements,this.userData,this.purchaseDataList,this.completeHandler_)}json(){return{"entitlements":this.entitlements.json(),"userData":this.userData.json(),"purchaseDataList":this.purchaseDataList.map((t=>t.json())),"purchaseData":this.purchaseData.json()}}complete(){return this.completeHandler_()}},ge={UNKNOWN:"unknown",NON_SUBSCRIBER:"non_subscriber",SUBSCRIBER:"subscriber",PAST_SUBSCRIBER:"past_subscriber"},pe="paywall",de="ad_shown",me="offers_shown",fe="subscriptions_landing_page",be="offer_selected",we="payment_flow_start",ve="payment_complete",xe="custom",ye={GENERAL:"general",PAYWALL:"paywall"},Ae="showOffers",Ie="showSubscribeOption",ke="showAbbrvOffer",Ce="showContributionOptions",Ee="subscribe",Ne="contribute",Te="completeDeferredAccountCreation",Pe="linkAccount",Se="showLoginPrompt",_e="auto",Le="redirect",Re="SUBSCRIPTION",Oe="UI_CONTRIBUTION";function Me(t){ne||(ne=self.document.createElement("a"),se=self.UrlCache||(self.UrlCache=Object.create(null)));const e=se[t];if(e)return e;const n=function(t,e){t.href=e;const n={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:t.protocol+"//"+t.host};return t.origin&&"null"!==t.origin?n.origin=t.origin:"data:"!==n.protocol&&n.host||(n.origin=n.href),n}(ne,t);return se[t]=n}function je(t){return t?(/^[?#]/.test(t)?t.slice(1):t).split("&").reduce(((t,e)=>{const n=e.split("=");try{const e=decodeURIComponent(n[0]||""),s=decodeURIComponent(n[1]||"");e&&(t[e]=s)}catch(t){xt(`SwG could not parse a URL query param: ${n[0]}`)}return t}),{}):{}}function Ge(t,e,n){const s=t.indexOf("?"),i=t.indexOf("#");let o="";return-1!=i&&(o=t.substring(i),t=t.substring(0,i)),-1==s?t+="?":s<t.length-1&&(t+="&"),(t+=encodeURIComponent(e)+"="+encodeURIComponent(n))+o}function Ue(t){return JSON.stringify(t.toArray(!1))}function De(t){var e,n;const s=t.getRootNode(),i=s.querySelector("link[rel='canonical']");return(null==i?void 0:i.href)||(null===(e=s.location)||void 0===e?void 0:e.origin)+(null===(n=s.location)||void 0===n?void 0:n.pathname)||""}var ze=Me(self.window.location.href);Me(self.document.referrer);var Be={"zero":0,"nocache":1,"hr1":36e5,"hr12":432e5},Fe={"default":{frontEnd:"https://news.google.com",payEnv:"PRODUCTION",playEnv:"PROD",feCache:"hr1"},"prod":{frontEnd:"https://news.google.com",payEnv:"PRODUCTION",playEnv:"PROD",feCache:Be.hr1},"autopush":{frontEnd:"https://subscribe-autopush.sandbox.google.com",payEnv:"PRODUCTION",playEnv:"AUTOPUSH",feCache:Be.nocache},"qual":{frontEnd:"https://subscribe-qual.sandbox.google.com",payEnv:"SANDBOX",playEnv:"STAGING",feCache:Be.hr1}};function $e(){const t=je(self.location.hash)["swg.mode"];return t&&Fe[t]?Fe[t]:Fe.default}function Ve(){return Me($e().frontEnd).origin}function We(t){const e=je(self.location.hash)["swg.experiments"];return void 0!==e&&(t=Ge(t,"e",e)),`${$e().frontEnd}/swg/_/api/v1`+t}function Ke(t){return"https://pubads.g.doubleclick.net"+t}function qe(t,e={},n=!0,s=""){const i=s?n?`swg/${s}`:`${s}/swg`:"swg";t=He(`${$e().frontEnd}/${i}/_/ui/v1${t}`);const o=je(self.location.hash),r=o["swg.boqjsmode"];void 0!==r&&(t=Ge(t,"jsmode",r));const a=o["swg.experiments"];void 0!==a&&(t=Ge(t,"e",a));for(const n in e)t=Ge(t,n,e[n]);return t}function He(t){return Ge(t,"_",function(t){let e=Be[t];if(null==e&&(e=1),0===e)return"_";const n=Date.now();return String(e<=1?n:Math.floor(n/e))}($e().feCache))}function Ye(t){return Object.assign(t,{"_client":"SwG b4808644"})}var Je={"IMMEDIATE_WITH_TIME_PRORATION":1};function Qe(t,e=null){return new it([,,,,t,,,e])}var Ze=class{constructor(t,e,n="SUBSCRIPTION"){this.deps_=t,this.payClient_=t.payClient(),this.pageConfig_=t.pageConfig(),this.dialogManager_=t.dialogManager(),this.subscriptionRequest_=e,this.productType_=n,this.analyticsService_=t.analytics(),this.eventManager_=t.eventManager(),this.clientConfigManager_=t.clientConfigManager()}start(){return this.clientConfigManager_.getClientConfig().then((t=>{this.start_(t.paySwgVersion)}))}start_(t){const e={"skuId":this.subscriptionRequest_.skuId,"publicationId":this.pageConfig_.getPublicationId()};if(t&&(e.swgVersion=t),this.subscriptionRequest_.oldSku){e.oldSku=this.subscriptionRequest_.oldSku;const t=this.subscriptionRequest_.replaceSkuProrationMode;e.replaceSkuProrationMode=t?Je[t]:Je.IMMEDIATE_WITH_TIME_PRORATION,this.analyticsService_.setSku(e.oldSku)}this.subscriptionRequest_.oneTime&&(e.paymentRecurrence=2),this.subscriptionRequest_.metadata&&(e.metadata=this.subscriptionRequest_.metadata);const n=this.productType_==Oe?Ne:Ee;return this.deps_.callbacks().triggerFlowStarted(n,this.subscriptionRequest_),this.eventManager_.logSwgEvent(B,!0,Qe(e.skuId)),Xe.waitingForPayClient_=!0,this.payClient_.start({"apiVersion":1,"allowedPaymentMethods":["CARD"],"environment":$e().payEnv,"playEnvironment":$e().playEnv,"swg":e,"i":{"startTimeMs":Date.now(),"productType":this.productType_}},{forceRedirect:this.deps_.config().windowOpenMode==Le,forceDisableNative:"2"==t||"3"==t}),s()}},Xe=class{static configurePending(t){const e=t.eventManager();t.payClient().onResponse((n=>{t.entitlementsManager().blockNextNotification();const s=new Xe(t),i=function(t,e,n){const s=!Xe.waitingForPayClient_;return Xe.waitingForPayClient_=!1,e.then((e=>{let i,o=0;if("object"==typeof e&&e.googleTransactionId){const n=t.analytics().getTransactionId(),r=e.googleTransactionId;s?(t.analytics().setTransactionId(r),o=3004):n===r?o=3001:(i=new it,i.setGpayTransactionId(r),o=3002)}else i=new it,i.setHadLogged(!s),o=3003;return t.eventManager().logSwgEvent(o,!0,i),function(t,e,n){let s=null,i=null,o=Re,r=null,a=null,l=null;if(e)if("string"==typeof e)i=e;else{const t=e;if("swgCallbackData"in t?s=t.swgCallbackData:"integratorClientCallbackData"in t&&(i=t.integratorClientCallbackData),"paymentRequest"in e){const t=e.paymentRequest.swg||{};r=t.oldSku,a=t.paymentRecurrence,l=t.metadata,o=(e.paymentRequest.i||{}).productType||Re}else"productType"in e&&(o=e.productType)}if(i&&!s&&(i=atob(i),i)&&(s=Xt(i).swgCallbackData),!s)throw new Error("unexpected payment response");return i=JSON.stringify(s),new he(i,function(t){const e=t.purchaseData,n=t.purchaseDataSignature;return new ue(e,n)}(s),function(t){const e=t.idToken;if(!e)return null;const n=(new ie).decode(e);return new le(e,n)}(s),function(t,e){return e.signedEntitlements?t.entitlementsManager().parseEntitlements(e):null}(t,s),o,n,r,s.swgUserToken,a,l)}(t,e,n)}))}(t,n,s.complete.bind(s));return t.callbacks().triggerPaymentResponse(i),i.then((n=>{const i=tn(n.purchaseData);t.analytics().setSku(i||""),e.logSwgEvent(z,!0,Qe(i||"",n.productType==Oe?Ne:Ee)),s.start(n)}),(e=>{if(!qt(e))throw t.eventManager().logSwgEvent($,!1),t.jserror().error("Pay failed",e),e;{const n=e.productType==Oe?Ne:Ee;t.callbacks().triggerFlowCanceled(n),t.eventManager().logSwgEvent(1014,!0)}}))}))}constructor(t){this.win_=t.win(),this.deps_=t,this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.activityIframeViewPromise_=null,this.readyPromise_=null,this.analyticsService_=t.analytics(),this.eventManager_=t.eventManager(),this.clientConfigManager_=t.clientConfigManager(),this.sku_=null}start(t){this.sku_=tn(t.purchaseData),this.eventManager_.logSwgEvent(10,!0,Qe(this.sku_||"")),this.deps_.entitlementsManager().reset(!0);const e={"publicationId":this.deps_.pageConfig().getPublicationId(),"productType":t.productType,"isSubscriptionUpdate":!!t.oldSku,"isOneTime":!!t.paymentRecurrence};t.userData&&t.entitlements?(e.idToken=t.userData.idToken,this.deps_.entitlementsManager().pushNextEntitlements(t.entitlements.raw),t.swgUserToken&&this.deps_.storage().set(Zt.USER_TOKEN,t.swgUserToken,!0)):e.loginHint=t.userData&&t.userData.email;const n={};if("VIRTUAL_GIFT"===e.productType){Object.assign(n,{productType:e.productType,publicationId:e.publicationId,offerId:this.sku_,origin:Me(this.win_.location.href).origin,isPaid:!0,checkOrderStatus:!0}),t.requestMetadata&&(n.canonicalUrl=t.requestMetadata.contentId,n.isAnonymous=t.requestMetadata.anonymous,e.contentTitle=t.requestMetadata.contentTitle),t.swgUserToken&&(e.swgUserToken=t.swgUserToken);const s=ee(t.purchaseData.raw,"orderId")||null;s&&(e.orderId=s)}this.clientConfigManager_.shouldForceLangInIframes()&&(n.hl=this.clientConfigManager_.getLanguage());const s=qe("/payconfirmiframe",n);return this.activityIframeViewPromise_=this.clientConfigManager_.getClientConfig().then((t=>(e.useUpdatedConfirmUi=t.useUpdatedOfferFlows,e.skipAccountCreationScreen=t.skipAccountCreationScreen,new Qt(this.win_,this.activityPorts_,s,Ye(e),!0)))).then((t=>(t.on(st,this.handleEntitlementsResponse_.bind(this)),t.acceptResult().then((()=>{this.dialogManager_.completeView(t)})),this.readyPromise_=this.dialogManager_.openView(t),this.readyPromise_.then((()=>{this.deps_.callbacks().triggerPayConfirmOpened(t)})),t)))}handleEntitlementsResponse_(t){const e=t.getJwt();e&&this.deps_.entitlementsManager().pushNextEntitlements(e)}complete(){this.eventManager_.logSwgEvent(1002,!0,Qe(this.sku_||""));const t=Date.now().toString();return this.deps_.storage().set(Zt.READ_TIME,t,!1),this.deps_.entitlementsManager().unblockNextNotification(),Promise.all([this.activityIframeViewPromise_,this.readyPromise_,this.clientConfigManager_.getClientConfig()]).then((t=>{const e=t[0],n=t[2];if(!n.skipAccountCreationScreen){const t=new J;t.setComplete(!0),e.execute(t)}return e.acceptResult().catch((()=>{})).then((()=>{n.skipAccountCreationScreen||this.eventManager_.logSwgEvent(1003,!0,Qe(this.sku_||"")),this.deps_.entitlementsManager().setToastShown(!0)}))}))}};function tn(t){return ee(t.raw,"productId")||null}Xe.waitingForPayClient_=!1;var en=class{constructor(t,e){var n;this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.eventManager_=t.eventManager(),this.clientConfigManager_=t.clientConfigManager(),this.activityIframeView_=null;const s=null!==(n=null==e?void 0:e.isClosable)&&void 0!==n&&n,i=t.activities().addDefaultArguments({"showNative":t.callbacks().hasSubscribeRequestCallback(),"productType":Re,"list":e&&e.list||"default","skus":e&&e.skus||null,"isClosable":s});if(e&&e.oldSku){i.oldSku=e.oldSku,yt(i.skus,"Need a sku list if old sku is provided!");let t=i.skus;const n=i.oldSku;t=t.filter((t=>t!==n)),yt(t.length>0,"Sku list only contained offer user already has"),i.skus=t}if(i.skus&&1===i.skus.length){const t=i.skus[0],e=i.oldSku;if(e){const n=new lt;return n.setSku(t),n.setOldSku(e),void this.startPayFlow_(n)}}this.skus_=i.skus||["*"],this.clientConfig_=this.clientConfigManager_.getClientConfig(),this.activityIframeViewPromise_=this.clientConfig_.then((e=>this.shouldShow_(e)?new Qt(this.win_,this.activityPorts_,this.getUrl_(e,t.pageConfig()),i,!0):null))}startPayFlow_(t){const e=t.getSku();if(e){const n={"skuId":e},s=t.getOldSku();s&&(n.oldSku=s,this.deps_.analytics().setSku(s)),this.eventManager_.logSwgEvent(F,!0,function(t){return new it([,,,,t])}(e)),new Ze(this.deps_,n).start()}}handleLinkRequest_(t){t.getSubscriberOrMember()&&(this.eventManager_.logSwgEvent(1009,!0),this.deps_.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()}))}startNativeFlow_(t){t.getNative()&&this.deps_.callbacks().triggerSubscribeRequest()}start(){return this.activityIframeViewPromise_?this.activityIframeViewPromise_.then((t=>t?(this.deps_.callbacks().triggerFlowStarted(Ae,{skus:this.skus_,source:"SwG"}),t.onCancel((()=>{this.deps_.callbacks().triggerFlowCanceled(Ae)})),t.on(lt,this.startPayFlow_.bind(this)),t.on(Q,this.handleLinkRequest_.bind(this)),t.on(mt,this.startNativeFlow_.bind(this)),this.activityIframeView_=t,this.clientConfig_.then((t=>{if(this.activityIframeView_)return this.dialogManager_.openView(this.activityIframeView_,!1,this.getDialogConfig_(t,this.clientConfigManager_.shouldAllowScroll()))}))):s())):s()}shouldShow_(t){var e;return!1!==(null===(e=t.uiPredicates)||void 0===e?void 0:e.canDisplayAutoPrompt)}getDialogConfig_(t,e){return t.useUpdatedOfferFlows?{desktopConfig:{isCenterPositioned:!0,supportsWideScreen:!0},shouldDisableBodyScrolling:!e}:{}}getUrl_(t,e){var n;if(!t.useUpdatedOfferFlows)return qe("/offersiframe");const s={"publicationId":e.getPublicationId()};return this.clientConfigManager_.shouldForceLangInIframes()&&(s.hl=this.clientConfigManager_.getLanguage()),null!==(n=t.uiPredicates)&&void 0!==n&&n.purchaseUnavailableRegion&&(s.purchaseUnavailableRegion="true"),qe("/subscriptionoffersiframe",s)}showNoEntitlementFoundToast(){this.activityIframeView_&&this.activityIframeView_.execute(new st)}},{ActivityIframePort:nn,ActivityPorts:sn}=h();function on(t){return"[object Object]"===Object.prototype.toString.call(t)}function rn(t){return"function"==typeof t}function an(t){return"boolean"==typeof t}function ln(t,e){return"Event has an invalid "+t+"("+e+")"}var hn=class{static isPublisherEvent(t){return 3===t.eventOriginator||5===t.eventOriginator||2===t.eventOriginator}constructor(t){this.listeners_=[],this.filterers_=[],this.lastAction_=null,this.isReadyPromise_=t}registerEventListener(t){if(!rn(t))throw new Error("Event manager listeners must be a function");this.listeners_.push(t)}registerEventFilterer(t){if(!rn(t))throw new Error("Event manager filterers must be a function");this.filterers_.push(t)}logEvent(t,e){!function(t){if(!on(t))throw new Error("Event must be a valid object");if(0!==(e=t.eventType)&&1!==e&&2!==e&&3!==e&&4!==e&&5!==e&&6!==e&&7!==e&&8!==e&&9!==e&&10!==e&&11!==e&&12!==e&&13!==e&&14!==e&&15!==e&&16!==e&&17!==e&&18!==e&&19!==e&&20!==e&&21!==e&&22!==e&&23!==e&&24!==e&&25!==e&&26!==e&&27!==e&&28!==e&&29!==e&&30!==e&&31!==e&&32!==e&&33!==e&&34!==e&&35!==e&&36!==e&&37!==e&&38!==e&&39!==e&&40!==e&&41!==e&&42!==e&&43!==e&&44!==e&&45!==e&&46!==e&&1e3!==e&&1001!==e&&1002!==e&&1003!==e&&1004!==e&&1005!==e&&1006!==e&&1007!==e&&1008!==e&&1009!==e&&1010!==e&&1011!==e&&1012!==e&&1013!==e&&1014!==e&&1015!==e&&1016!==e&&1017!==e&&1018!==e&&1019!==e&&1020!==e&&1021!==e&&1022!==e&&1023!==e&&1024!==e&&1025!==e&&1026!==e&&1027!==e&&1028!==e&&1029!==e&&1030!==e&&1031!==e&&1032!==e&&1033!==e&&1034!==e&&1035!==e&&1036!==e&&1037!==e&&1038!==e&&1039!==e&&1040!==e&&1041!==e&&1042!==e&&1043!==e&&1044!==e&&1045!==e&&1046!==e&&1047!==e&&1048!==e&&1049!==e&&1050!==e&&1051!==e&&1052!==e&&1053!==e&&1054!==e&&1055!==e&&1056!==e&&1057!==e&&1058!==e&&1059!==e&&1060!==e&&1061!==e&&1062!==e&&1063!==e&&1064!==e&&1065!==e&&1066!==e&&1067!==e&&1068!==e&&1069!==e&&1070!==e&&1071!==e&&1072!==e&&1073!==e&&1074!==e&&2e3!==e&&2001!==e&&2002!==e&&2003!==e&&2004!==e&&2005!==e&&2006!==e&&2007!==e&&2008!==e&&3e3!==e&&3001!==e&&3002!==e&&3003!==e&&3004!==e&&3005!==e&&3006!==e&&3007!==e&&3008!==e&&3009!==e&&3010!==e&&3011!==e&&3012!==e&&3013!==e&&3014!==e&&3015!==e&&3016!==e&&3017!==e&&3018!==e&&3019!==e&&3020!==e&&3021!==e&&3022!==e&&3023!==e&&3024!==e&&3025!==e&&3026!==e&&3027!==e&&3028!==e&&3029!==e&&3030!==e&&4e3!==e)throw new Error(ln("eventType",t.eventType));var e;if(!(t=>0===t||1===t||2===t||3===t||4===t||5===t||6===t)(t.eventOriginator))throw new Error(ln("eventOriginator",t.eventOriginator));if(!on(t.additionalParameters)&&null!=t.additionalParameters)throw new Error(ln("additionalParameters",t.additionalParameters));if(null!=t.isFromUserAction&&!an(t.isFromUserAction))throw new Error(ln("isFromUserAction",t.isFromUserAction))}(t),this.lastAction_=this.isReadyPromise_.then((()=>{for(let e=0;e<this.filterers_.length;e++)try{if(1===this.filterers_[e](t))return s()}catch(t){vt(t)}for(let n=0;n<this.listeners_.length;n++)try{this.listeners_[n](t,e)}catch(t){vt(t)}return s()}))}logSwgEvent(t,e=!1,n=null){this.logEvent({eventType:t,eventOriginator:1,isFromUserAction:e,additionalParameters:n})}getReadyPromise(){return this.isReadyPromise_}},un="replace-subscription",cn="c",gn=null;function pn(t){if(!gn){gn={};let e="";try{const n=je(t.location.hash)["swg.experiments"];n&&(e+=","+n)}catch(t){Yt.throwAsync(t)}for(let n of e.split(","))if(n=n.trim(),n)try{dn(t,gn,n)}catch(t){Yt.throwAsync(t)}}return gn}function dn(t,e,n){let s,i,o=!1;const r=n.indexOf(":");if(-1==r?(s=n,i=100,o=!1):(s=n.substring(0,r).trim(),(n=n.substring(r+1)).substring(n.length-1)==cn&&(o=!0,n=n.substring(0,n.length-1)),i=parseInt(n,10)),isNaN(i))throw new Error("invalid fraction");let a;if(i>99)a=!0;else if(i<1)a=!1;else if(t.sessionStorage){o=o&&i<=20;try{const e="subscribe.google.com:e:"+s+":"+i+(o?"c":"");let n="e"==(l=t.sessionStorage.getItem(e))?"e":l==cn?cn:null;!n&&100*t.Math.random()<=i*(o?2:1)&&(n=!o||t.Math.random()<=.5?"e":cn,t.sessionStorage.setItem(e,n)),a=!!n,n==cn&&(s="c-"+s)}catch(t){a=!1,Yt.throwAsync(t)}}else a=!1;var l;e[s]=a}function mn(t,e){return pn(t)[e]||!1}function fn(t){const e=pn(t),n=[];for(const t in e)e[t]&&n.push(t);return n}function bn(t){return new pt([Math.floor(t/1e3),t%1e3*1e6],!1)}var wn={opacity:"0",position:"absolute",top:"-10px",left:"-10px",height:"1px",width:"1px"},vn="AnalyticsService timed out waiting for a response";function xn(t){const e=new ot;return e.setComplete(!1),e.setError(t),e}var yn={"en":"Subscribe with Google","ar":"Google اشترك مع","de":"Abonnieren mit Google","en-au":"Subscribe with Google","en-ca":"Subscribe with Google","en-gb":"Subscribe with Google","en-us":"Subscribe with Google","es":"Suscríbete con Google","es-419":"Suscríbete con Google","es-latam":"Suscríbete con Google","es-latn":"Suscríbete con Google","fr":"S'abonner avec Google","fr-ca":"S'abonner avec Google","hi":"Google के ज़रिये सदस्यता","id":"Berlangganan dengan Google","it":"Abbonati con Google","ja":"Google で購読","ko":"Google 을 통한구독","ms":"Langgan dengan Google","nl":"Abonneren via Google","no":"Abonner med Google","pl":"Subskrybuj z Google","pt":"Subscrever com o Google","pt-br":"Assine com o Google","ru":"Подпиcка через Google","sv":"Prenumerera med Google","th":"สมัครฟาน Google","tr":"Google ile Abone Ol","uk":"Підписатися через Google","zh-cn":"通过 Google 订阅","zh-hk":"透過 Google 訂閱","zh-tw":"透過 Google 訂閱"},An={"en":"Contribute with Google","ar":"المساهمة باستخدام Google","de":"Mit Google beitragen","en-au":"Contribute with Google","en-ca":"Contribute with Google","en-gb":"Contribute with Google","en-us":"Contribute with Google","es":"\tContribuye con Google","es-419":"Contribuir con Google","es-latam":"Contribuir con Google","es-latn":"Contribuye con Google","fr":"Contribuer avec Google","fr-ca":"Contribuer avec Google","hi":"Google खाते की मदद से योगदान करें","id":"Berkontribusi dengan Google","it":"Contribuisci con Google","ja":"Google で寄付","ko":"Google을 통해 참여하기","ms":"Sumbangkan dengan Google","nl":"Bijdragen met Google","no":"Bidra med Google","pl":"Wesprzyj publikację przez Google","pt":"Contribuir utilizando o Google","pt-br":"Contribua usando o Google","ru":"Внести средства через Google","sv":"Bidra med Google","th":"มีส่วนร่วมผ่าน Google","tr":"Google ile Katkıda Bulun","uk":"Зробити внесок через Google","zh-cn":"通过 Google 捐赠","zh-hk":"透過 Google 提供內容","zh-tw":"透過 Google 捐款"},In={"frameborder":"0","scrolling":"no"},kn="light";function Cn(t,e){const n=t.en;if("object"!=typeof t||!e)return n;let s="string"==typeof e?e:(i=e).lang?i.lang:i.ownerDocument&&i.ownerDocument.documentElement.lang?i.ownerDocument.documentElement.lang:"en";var i;s=s.toLowerCase(),s=s.replace(/_/g,"-");const o=s.split("-");for(;o.length;){const e=o.join("-");if(e in t)return t[e];o.pop()}return n}var En='<div class="swg-button-v2-icon-$theme$"></div>$textContent$',Nn=class{constructor({attributionParams:t,autoPromptConfig:e,paySwgVersion:n,uiPredicates:s,usePrefixedHostPath:i,useUpdatedOfferFlows:o,skipAccountCreationScreen:r}={}){this.autoPromptConfig=e,this.paySwgVersion=n,this.usePrefixedHostPath=i||!1,this.useUpdatedOfferFlows=o||!1,this.skipAccountCreationScreen=r||!1,this.uiPredicates=s,this.attributionParams=t}},Tn={"frameborder":0,"scrolling":"no","src":"about:blank"};function Pn(t,e,n,s){const i=t.ownerDocument.defaultView,o=t.style.transition||"";return new Promise((o=>{i.setTimeout((()=>{i.setTimeout(o,n);const r=`${n}ms ${s}`;zt(t,Object.assign({"transition":`transform ${r}, opacity ${r}`},e))}))})).then((()=>{zt(t,{"transition":o})}))}var Sn=class{constructor(t,e){this.doc_=t,this.fadeBackground_=this.doc_.getWin().document.createElement("swg-popup-background"),zt(this.fadeBackground_,{"z-index":e,"display":"none","pointer-events":"none","position":"fixed","top":0,"right":0,"bottom":0,"left":0,"background-color":"rgba(32, 33, 36, .6)"})}getElement(){return this.fadeBackground_}isAttached(){return!!this.fadeBackground_.parentNode}attach(){this.doc_.getBody().appendChild(this.fadeBackground_)}destroy(){this.doc_.getBody().removeChild(this.fadeBackground_)}show(t=!0){if(zt(this.fadeBackground_,{"display":"block","opacity":t?0:1}),t)return Pn(this.fadeBackground_,{"opacity":1},300,"ease-out")}hide(t=!0){if(t)return Pn(this.fadeBackground_,{"opacity":0},300,"ease-out").then((()=>{zt(this.fadeBackground_,{"display":"none"})}));zt(this.fadeBackground_,{"display":"none"})}};function _n(t){const e=function(t){return t.readyState}(t);return"loading"!=e&&"uninitialized"!=e}function Ln(t){return 9===t.nodeType||t.document?new class{constructor(t){const e=!!t.document;this.win_=e?t:t.defaultView,this.doc_=e?t.document:t}getWin(){return this.win_}getRootNode(){return this.doc_}getRootElement(){return this.doc_.documentElement}getHead(){return this.doc_.head}getBody(){return this.doc_.body}isReady(){return _n(this.doc_)}whenReady(){return t=this.doc_,new Promise((e=>{!function(t,e){!function(t,e,n){if(e(t))return void n(t);let s=!1;const i=()=>{e(t)&&!s&&(n(t),s=!0,t.removeEventListener("readystatechange",i))};t.addEventListener("readystatechange",i)}(t,_n,e)}(t,e)}));var t}addToFixedLayer(t){return s()}}(t):t}var Rn=2147483647,On={"min-height":"50px","border":"none","display":"block","position":"fixed","z-index":Rn,"box-sizing":"border-box"},Mn={"position":"absolute","top":"0","left":"0","right":"0","bottom":"0","opacity":0,"height":0,"max-height":"100%","max-width":"100%","min-height":"100%","min-width":"100%","width":0},jn="rgba(60, 64, 67, 0.3) 0px -2px 5px, rgba(60, 64, 67, 0.15) 0px -5px 5px",Gn=["known_user","newsletter_user","registration_user"],Un={1:"/metertoastiframe",2:"/meteriframe"},Dn="SUPPRESSED",zn={"height":0},Bn={"frameborder":"0","scrolling":"no","class":"swg-toast"},Fn={[pe]:1,[de]:2,[me]:3,[fe]:1004,[be]:F,[we]:B,[ve]:z,[xe]:3e3},$n={0:null,1:pe,2:de,3:me,4:null,5:null,1e3:null,[z]:ve,1002:null,1003:null,1004:fe,[B]:we,[F]:be,[$]:null,3e3:xe},Vn={"EVENT_SHOWCASE_METER_OFFERED":[q,3011],"EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION":[V],"EVENT_SHOWCASE_UNLOCKED_BY_METER":[q,W],"EVENT_SHOWCASE_UNLOCKED_FREE_PAGE":[3012],"EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL":[K,22,23],"EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL":[K,1],"EVENT_SHOWCASE_INELIGIBLE_PAYWALL":[3013,K]},Wn={22:2001,[W]:Y,[V]:1001,3012:1002,1:2002,3013:2003},Kn=(t,e,n,s)=>({eventCategory:t,eventAction:e,eventLabel:n,nonInteraction:s}),qn={3:Kn("NTG paywall","paywall modal impression","",!0),26:Kn("NTG membership","offer impressions","",!0),[F]:Kn("NTG paywall","click","",!1),1030:Kn("NTG subscription","marketing modal click","",!1),24:Kn("NTG subscription","marketing modal impression","",!0),1031:Kn("NTG membership","marketing modal click","",!1),25:Kn("NTG membership","membership modal impression","",!0),35:Kn("NTG newsletter","newsletter modal impression","",!0),3024:Kn("NTG newsletter","newsletter signup","success",!1),34:Kn("NTG account","registration modal impression","",!0),3023:Kn("NTG account","registration","success",!1),1070:Kn("","survey submission","",!1)},Hn={[z]:Kn("NTG subscription","submit","success",!1)},Yn={[z]:Kn("NTG membership","submit","success",!1)};function Jn(t){return Fn[t]}function Qn(t,e=!1){const n=je(t);return!(!(n.gaa_at&&n.gaa_n&&n.gaa_sig&&n.gaa_ts)||!e&&"na"===n.gaa_at||parseInt(n.gaa_ts,16)<Date.now()/1e3)}var Zn="toast",Xn="ents",ts="isreadytopay";function es(t,e){const n=je(t.hash)["swg.deventitlement"];return void 0===n?e:Ge(e,"devEnt",n)}var ns=["GET","POST"],ss={document:1,text:2};function is(t,e){return new Promise((function(n,s){const i=function(t,e){const n=new XMLHttpRequest;if(!("withCredentials"in n))throw new Error("CORS is not supported");return n.open(t,e,!0),n}(e.method||"GET",t);if("include"==e.credentials&&(i.withCredentials=!0),e.responseType in ss&&(i.responseType=e.responseType),e.headers)for(const t of Object.keys(e.headers))i.setRequestHeader(t,e.headers[t]);i.onreadystatechange=()=>{if(!(i.readyState<2))return i.status<100||i.status>599?(i.onreadystatechange=null,void s(new Error(`Unknown HTTP status ${i.status}`))):void(4==i.readyState&&n(new os(i)))},i.onerror=()=>{s(new Error("Network failure"))},i.onabort=()=>{s(new Error("Request aborted"))},"POST"==e.method?i.send(e.body):i.send()}))}var os=class{constructor(t){this.xhr_=t,this.status=this.xhr_.status,this.ok=this.status>=200&&this.status<300,this.headers=new rs(t),this.bodyUsed=!1,this.body=null}clone(){return yt(!this.bodyUsed,"Body already used"),new os(this.xhr_)}drainText_(){return yt(!this.bodyUsed,"Body already used"),this.bodyUsed=!0,Promise.resolve(this.xhr_.responseText)}text(){return this.drainText_()}json(){return this.drainText_().then(Xt)}arrayBuffer(){return this.drainText_().then(St)}},rs=class{constructor(t){this.xhr_=t}get(t){return this.xhr_.getResponseHeader(t)}has(t){return null!=this.xhr_.getResponseHeader(t)}},as=/^(\)\]\}'\n)/,ls=class{constructor(t){this.deps_=t,this.eventManager_=t.eventManager()}start(){this.eventManager_.registerEventListener(this.handleClientEvent_.bind(this))}handleClientEvent_(t,e){const n=ls.isGaEligible(this.deps_),s=ls.isGtagEligible(this.deps_);if(!n&&!s)return;const{ga:i,gtag:o}=this.deps_.win();let r="";t.additionalParameters&&(r=t.additionalParameters.subscriptionFlow||t.additionalParameters.getSubscriptionFlow());let a=function(t,e){let n=null;return e&&(e==Ee?n=Hn[t]:e==Ne&&(n=Yn[t])),n||qn[t]}(t.eventType,r);if(!a)return;const l=(null==e?void 0:e.googleAnalyticsParameters)||{};if(a=x(x({},a),{},{eventCategory:l.event_category||a.eventCategory,eventLabel:l.event_label||a.eventLabel}),n&&i("send","event",a),s){const t=x({"event_category":a.eventCategory,"event_label":a.eventLabel,"non_interaction":a.nonInteraction},l);o("event",a.eventAction,t)}}static isGaEligible(t){return rn(t.win().ga)}static isGtagEligible(t){return rn(t.win().gtag)}};function hs(t){let e=null,n="";for(let t=0;t<arguments.length;t++){const s=arguments[t];s instanceof Error&&!e?e=us(s):(n&&(n+=" "),n+=s)}return e?n&&(e.message=n+": "+e.message):e=new Error(n),e}function us(t){const e=Object.getOwnPropertyDescriptor(t,"message");if(e&&e.writable)return t;const{message:n,stack:s}=t,i=new Error(n);for(const e in t)i[e]=t[e];return i.stack=s,i}var cs="swg-link",gs=class{static configurePending(t){t.activities().onResult(cs,(function(e){return t.entitlementsManager().blockNextNotification(),t.callbacks().triggerLinkProgress(),t.dialogManager().popupClosed(),bt(e,Ve(),!1,!1).then((e=>{t.eventManager().logSwgEvent(1011,!0),t.eventManager().logSwgEvent(3029),new gs(t,e).start()}),(e=>{qt(e)?(t.eventManager().logSwgEvent(1012,!0),t.callbacks().triggerFlowCanceled(Pe)):t.eventManager().logSwgEvent(1011,!0)}))}))}constructor(t,e){this.deps_=t,this.win_=t.win(),this.clientConfigManager_=t.clientConfigManager(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.entitlementsManager_=t.entitlementsManager(),this.callbacks_=t.callbacks(),this.activityIframeView_=null,this.response_=e||{},this.completeResolver_=null,this.completePromise_=new Promise((t=>{this.completeResolver_=t}))}start(){return this.response_.saveAndRefresh?(this.complete_(this.response_,this.response_.linked),s()):this.clientConfigManager_.getClientConfig().then((t=>{const e=this.response_.index||"0";return this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/linkconfirmiframe",{},t.usePrefixedHostPath,"u/"+e),Ye({"productId":this.deps_.pageConfig().getProductId(),"publicationId":this.deps_.pageConfig().getPublicationId()}),!0),this.activityIframeView_.acceptResultAndVerify(Ve(),!0,!0).then(((t={})=>{this.complete_(t,!!t.success)})).catch((t=>{setTimeout((()=>{throw t}))})).then((()=>{this.dialogManager_.completeView(this.activityIframeView_)})),this.deps_.eventManager().logSwgEvent(3005,!0),this.deps_.eventManager().logSwgEvent(14,!0),this.dialogManager_.openView(this.activityIframeView_)}))}complete_(t,e){this.deps_.eventManager().logSwgEvent(1013,!0);const n=t.swgUserToken;n&&this.deps_.storage().set(Zt.USER_TOKEN,n,!0),this.callbacks_.triggerLinkComplete(),this.callbacks_.resetLinkProgress(),this.entitlementsManager_.setToastShown(!0),this.entitlementsManager_.unblockNextNotification(),this.entitlementsManager_.reset(e),t&&t.entitlements&&this.entitlementsManager_.pushNextEntitlements(t.entitlements),this.completeResolver_()}whenComplete(){return this.completePromise_}},ps={Environment:{LOCAL:"LOCAL",PREPROD:"PREPROD",PRODUCTION:"PRODUCTION",SANDBOX:"SANDBOX",TEST:"TEST",TIN:"TIN"},PaymentMethod:{CARD:"CARD",TOKENIZED_CARD:"TOKENIZED_CARD",UPI:"UPI"},AuthMethod:{CRYPTOGRAM_3DS:"CRYPTOGRAM_3DS",PAN_ONLY:"PAN_ONLY"},ResponseStatus:{CANCELED:"CANCELED",DEVELOPER_ERROR:"DEVELOPER_ERROR"},TotalPriceStatus:{ESTIMATED:"ESTIMATED",FINAL:"FINAL",NOT_CURRENTLY_KNOWN:"NOT_CURRENTLY_KNOWN"},ButtonType:{SHORT:"short",LONG:"long"},ButtonColor:{DEFAULT:"default",BLACK:"black",WHITE:"white"},Id:{POPUP_WINDOW_CONTAINER:"popup-window-container"},STORAGE_KEY_PREFIX:"google.payments.api.storage"};ps.IS_READY_TO_PAY_RESULT_KEY=ps.STORAGE_KEY_PREFIX+".isreadytopay.result",ps.UPI_CAN_MAKE_PAYMENT_CACHE_KEY=ps.STORAGE_KEY_PREFIX+".upi.canMakePaymentCache",ps.CLASS_PREFIX="google-payments-",ps.IFRAME_ACTIVE_CONTAINER_CLASS=`${ps.CLASS_PREFIX}activeContainer`,ps.IFRAME_CONTAINER_CLASS=`${ps.CLASS_PREFIX}dialogContainer`,ps.IFRAME_STYLE_CENTER_CLASS=`${ps.CLASS_PREFIX}dialogCenter`,ps.IFRAME_STYLE_CLASS=`${ps.CLASS_PREFIX}dialog`,ps.IFRAME_STYLE=`\n.${ps.IFRAME_STYLE_CLASS} {\n    animation: none 0s ease 0s 1 normal none running;\n    background: none 0 0 / auto repeat scroll padding-box border-box #fff;\n    background-blend-mode: normal;\n    border: 0 none #333;\n    border-radius: 8px 8px 0 0;\n    border-collapse: separate;\n    bottom: 0;\n    box-shadow: #808080 0 3px 0 0, #808080 0 0 22px;\n    box-sizing: border-box;\n    letter-spacing: normal;\n    max-height: 100%;\n    overflow: visible;\n    position: fixed;\n    width: 100%;\n    z-index: 2147483647;\n    -webkit-appearance: none;\n    left: 0;\n}\n@media (min-width: 480px) {\n  .${ps.IFRAME_STYLE_CLASS} {\n    width: 480px !important;\n    left: -240px !important;\n    margin-left: calc(100vw - 100vw / 2) !important;\n  }\n}\n.${ps.IFRAME_CONTAINER_CLASS} {\n  background-color: rgba(0,0,0,0.26);\n  bottom: 0;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  right: 0;\n}\n.iframeContainer {\n  -webkit-overflow-scrolling: touch;\n}\n`,ps.IFRAME_STYLE_CENTER=`\n.${ps.IFRAME_STYLE_CENTER_CLASS} {\n  animation: none 0s ease 0s 1 normal none running;\n  background-blend-mode: normal;\n  background: none 0 0 / auto repeat scroll padding-box border-box #fff;\n  border-collapse: separate;\n  border-radius: 8px;\n  border: 0px none #333;\n  bottom: auto;\n  box-shadow: #808080 0 0 22px;\n  box-sizing: border-box;\n  left: -240px;\n  letter-spacing: normal;\n  margin-left: calc(100vw - 100vw / 2) !important;\n  max-height: 90%;\n  overflow: visible;\n  position: absolute;\n  top: 100%;\n  transform: scale(0.8);\n  width: 480px;\n  z-index: 2147483647;\n  -webkit-appearance: none;\n}\n@media (min-height: 667px) {\n  .${ps.IFRAME_STYLE_CENTER_CLASS} {\n    max-height: 600px;\n  }\n}\n.${ps.IFRAME_ACTIVE_CONTAINER_CLASS} {\n  top: 50%;\n  transform: scale(1.0) translateY(-50%);\n}\n`,ps.GPAY_BUTTON_WITH_CARD_INFO_IMAGE="background-image: url(https://pay.google.com/gp/p/generate_gpay_btn_img);",ps.BUTTON_LOCALE_TO_MIN_WIDTH={"en":152,"bg":163,"cs":192,"de":183,"es":183,"fr":183,"hr":157,"id":186,"ja":148,"ko":137,"ms":186,"nl":167,"pl":182,"pt":193,"ru":206,"sk":157,"sl":211,"sr":146,"tr":161,"uk":207,"zh":156},ps.GPAY_GRAYPANE="gpay-graypane",ps.GPAY_BUTTON_CLASS="gpay-button",ps.BUTTON_STYLE=`\n.${ps.GPAY_BUTTON_CLASS} {\n  background-origin: content-box;\n  background-position: center center;\n  background-repeat: no-repeat;\n  background-size: contain;\n  border: 0px;\n  border-radius: 4px;\n  box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 1px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n  cursor: pointer;\n  height: 40px;\n  min-height: 40px;\n  padding: 11px 24px;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.black {\n  background-color: #000;\n  box-shadow: none;\n  padding: 12px 24px 10px;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.white {\n  background-color: #fff;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.short {\n  min-width: 90px;\n  width: 160px;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.black.short {\n  background-image: url(https://www.gstatic.com/instantbuy/svg/dark_gpay.svg);\n}\n\n.${ps.GPAY_BUTTON_CLASS}.white.short {\n  background-image: url(https://www.gstatic.com/instantbuy/svg/light_gpay.svg);\n}\n\n.${ps.GPAY_BUTTON_CLASS}.black.active {\n  background-color: #5f6368;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.black.hover {\n  background-color: #3c4043;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.white.active {\n  background-color: #fff;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.white.focus {\n  box-shadow: #e8e8e8 0 1px 1px 0, #e8e8e8 0 1px 3px;\n}\n\n.${ps.GPAY_BUTTON_CLASS}.white.hover {\n  background-color: #f8f8f8;\n}\n`,ps.GPAY_BUTTON_WITH_OFFER_ICON_ADDITIONAL_STYLE="position: relative;",ps.GPAY_OFFER_ICON_CLASS="gpay-offer-icon",ps.GPAY_OFFER_ICON_SVG='<svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" class="gpay-offer-icon"><defs><path d="M19.41,9.58 L10.41,0.58 C10.05,0.22 9.55,0 9,0 L2,0 C0.9,0 0,0.9 0,2 L0,9 C0,9.55 0.22,10.05 0.59,10.42 L9.59,19.42 C9.95,19.78 10.45,20 11,20 C11.55,20 12.05,19.78 12.41,19.41 L19.41,12.41 C19.78,12.05 20,11.55 20,11 C20,10.45 19.77,9.94 19.41,9.58 Z" id="path-1"></path></defs><g id="buttons_10.05" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"><g id="Artboard" transform="translate(-40.000000, -43.000000)"><g id="Group-3" transform="translate(40.000000, 43.000000)"><g id="Group-2-Copy-2"><g id="Group-Copy"><g id="ic_loyalty_24px"><mask id="mask-2" fill="white"><use xlink:href="#path-1"></use></mask><use id="gpay-Shape" fill="#FF6100" fill-rule="nonzero" xlink:href="#path-1"></use><path d="M3.5,5 C2.67,5 2,4.33 2,3.5 C2,2.67 2.67,2 3.5,2 C4.33,2 5,2.67 5,3.5 C5,4.33 4.33,5 3.5,5 Z" id="Path" fill="#FFFFFF" fill-rule="nonzero" mask="url(#mask-2)"></path></g></g></g><g id="Group-13-Copy-7" transform="translate(6.000000, 6.000000)" fill="#FFFFFF" fill-rule="nonzero"><g id="Group-13-Copy-2"><path d="M2.15217391,4.55172414 C0.963561082,4.55172414 1.99840144e-14,3.53278598 1.99840144e-14,2.27586207 C1.99840144e-14,1.01893816 0.963561082,6.30606678e-14 2.15217391,6.30606678e-14 C3.34078674,6.30606678e-14 4.30434783,1.01893816 4.30434783,2.27586207 C4.30434783,3.53278598 3.34078674,4.55172414 2.15217391,4.55172414 Z M2.15217391,3.31034483 C2.69245247,3.31034483 3.13043478,2.84719112 3.13043478,2.27586207 C3.13043478,1.70453302 2.69245247,1.24137931 2.15217391,1.24137931 C1.61189535,1.24137931 1.17391304,1.70453302 1.17391304,2.27586207 C1.17391304,2.84719112 1.61189535,3.31034483 2.15217391,3.31034483 Z" id="Combined-Shape"></path><path d="M6.84782609,9 C5.65921326,9 4.69565217,7.98106184 4.69565217,6.72413793 C4.69565217,5.46721402 5.65921326,4.44827586 6.84782609,4.44827586 C8.03643892,4.44827586 9,5.46721402 9,6.72413793 C9,7.98106184 8.03643892,9 6.84782609,9 Z M6.84782609,7.75862069 C7.38810465,7.75862069 7.82608696,7.29546698 7.82608696,6.72413793 C7.82608696,6.15280888 7.38810465,5.68965517 6.84782609,5.68965517 C6.30754753,5.68965517 5.86956522,6.15280888 5.86956522,6.72413793 C5.86956522,7.29546698 6.30754753,7.75862069 6.84782609,7.75862069 Z" id="Combined-Shape"></path><polygon id="Rectangle" transform="translate(4.497720, 4.541938) rotate(34.000000) translate(-4.497720, -4.541938) " points="3.77901778 -0.202295978 4.9740273 -0.171019161 5.21642263 9.28617278 4.02141311 9.25489596"></polygon></g></g></g></g></g></svg>',ps.GPAY_OFFER_ICON_STYLE=`\n.${ps.GPAY_OFFER_ICON_CLASS} {\n  position: absolute;\n  right: -5px;\n  top: -5px;\n}\n\n#ic_loyalty_24px use.hover {\n  fill: #FC853B;\n}\n`,ps.GPAY_OFFER_DESCRIPTION_CLASS="gpay-offer-description",ps.GPAY_OFFER_DESCRIPTION_STYLE=`\n@import url(//fonts.googleapis.com/css?family=Google+Sans:500);\n.${ps.GPAY_OFFER_DESCRIPTION_CLASS} {\n  text-align: center;\n  font: 10px 'Google Sans';\n  margin-top: 2px;\n  margin-bottom: 0px;\n}\n\n.${ps.GPAY_OFFER_DESCRIPTION_CLASS}.gpay-btn-clicked {\n  color: #3C4043;\n}\n\n.${ps.GPAY_OFFER_DESCRIPTION_CLASS}.short {\n  min-width: 90px;\n  width: 160px;\n}\n\n.${ps.GPAY_OFFER_DESCRIPTION_CLASS}.long {\n  min-width: 152px;\n  width: 240px;\n}\n`,ps.GPAY_BUTTON_CARD_INFO_CLASS="gpay-card-info-btn",ps.GPAY_BUTTON_CARD_INFO_BUTTON_STYLE=`\n  .${ps.GPAY_BUTTON_CARD_INFO_CLASS} {\n    background-origin: content-box;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-size: contain;\n    border: 0px;\n    border-radius: 4px;\n    box-shadow: rgba(60, 64, 67, 0.3) 0px 1px 1px 0px, rgba(60, 64, 67, 0.15) 0px 1px 3px 1px;\n    cursor: pointer;\n    height: 40px;\n    min-height: 40px;\n    padding: 11px 24px;\n    background-color: #000;\n    box-shadow: none;\n    padding: 9px 24px 10px;\n    min-width: 190px;\n    width: 240px;\n  }\n\n  .${ps.GPAY_BUTTON_CARD_INFO_CLASS}.active {\n    background-color: #5f6368;\n  }\n\n  .${ps.GPAY_BUTTON_CARD_INFO_CLASS}.hover {\n    background-color: #3c4043;\n  }\n  `,ps.TRUSTED_DOMAIN=".google.com";var ds=null,ms=null,fs=null,bs=null,ws=Date.now(),vs=null,xs=!1,ys=[],As=class{static load(){if(ds)return;const t=window.gpayInitParams||{};fs=t.environment||ps.Environment.PRODUCTION,(ds=document.createElement("iframe")).src=As.getIframeUrl_(window.location.origin,t.merchantInfo&&t.merchantInfo.merchantId),As.postMessage({"eventType":15,"clientLatencyStartMs":Date.now()}),ds.height="0",ds.width="0",ds.style.display="none",ds.style.visibility="hidden",ds.onload=function(){As.postMessage({"eventType":17,"clientLatencyStartMs":Date.now()}),As.iframeLoaded()},document.body?As.initialize_():document.addEventListener("DOMContentLoaded",(()=>As.initialize_()))}static initialize_(){document.body.appendChild(ds),ms=new class{constructor(t){this.window_=t}postMessage(t,e){this.window_.postMessage(t,e)}}(ds.contentWindow)}static sendAndWaitForResponse(t,e,n,s){As.addMessageEventListener_((function t(e){e.data[n]&&(s(e),As.removeMessageEventListener_(t))}));const i=Object.assign({"eventType":e},t);As.postMessage(i)}static addMessageEventListener_(t){window.addEventListener("message",t)}static removeMessageEventListener_(t){window.removeEventListener("message",t)}static postMessage(t){if(!xs)return void ys.push(t);const e=Object.assign({"buyFlowActivityMode":vs,"googleTransactionId":bs,"originTimeMs":ws},t);ms.postMessage(e,As.getIframeOrigin_())}static setBuyFlowActivityMode(t){vs=t}static setGoogleTransactionId(t){bs=t}static setOriginTimeMs(t){ws=t}static setPostMessageService(t){ms=t}static reset(){ds=null,ys.length=0,xs=!1,vs=null}static setIframeLoaded(t){xs=t}static iframeLoaded(){xs=!0,ys.forEach((function(t){As.postMessage(t)})),ys.length=0}static getBuffer(){return ys}static injectIframeForTesting(){As.reset(),ds=document.createElement("p"),As.iframeLoaded()}static getIframeOrigin_(){let t="https://pay";return fs==ps.Environment.SANDBOX?t+=".sandbox":fs==ps.Environment.PREPROD&&(t+="-preprod.sandbox"),t+".google.com"}static getIframeUrl_(t,e){return`https://pay${fs==ps.Environment.PREPROD?"-preprod.sandbox":fs==ps.Environment.SANDBOX?".sandbox":""}.google.com/gp/p/ui/payframe?origin=${t}&mid=%{merchantId}`}};function Is(t,e){for(const n in e)t.style.setProperty(n,e[n].toString(),"important")}function ks(t,e,n,s){const i=t.ownerDocument.defaultView,o=t.style.transition||"";return new Promise((o=>{i.setTimeout((()=>{i.setTimeout(o,n);const r=`${n}ms ${s}`;Is(t,Object.assign({"transition":`transform ${r}, opacity ${r}`},e))}))})).then((()=>{Is(t,Object.assign({"transition":o},e))}))}function Cs(){if(-1!=window.navigator.userAgent.indexOf("OPR/"))return!1;const t=window.navigator.userAgent.match(/Android/i),e=window.navigator.userAgent.match(/Chrome\/([0-9]+)\./i);return null!=t&&"PaymentRequest"in window&&"Google Inc."==window.navigator.vendor&&null!=e&&Number(e[1])>=59}function Es(t){if(t.apiVersion>=2){const e=Rs(t);if(e&&1==e.length&&e[0]==ps.AuthMethod.CRYPTOGRAM_3DS)return!0}return 1==t.allowedPaymentMethods.length&&t.allowedPaymentMethods[0]==ps.PaymentMethod.TOKENIZED_CARD}function Ns(t,e){if(t.apiVersion>=2){const n=Rs(t);return!(!n||!n.includes(e))}return!1}function Ts(){return window.location.hostname.endsWith(ps.TRUSTED_DOMAIN)||void 0===window.isSecureContext||window.isSecureContext?null:"Google Pay APIs should be called in secure context!"}function Ps(t){return Object.values(ps.PaymentMethod).includes(t)}function Ss(t){return Object.values(ps.AuthMethod).includes(t)}function _s(t){if(!t)return"paymentDataRequest must be set!";if(t.swg)return(e=t.swg)?e.skuId&&e.publicationId?null:"Both skuId and publicationId must be provided":"Swg parameters must be provided";var e;if(!t.transactionInfo)return"transactionInfo must be set!";if(!t.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set!";if(!t.transactionInfo.totalPriceStatus||!Object.values(ps.TotalPriceStatus).includes(t.transactionInfo.totalPriceStatus))return"totalPriceStatus in transactionInfo must be set to one of NOT_CURRENTLY_KNOWN, ESTIMATED or FINAL!";if("NOT_CURRENTLY_KNOWN"!==t.transactionInfo.totalPriceStatus&&!t.transactionInfo.totalPrice)return"totalPrice in transactionInfo must be set when totalPriceStatus is ESTIMATED or FINAL!";const n=Ls(t);if(n){if(!n.parameters)return"parameters must be set in allowedPaymentMethod!";var s=n.parameters;if(!s.payeeVpa)return"payeeVpa in allowedPaymentMethod parameters must be set!";if(!s.payeeName)return"payeeName in allowedPaymentMethod parameters must be set!";if(!s.referenceUrl)return"referenceUrl in allowedPaymentMethod parameters must be set!";if(!s.mcc)return"mcc in allowedPaymentMethod parameters must be set!";if(!s.transactionReferenceId)return"transactionReferenceId in allowedPaymentMethod parameters must be set!";if("INR"!==t.transactionInfo.currencyCode)return"currencyCode in transactionInfo must be set to INR!";if("FINAL"!==t.transactionInfo.totalPriceStatus)return"totalPriceStatus in transactionInfo must be set to FINAL!";if(!t.transactionInfo.transactionNote)return"transactionNote in transactionInfo must be set!"}return null}function Ls(t){return!Cs()||t.apiVersion<2||!t.allowedPaymentMethods?null:Os(t,ps.PaymentMethod.UPI)}function Rs(t){if(t.allowedPaymentMethods){const e=Os(t,ps.PaymentMethod.CARD);if(e&&e.parameters)return e.parameters.allowedAuthMethods}return null}function Os(t,e){for(var n=0;n<t.allowedPaymentMethods.length;n++){const s=t.allowedPaymentMethods[n];if(s.type==e)return s}return null}var{ActivityPort:Ms,ActivityPorts:js,ActivityIframePort:Gs}=h(),Us="GPAY",Ds="Safari",zs=class{},Bs="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split("");zs.uuid=function(t,e){var n,s,i=Bs,o=[];if(e=e||i.length,t)for(n=0;n<t;n++)o[n]=i[0|Math.random()*e];else for(o[8]=o[13]=o[18]=o[23]="-",o[14]="4",n=0;n<36;n++)o[n]||(s=0|16*Math.random(),o[n]=i[19==n?3&s|8:s]);return o.join("")},zs.uuidFast=function(){for(var t,e=Bs,n=new Array(36),s=0,i=0;i<36;i++)8==i||13==i||18==i||23==i?n[i]="-":14==i?n[i]="4":(s<=2&&(s=33554432+16777216*Math.random()|0),t=15&s,s>>=4,n[i]=e[19==i?3&t|8:t]);return n.join("")},zs.uuidCompact=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}))},h();var Fs=["actions.google.com","amp-actions.sandbox.google.com","amp-actions-staging.sandbox.google.com","amp-actions-autopush.sandbox.google.com","payments.developers.google.com","payments.google.com"],$s=class{constructor(t,e,n,s){var i;this.onPaymentResponse_=e,function(t){if(t.environment&&!Object.values(ps.Environment).includes(t.environment))throw new Error("Parameter environment in PaymentOptions can optionally be set to PRODUCTION, otherwise it defaults to TEST. "+t.environment)}(t),this.loadPaymentDataApiStartTimeMs_=null,this.environment_=t.environment||ps.Environment.TEST,$s.googleTransactionId_||($s.googleTransactionId_=this.isInTrustedDomain_()&&t.i&&t.i.googleTransactionId?t.i.googleTransactionId:(i=this.environment_,zs.uuidFast()+"."+i)),this.paymentOptions_=t,this.webActivityDelegate_=new class{constructor(t,e,n,s,i){this.environment_=t,this.activities=s||new js(window),this.graypane_=new class{constructor(t){this.doc_=t,this.element_=t.createElement(ps.GPAY_GRAYPANE),Is(this.element_,{"z-index":2147483647,"display":"none","position":"fixed","top":0,"right":0,"bottom":0,"left":0,"background-color":"rgba(32, 33, 36, .6)"}),this.popupWindow_=null,this.element_.addEventListener("click",(()=>{if(this.popupWindow_)try{this.popupWindow_.focus()}catch(t){}}))}show(t){return this.popupWindow_=t||null,this.doc_.body.appendChild(this.element_),Is(this.element_,{"display":"block","opacity":0}),ks(this.element_,{"opacity":1},300,"ease-out")}hide(){if(this.popupWindow_=null,this.element_.parentElement)return ks(this.element_,{"opacity":0},300,"ease-out").then((()=>{Is(this.element_,{"display":"none"}),this.doc_.body.removeChild(this.element_)}))}}(window.document),this.callback_=null,this.prefetchedObjects_=null,this.shouldHandleResizing_=!1,this.port_=null,this.dismissPromiseResolver_=null,this.googleTransactionId_=e,this.redirectKey_=i||null,this.savedResizePayload_=null}onResult(t){this.callback_||(this.callback_=t,this.activities.onResult(Us,this.onActivityResult_.bind(this)))}onActivityResult_(t){this.graypane_.hide(),this.callback_(t.acceptResult().then((t=>{if(t.origin!=this.getOrigin_())throw new Error("channel mismatch");const e=t.data;if(e.redirectEncryptedCallbackData)return As.setBuyFlowActivityMode(3),this.fetchRedirectResponse_(e.redirectEncryptedCallbackData).then((t=>{const n=Object.assign({},e);return delete n.redirectEncryptedCallbackData,Object.assign(n,t)}));if(!t.originVerified||!t.secureChannel)throw new Error("channel mismatch");return e}),(t=>{const e=t.message;let n=t.message;try{n=JSON.parse(e.substring("Error: ".length))}catch(t){}return n.statusCode&&-1==["DEVELOPER_ERROR","MERCHANT_ACCOUNT_ERROR"].indexOf(n.statusCode)&&(n={"statusCode":"CANCELED"}),"AbortError"==n&&(n={"statusCode":"CANCELED"}),Promise.reject(n)})))}fetchRedirectResponse_(t){return new Promise(((e,n)=>{const s=this.getDecryptionUrl_(),i=new XMLHttpRequest;i.open("POST",s,!0),"withCredentials"in i&&(i.withCredentials=!0),i.onreadystatechange=()=>{if(!(i.readyState<2)){if(i.status<100||i.status>599)return i.onreadystatechange=null,void n(new Error(`Unknown HTTP status ${i.status}`));if(4==i.readyState)try{e(JSON.parse(i.responseText))}catch(t){n(t)}}},i.onerror=()=>{n(new Error("Network failure"))},i.onabort=()=>{n(new Error("Request aborted"))},i.send(t)}))}isReadyToPay(t){return new Promise(((e,n)=>{if(Es(t))return void e({"result":!1});const s=window.navigator.userAgent;if(s.indexOf("GSA/")>0&&s.indexOf(Ds)>0)return void e({"result":!1});if(s.indexOf("FxiOS")>0)return void e({"result":!1});const i=s.indexOf("Chrome")>0||s.indexOf("Firefox")>0||s.indexOf(Ds)>0;i&&t.apiVersion>=2&&t.existingPaymentMethodRequired?(t.environment=this.environment_,As.sendAndWaitForResponse(t,6,"isReadyToPayResponse",(function(n){const s={"result":i};t.existingPaymentMethodRequired&&(s.paymentMethodPresent="READY_TO_PAY"==n.data.isReadyToPayResponse),e(s)}))):e({"result":i})}))}prefetchPaymentData(t){}loadPaymentData(t){t.swg||t.apiVersion||(t.apiVersion=1),t.environment=this.environment_,As.setBuyFlowActivityMode(t.forceRedirect?3:2);const e=this.activities.open(Us,this.getHostingPageUrl_(),this.getRenderMode_(t),t,{"width":600,"height":600});this.graypane_.show(e&&e.targetWin)}getRenderMode_(t){return t.forceRedirect?"_top":"gp-js-popup"}getOrigin_(){if(this.environment_==ps.Environment.LOCAL)return"";let t;return t=this.environment_==ps.Environment.PREPROD?"pay-preprod.sandbox":this.environment_==ps.Environment.SANDBOX?"pay.sandbox":"pay","https://"+t+".google.com"}getBasePath_(){return this.getOrigin_()+"/gp/p"}getDecryptionUrl_(){let t=this.getBasePath_()+"/apis/buyflow/process";return this.redirectKey_&&(t+="?rk="+encodeURIComponent(this.redirectKey_)),t}getHostingPageUrl_(){return this.environment_==ps.Environment.TIN?"/ui/pay":this.getBasePath_()+"/ui/pay"}getIframeUrl(t,e){let n=`https://pay.google.com/gp/p/ui/pay?origin=${e}`;return t!=ps.Environment.SANDBOX&&t!=ps.Environment.PREPROD||(n=`https://pay'+  (environment == Constants.Environment.PREPROD ? '-preprod' : '')+  '.sandbox.google.com/gp/p/ui/pay?origin=${e}`),n}removeIframeAndContainer_(t,e){this.setTransition_(e,"all 250ms ease 0s"),e.height="0px",setTimeout((()=>{t.parentNode&&t.parentNode.removeChild(t)}),250)}injectIframe_(t){const e=function(t){const e=document.createElement("div");e.classList.add(ps.IFRAME_CONTAINER_CLASS);const n=document.createElement("div");n.classList.add("iframeContainer");const s=document.createElement("iframe");return s.classList.add(t),s.setAttribute("frameborder","0"),s.setAttribute("scrolling","no"),n.appendChild(s),e.appendChild(n),document.body.appendChild(e),{"container":e,"iframe":s}}(this.isVerticalCenterExperimentEnabled_(t)?ps.IFRAME_STYLE_CENTER_CLASS:ps.IFRAME_STYLE_CLASS),n=e.iframe,s=e.container;return s.addEventListener("click",this.closeActionHandler_.bind(this,e)),s.style.display="none",n.style.display="none",n.height="0px",this.setTransition_(n,"all 250ms ease 0s"),this.shouldHandleResizing_=!1,e}backButtonHandler_(t){this.dismissIframe_(t)}closeActionHandler_(t){t.container.parentNode&&history.back()}dismissIframe_(t){t.container.parentNode&&(this.dismissPromiseResolver_(Promise.reject({"errorCode":"CANCELED"})),this.removeIframeAndContainer_(t.container,t.iframe),this.port_&&this.port_.disconnect())}isVerticalCenterExperimentEnabled_(t){return null}showContainerAndIframeWithAnimation_(t,e,n){t.style.display="block",e.style.display="block",setTimeout((()=>{e.height="280px",this.isVerticalCenterExperimentEnabled_(n)&&e.classList.add(ps.IFRAME_ACTIVE_CONTAINER_CLASS),setTimeout((()=>{this.shouldHandleResizing_=!0,this.savedResizePayload_&&(this.setTransition_(e,this.savedResizePayload_.transition),e.height=this.savedResizePayload_.height,this.savedResizePayload_=null)}),250)}),1)}setTransition_(t,e){t.style.setProperty("transition",e),t.style.setProperty("-webkit-transition",e)}openIframe_(t,e,n){let s;n.swg||n.apiVersion||(n.apiVersion=1),n.environment=this.environment_;const i=this.getIframeUrl(this.environment_,window.location.origin);return this.activities.openIframe(e,i,n).then((t=>(this.port_=t,t.onMessage((t=>{"resize"===t.type&&this.shouldHandleResizing_?(s||(s=Date.now()),Date.now()<s+250?this.setTransition_(e,t.transition+", height 250ms"):this.setTransition_(e,t.transition),e.height=t.height):this.savedResizePayload_={"height":t.height,"transition":t.transition}})),t.acceptResult()))).then((n=>(this.removeIframeAndContainer_(t,e),history.back(),n.data)),(n=>(this.removeIframeAndContainer_(t,e),history.back(),Promise.reject(n))))}}(this.environment_,$s.googleTransactionId_,n,s,t.i&&t.i.redirectKey),this.buyFlowMode_=5;const o=Cs();this.delegate_=o&&!n?new class{constructor(t){this.environment_=t,this.callback_=null}onResult(t){this.callback_=t}isReadyToPay(t){const e=this.createPaymentRequest_(t);return new Promise(((n,s)=>{e.canMakePayment().then((e=>{window.sessionStorage.setItem(ps.IS_READY_TO_PAY_RESULT_KEY,e.toString());const s={"result":e};t.apiVersion>=2&&t.existingPaymentMethodRequired&&(s.paymentMethodPresent=e),n(s)})).catch((function(t){window.sessionStorage.getItem(ps.IS_READY_TO_PAY_RESULT_KEY)?n({"result":"true"==window.sessionStorage.getItem(ps.IS_READY_TO_PAY_RESULT_KEY)}):n({"result":!1})}))}))}prefetchPaymentData(t){this.createPaymentRequest_(t,this.environment_,t.transactionInfo.currencyCode,t.transactionInfo.totalPrice)}loadPaymentData(t){this.loadPaymentDataThroughPaymentRequest_(t)}createPaymentRequest_(t,e,n,s){let i={};return t&&(i=JSON.parse(JSON.stringify(t))),i.apiVersion||(i.apiVersion=1),i.swg&&(i.allowedPaymentMethods=[ps.PaymentMethod.CARD]),e&&e==ps.Environment.TEST&&(i.environment=e),new PaymentRequest([{"supportedMethods":["https://google.com/pay"],"data":i}],{"total":{"label":"Estimated Total Price","amount":{"currency":n||"USD","value":s||"0"}}})}loadPaymentDataThroughPaymentRequest_(t){const e=t.transactionInfo&&t.transactionInfo.currencyCode||void 0,n=t.transactionInfo&&t.transactionInfo.totalPrice||void 0,s=this.createPaymentRequest_(t,this.environment_,e,n);this.callback_(s.show().then((t=>(t.complete("success"),t.details))).catch((function(t){throw t.statusCode=ps.ResponseStatus.CANCELED,t})))}}(this.environment_):this.webActivityDelegate_,this.upiHandler_=new class{constructor(){}isUpiRequest(t){return!!Ls(t)}isReadyToPay(t){if(Ls(t))return t.existingPaymentMethodRequired?Promise.resolve({"result":!0,"paymentMethodPresent":!0}):Promise.resolve({"result":!0});throw new Error("No Upi payment method found in handler")}loadPaymentData(t,e,n){const s=e.parameters,i=t.transactionInfo,o=[{"supportedMethods":["https://tez.google.com/pay"],"data":{"pa":s.payeeVpa,"pn":s.payeeName,"tr":s.transactionReferenceId,"url":s.referenceUrl,"mc":s.mcc,"tn":i.transactionNote}}];s.transactionId&&(o[0].data.tid=s.transactionId);const r={"total":{"label":"Total","amount":{"currency":i.currencyCode,"value":i.totalPrice}},"displayItems":[{"label":"Original Amount","amount":{"currency":i.currencyCode,"value":i.totalPrice}}]};let a=new PaymentRequest(o,r);n(this.checkCanMakePayment_(a).then((t=>t?this.showUi_(a):this.redirectToGooglePlay_())).then((n=>this.processData_(n,t,e))).catch((t=>(t.statusCode=ps.ResponseStatus.CANCELED,Promise.reject(t)))))}showUi_(t){return t.show().then((t=>(t.complete("success"),t.details)))}checkCanMakePayment_(t){const e=window.sessionStorage.getItem(ps.UPI_CAN_MAKE_PAYMENT_CACHE_KEY);return e?Promise.resolve("true"===e):t.canMakePayment?t.canMakePayment().then((t=>(t&&window.sessionStorage.setItem(ps.UPI_CAN_MAKE_PAYMENT_CACHE_KEY,t.toString()),t))):Promise.resolve(!0)}redirectToGooglePlay_(){return window.location.replace("https://play.google.com/store/apps/details?id=com.google.android.apps.nbu.paisa.user"),Promise.reject({"errorMessage":"Cannot redirect to Tez page in Google Play."})}processData_(t,e,n){const s=JSON.parse(t.tezResponse);if("FAILURE"===s.Status){let t;switch(s.responseCode){case"ZM":t={"errorCode":3,"errorMessage":"Payment failure due to invalid MPIN."};break;case"Z9":t={"errorCode":3,"errorMessage":"Payment failure due to insufficient funds."};break;case"91":t={"errorCode":1,"errorMessage":"Payment failure due to transaction timeout or connection issue."};break;default:t={"errorMessage":"Payment cancelled."}}return Promise.reject(t)}const i={"paymentMethodType":"UPI","payeeVpa":n.parameters.payeeVpa,"status":s.Status,"transactionReferenceId":n.parameters.transactionReferenceId,"transactionId":n.parameters.transactionId?n.parameters.transactionId:s.txnId,"transactionInfo":e.transactionInfo};let o={"apiVersion":e.apiVersion,"apiVersionMinor":e.apiVersionMinor,"paymentMethodData":{"type":n.type,"tokenizationData":{"type":"DIRECT","token":{"protocolVersion":"ECv1","signature":"","signedMessage":i}}}};return Promise.resolve(o)}},this.webActivityDelegate_.onResult(this.onResult_.bind(this)),this.delegate_.onResult(this.onResult_.bind(this)),As.load(),o&&As.setBuyFlowActivityMode(4),As.setGoogleTransactionId($s.googleTransactionId_),As.postMessage({"eventType":9,"clientLatencyStartMs":Date.now()}),window.addEventListener("message",(t=>this.handleMessageEvent_(t)))}isReadyToPay(t){t&&(t=Object.assign({},this.paymentOptions_,t));const e=Date.now(),n=Ts()||function(t){if(!t)return"isReadyToPayRequest must be set!";if(t.apiVersion>=2){if(!("apiVersionMinor"in t))return"apiVersionMinor must be set!";if(!t.allowedPaymentMethods||!Array.isArray(t.allowedPaymentMethods)||0==t.allowedPaymentMethods.length)return"for v2 allowedPaymentMethods must be set to an array containing a list of accepted payment methods";for(var e=0;e<t.allowedPaymentMethods.length;e++){let i=t.allowedPaymentMethods[e];if(i.type==ps.PaymentMethod.CARD){if(!i.parameters)return"Field parameters must be setup in each allowedPaymentMethod";var n=i.parameters.allowedCardNetworks;if(!n||!Array.isArray(n)||0==n.length)return"allowedCardNetworks must be setup in parameters for type CARD";var s=i.parameters.allowedAuthMethods;if(!s||!Array.isArray(s)||0==s.length||!s.every(Ss))return"allowedAuthMethods must be setup in parameters for type 'CARD'  and must contain 'CRYPTOGRAM_3DS' and/or 'PAN_ONLY'"}}return null}return t.allowedPaymentMethods&&Array.isArray(t.allowedPaymentMethods)&&0!=t.allowedPaymentMethods.length&&t.allowedPaymentMethods.every(Ps)?null:"allowedPaymentMethods must be set to an array containing 'CARD' and/or 'TOKENIZED_CARD'!"}(t);if(n)return new Promise(((t,e)=>{$s.logDevErrorToConsole_("isReadyToPay",n),As.postMessage({"eventType":0,"error":2}),e({"statusCode":ps.ResponseStatus.DEVELOPER_ERROR,"statusMessage":n})}));const s=this.isReadyToPay_(t);return s.then((t=>(As.postMessage({"eventType":0,"clientLatencyStartMs":e,"isReadyToPayApiResponse":t}),t))),s}isReadyToPay_(t){if(this.upiHandler_.isUpiRequest(t))return this.upiHandler_.isReadyToPay(t);if(Cs()&&!Vs(t)){if(t.apiVersion>=2)return this.isReadyToPayApiV2ForChromePaymentRequest_(t);{const e=this.webActivityDelegate_.isReadyToPay(t),n=this.delegate_.isReadyToPay(t);return Es(t)?n:n.then((()=>e))}}return this.webActivityDelegate_.isReadyToPay(t)}isReadyToPayApiV2ForChromePaymentRequest_(t){let e=Promise.resolve({"result":!1});t.existingPaymentMethodRequired&&(e=Promise.resolve({"result":!1,"paymentMethodPresent":!1}));let n=e;if(Ns(t,ps.AuthMethod.CRYPTOGRAM_3DS)){const e=JSON.parse(JSON.stringify(t));for(let t=0;t<e.allowedPaymentMethods.length;t++)e.allowedPaymentMethods[t].type==ps.PaymentMethod.CARD&&(e.allowedPaymentMethods[t].parameters.allowedAuthMethods=[ps.AuthMethod.CRYPTOGRAM_3DS]);n=this.delegate_.isReadyToPay(e)}let s=e;return Ns(t,ps.AuthMethod.PAN_ONLY)&&(s=this.webActivityDelegate_.isReadyToPay(t)),n.then((t=>1==(t&&t.result)?t:s))}prefetchPaymentData(t){const e=Ts()||_s(t);e?$s.logDevErrorToConsole_("prefetchPaymentData",e):(this.assignInternalParams_(t),Cs()&&!Vs(t)?this.delegate_.prefetchPaymentData(t):this.webActivityDelegate_.prefetchPaymentData(t))}loadPaymentData(t){As.postMessage({"eventType":5});const e=Ts()||_s(t);if(this.buyFlowMode_=t&&t.swg?6:5,e)return void this.onPaymentResponse_(new Promise(((t,n)=>{As.postMessage({"eventType":1,"error":2,"buyFlowMode":this.buyFlowMode_}),$s.logDevErrorToConsole_("loadPaymentData",e),n({"statusCode":ps.ResponseStatus.DEVELOPER_ERROR,"statusMessage":e})})));const n=Ls(t);n?this.upiHandler_.loadPaymentData(t,n,this.onResult_.bind(this)):(this.loadPaymentDataApiStartTimeMs_=Date.now(),this.assignInternalParams_(t),Vs(t)?this.webActivityDelegate_.loadPaymentData(t):this.delegate_.loadPaymentData(t))}static logDevErrorToConsole_(t,e){console.error("DEVELOPER_ERROR in "+t+" : "+e)}createButton(t={}){const e=Date.now();return As.postMessage({"eventType":2,"clientLatencyStartMs":e}),null}handleMessageEvent_(t){this.isInTrustedDomain_()&&"logPaymentData"===t.data.name&&As.postMessage(t.data.data)}isInTrustedDomain_(){return-1!=Fs.indexOf(window.location.hostname)}onResult_(t){t.then((t=>{As.postMessage({"eventType":1,"clientLatencyStartMs":this.loadPaymentDataApiStartTimeMs_,"buyFlowMode":this.buyFlowMode_})})).catch((t=>{t.errorCode?As.postMessage({"eventType":1,"error":t.errorCode,"buyFlowMode":this.buyFlowMode_}):As.postMessage({"eventType":1,"error":6,"buyFlowMode":this.buyFlowMode_})})),this.onPaymentResponse_(t)}assignInternalParams_(t){const e={"startTimeMs":Date.now(),"googleTransactionId":$s.googleTransactionId_};return t.i=t.i?Object.assign(e,t.i):e,t}};function Vs(t){return!0===(t.i&&t.i.disableNative)}var Ws=class{constructor(t){this.doc_=t}preconnect(t){this.pre_(t,"preconnect")}dnsPrefetch(t){this.pre_(t,"dns-prefetch")}prefetch(t){this.pre_(t,"preconnect prefetch")}preload(t,e){this.pre_(t,"preconnect preload",e)}pre_(t,e,n){const s=$t(this.doc_,"link",{"rel":e,"href":t});n&&s.setAttribute("as",n),this.doc_.head.appendChild(s)}},Ks="subscribe.google.com:rk",qs={"PRODUCTION":"https://pay.google.com","SANDBOX":"https://pay.sandbox.google.com"};function Hs(t,e,n){t.i=Object.assign(t.i||{},{[e]:n})}function Ys(t){return"subscribe.google.com:"+t}l();var Js={"bg":"Получавайте повече с Google","bn":"Google-এ আরও অনেক কিছুর সুবিধা পান","cs":"Získejte s&nbsp;Googlem víc","da":"Få adgang til mere med Google","de":"Immer gut informiert mit Google","el":"Αποκτήστε περισσότερα με την Google","en":"Get more with Google","es":"Disfruta de más artículos con Google","es-419":"Disfruta más artículos con Google","es-ar":"Disfruta más artículos con Google","fr":"Plus de contenus avec Google","fr-ca":"Aller plus loin avec Google","hi":"Google की मदद से ज़्यादा मुफ़्त लेख पाएं","it":"Con Google puoi avere di più","ja":"Google からのプレゼント","kn":"Google ನಿಂದ ಹೆಚ್ಚಿನ ಪ್ರಯೋಜನ ಪಡೆಯಿರಿ","lt":"Gaukite daugiau su „Google“","lv":"Iegūstiet vairāk ar Google","ml":"Google ഉപയോഗിച്ച് കൂടുതൽ പ്രയോജനങ്ങൾ നേടൂ","mr":"Google वापरून बरेच काही मिळवा","nl":"Krijg meer met Google","pl":"Z&nbsp;Google dostajesz więcej","pt-br":"Veja mais com o Google","pt-pt":"Obtenha mais com a Google","ro":"Mai multe beneficii cu Google","sk":"Získajte viac s&nbsp;Googlom","sl":"Izkoristite več z Googlom","sv":"Få mer med Google","ta":"Google மூலம் மேலும் பல கட்டுரைகளைப் படியுங்கள்","te":"Googleతో మరిన్ని ప్రయోజనాలను పొందండి"},Qs={"bg":'<strong></strong>За съдържанието обикновено се изисква плащане, но Google ви дава достъп без парично заплащане до тази и други статии, когато се регистрирате за <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> с профила си в Google.',"bn":'<strong></strong>এই কন্টেন্ট অ্যাক্সেস করার জন্য সাধারণত পেমেন্ট করতে হয় কিন্তু Google আপনাকে এই নিবন্ধ ফ্রিতে অ্যাক্সেস করতে এবং সেইসাথে অনেক কিছু পেতে সাহায্য করছে। এই সুবিধা পাওয়ার জন্য Google অ্যাকাউন্ট ব্যবহার করে আপনাকে <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>-এ রেজিস্টার করতে হবে।',"cs":'<strong></strong>Tento obsah je obvykle zpoplatněn, ale pokud se do publikace <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> zaregistrujete pomocí účtu Google, získáte od Googlu přístup zdarma.',"da":'<strong></strong>Du skal normalt betale for at få adgang til dette indhold, men hvis du tilmelder dig <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> med din Google-konto, giver Google dig gratis adgang til artiklen og andet indhold.',"de":'<strong></strong>Dieser Inhalt ist normalerweise kostenpflichtig. Google gewährt dir jedoch kostenlos Zugriff auf diesen Artikel und andere Inhalte, wenn du dich mit deinem Google-Konto bei <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> registrierst.',"el":'<strong></strong>Συνήθως απαιτείται πληρωμή για αυτό το περιεχόμενο, αλλά η Google σας προσφέρει πρόσβαση χωρίς χρέωση σε αυτό το άρθρο και σε πολλά ακόμη, εάν εγγραφείτε στην έκδοση <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> με χρήση του Λογαριασμού σας Google.',"en":'<strong></strong>This content usually requires payment, but Google is giving you free access to this article and more when you register with <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> using your Google Account.',"es":'<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> con tu cuenta de Google.',"es-419":'<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> con tu Cuenta&nbsp;de&nbsp;Google.',"es-ar":'<strong></strong>Normalmente, es necesario pagar para ver este contenido, pero Google te ofrece acceso gratuito a este y otros artículos si te registras en <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> con tu Cuenta&nbsp;de&nbsp;Google.',"fr":'<strong></strong>Ce contenu est généralement payant, mais vous pouvez lire cet article et d\'autres contenus gratuitement grâce à Google en vous inscrivant sur <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> avec votre compte Google.',"fr-ca":"<strong></strong>Ce contenu est généralement payant, mais Google vous offre un accès gratuit à cet article et à d'autres si vous vous inscrivez à <ph name=\"PUBLICATION\"><ex>AP News</ex>{publication}</ph> à l'aide de votre compte Google.","hi":'<strong></strong>आम तौर पर, इस कॉन्टेंट को पढ़ने के लिए पैसे चुकाने पड़ते हैं. हालांकि, Google की मदद से, इस लेख और अन्य कॉन्टेंट को मुफ़्त में ऐक्सेस किया जा सकता है. इसके लिए, आपको Google खाते का इस्तेमाल करके, <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> में रजिस्टर करना होगा.',"it":'<strong></strong>Generalmente questi contenuti sono a pagamento, ma Google ti offre accesso gratuito a questo e ad altri articoli se ti registri a <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> usando il tuo Account Google.',"ja":'<strong></strong>通常、この記事をお読みいただくにはお支払いが必要ですが、お使いの Google アカウントで <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> に登録すると、この記事を無料でお読みいただけます。',"kn":'<strong></strong>ಸಾಮಾನ್ಯವಾಗಿ ಈ ವಿಷಯಕ್ಕಾಗಿ ಹಣ ಪಾವತಿಸಬೇಕಾಗುತ್ತದೆ, ಆದರೆ ನೀವು <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> ಗೆ ನಿಮ್ಮ Google ಖಾತೆಯ ಮೂಲಕ ನೋಂದಾಯಿಸಿಕೊಂಡಾಗ Google ಈ ಲೇಖನ ಮತ್ತು ಇನ್ನಷ್ಟು ವಿಷಯಗಳಿಗೆ ನಿಮಗೆ ಉಚಿತವಾದ ಪ್ರವೇಶವನ್ನು ನೀಡುತ್ತದೆ.',"lt":'<strong></strong>Šis turinys paprastai yra mokamas, tačiau „Google“ suteikia jums prieigą prie šio straipsnio ir kt. be papildomo mokesčio, kai užsiregistruojate „<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>“ naudodami savo „Google“ paskyrą.',"lv":'<strong></strong>Parasti šis ir maksas saturs, taču Google piešķirs jums bezmaksas piekļuvi šim un citiem rakstiem, ja reģistrēsieties izdevumam <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> ar savu Google kontu.',"ml":'<strong></strong>സാധാരണ ഈ ഉള്ളടക്കത്തിന് പണം നൽകേണ്ടതുണ്ട്, എന്നാൽ Google അക്കൗണ്ട് ഉപയോഗിച്ച് <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> എന്നതിൽ രജിസ്‌റ്റർ ചെയ്യുമ്പോൾ, ഈ ലേഖനത്തിലേക്കും മറ്റും Google നിങ്ങൾക്ക് സൗജന്യ ആക്‌സസ് നൽകുന്നു.',"mr":'<strong></strong>या आशयासाठी सामान्यतः पेमेंट आवश्यक असते पण तुम्ही तुमचे Google खाते वापरून <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> मध्ये नोंदणी करता तेव्हा, Google तुम्हाला या लेखाचा आणि आणखी बऱ्याच आशयाचा विनामूल्य ॲक्सेस देते.',"nl":'<strong></strong>Voor deze content moet je eigenlijk betalen. Maar Google geeft je kosteloos toegang tot dit artikel en andere content als je je registreert bij <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> via je Google-account.',"pl":'<strong></strong>Te treści zazwyczaj wymagają opłaty, ale dzięki Google możesz bezpłatnie przeczytać ten artykuł i&nbsp;korzystać z&nbsp;innych materiałów po zarejestrowaniu się w&nbsp;publikacji <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> za pomocą konta Google.',"pt-br":'<strong></strong>Normalmente, é preciso pagar por este conteúdo. Porém, basta você se registrar na publicação <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> usando sua Conta do Google para ter acesso a esta matéria e muito mais sem custos financeiros.',"pt-pt":'<strong></strong>Geralmente, este conteúdo requer um pagamento, mas a Google concede-lhe acesso gratuito a este artigo e muito mais ao registar-se na publicação <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> com a sua Conta Google.',"ro":'<strong></strong>Acest conținut este de obicei cu plată, dar Google vă oferă acces fără costuri la acest articol și la altele când vă înregistrați la <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> folosind Contul Google.',"sk":'<strong></strong>Tento obsah je obvykle platený, ale ak sa do publikácie <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> zaregistrujete účtom Google, získate od Googlu bezplatný prístup k&nbsp;tomuto článku a&nbsp;ďalšie výhody.',"sl":'<strong></strong>Za to vsebino je običajno zahtevano plačilo, vendar vam Google omogoča dostop do tega članka in drugega brez stroškov, če se z računom Google registrirate pri publikaciji <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>.',"sv":'<strong></strong>Det krävs vanligtvis betalning för det här innehållet, men Google ger dig gratis åtkomst till artikeln och annat innehåll när du registrerar dig hos <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> med ditt Google-konto.',"ta":'<strong></strong>வழக்கமாக இந்த உள்ளடக்கத்தை வாசிக்க கட்டணம் செலுத்த வேண்டியிருக்கும். ஆனால் <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> இல் உங்கள் Google கணக்கைப் பயன்படுத்திப் பதிவுசெய்யும்போது இந்தக் கட்டுரைக்கும் மேலும் பலவற்றுக்கும் Google இலவச அணுகலை வழங்குகிறது.',"te":'<strong></strong>ఈ కంటెంట్‌కు మీరు సాధారణంగా పేమెంట్ చేయాల్సి ఉంటుంది, కానీ మీరు Google ఖాతాను ఉపయోగించి <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>తో రిజిస్టర్ చేసుకున్నప్పుడు, ఈ వార్తా కథనానికి ఇంకా మరెన్నో వాటికి Google, ఉచిత యాక్సెస్‌ను ఇస్తుంది.'},Zs={"bg":"Вече сте се регистрирали? Вход","bn":"আগে থেকেই রেজিস্টার করেছেন? সাইন-ইন করুন","cs":"Jste už zaregistrováni? Přihlásit se","da":"Er du allerede tilmeldt? Log ind","de":"Bereits registriert? Anmelden","el":"Έχετε εγγραφεί ήδη; Σύνδεση","en":"Already registered? Sign in","es":"¿Ya te has registrado? Iniciar sesión","es-419":"¿Ya te registraste? Accede","es-ar":"¿Ya tienes una cuenta?","fr":"Déjà inscrit&nbsp;? Connectez-vous","fr-ca":"Déjà inscrit? Se connecter","hi":"पहले से रजिस्टर किया हुआ है? साइन इन करें","it":"Hai già effettuato la registrazione? Accedi","ja":"登録済みの方: ログイン","kn":"ಈಗಾಗಲೇ ನೋಂದಾಯಿಸಲಾಗಿದೆಯೇ? ಸೈನ್ ಇನ್","lt":"Jau užsiregistravote? Prisijungti","lv":"Vai esat jau reģistrējies? Pierakstīties","ml":"മുമ്പേ രജിസ്റ്റർ ചെയ്തിട്ടുണ്ടോ? സൈൻ ഇൻ ചെയ്യുക","mr":"आधीपासून नोंदणी केली आहे का? साइन इन करा","nl":"Al geregistreerd? Inloggen","pl":"Jesteś już zarejestrowanym użytkownikiem? Zaloguj się","pt-br":"Já se inscreveu? Fazer login","pt-pt":"Já fez o seu registo? Inicie sessão","ro":"V-ați înregistrat deja? Conectați-vă","sk":"Už máte zaregistrovaný účet? Prihlásiť sa","sl":"Ste že registrirani? Prijavite se.","sv":"Har du redan registrerat dig? Logga in","ta":"ஏற்கெனவே பதிவுசெய்துள்ளீர்களா? உள்நுழைக","te":"ఇప్పటికే రిజిస్టర్ చేయబడి ఉందా? సైన్ ఇన్ చేయండి"},Xs={"bg":"Вход с Google","bn":"Google দিয়ে সাইন-ইন করুন","cs":"Přihlásit se přes Google","da":"Log ind med Google","de":"Über Google anmelden","el":"Σύνδεση μέσω Google","en":"Sign in with Google","es":"Iniciar sesión con Google","es-419":"Acceder con Google","es-ar":"Acceder con Google","fr":"Se connecter avec Google","fr-ca":"Se connecter avec Google","hi":"Google से साइन इन करें","it":"Accedi con Google","ja":"Google でログイン","kn":"Google ಖಾತೆ ಬಳಸಿಕೊಂಡು ಸೈನ್ ಇನ್ ಮಾಡಿ","lt":"Prisijunkite su „Google“","lv":"Pierakstīties, izmantojot Google","ml":"Google ഉപയോഗിച്ച് സൈൻ ഇൻ ചെയ്യുക","mr":"Google वापरून साइन इन करा","nl":"Inloggen met Google","pl":"Zaloguj się przez Google","pt-br":"Fazer login com o Google","pt-pt":"Iniciar sessão com o Google","ro":"Conectați-vă cu Google","sk":"Prihlásiť sa účtom Google","sl":"Prijavite se z Googlom","sv":"Logga in med Google","ta":"Google மூலம் உள்நுழைக","te":"Googleతో సైన్ ఇన్ చేయండి"},ti={"bg":'Прегледайте <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>Общите условия за канадското законодателство за борба със спама<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> на <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"bn":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>-এর <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL শর্ত<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> পর্যালোচনা করুন',"cs":'Prostudujte si <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>podmínky CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> publikace <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"da":'Gennemgå <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL-vilkårene<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> (Canadian Anti-Spam Legislation, canadisk lovgivning vedrørende antispam) for <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"de":'<ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL-Bedingungen<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> von <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> ansehen',"el":'Ελέγξτε αν τηρούνται στη δημοσίευση <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> οι <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>Όροι CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>',"en":'Review <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>\'s <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL terms<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>',"es":'Consulta los <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>términos de la CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> de <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"es-419":'Consulta las <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>condiciones de CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> de <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"fr":'Consultez les <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>Conditions d\'utilisation LCAP (Loi canadienne anti-pourriel)<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> de <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"fr-ca":'Consulter les <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>conditions d\'utilisation relatives à la Loi canadienne antipourriel (LCAP)<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> de la publication <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"hi":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> की <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>सीएएसएल (कैनेडियन एंटी-स्पैम लेजिस्लेशन) से जुड़ी शर्तों<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> के बारे में पढ़ें',"it":'Rileggi i <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>termini della legge CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> di <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"ja":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> の <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL 規約<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>を見る',"kn":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> ನ <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL ನಿಯಮಗಳು<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> ಅನ್ನು ಪರಿಶೀಲಿಸಿ',"lt":'Peržiūrėkite „<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>“ <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL sąlygas<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>',"lv":'Pārskatīt <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL noteikumus<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>',"ml":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> എന്നതിന്റെ <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL നിബന്ധനകൾ<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> അവലോകനം ചെയ്യുക',"mr":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> च्या <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL अटी<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> यांचे पुनरावलोकन करा',"nl":'Bekijk de <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL-voorwaarden<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> van <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"pl":'Zapoznaj się z&nbsp;<ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>warunkami CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> publikacji <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"pt-br":'Confira os <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>termos da CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> da publicação <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"pt-pt":'Analise os <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>termos da CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> da publicação <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"ro":'Examinați <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>Termenii CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> ai <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"sk":'Prečítajte si <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>podmienky CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> publikácie <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"sl":'Preglejte <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>pogoje CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> za publikacijo <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"sv":'Läs <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>villkoren i lagstiftningen CASL<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> för <ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>',"ta":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph> இன் <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL விதிமுறைகளைப்<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph> பாருங்கள்',"te":'<ph name="PUBLICATION"><ex>AP News</ex>{publication}</ph>‌కు సంబంధించిన <ph name="LINK_START"><ex>&lt;a&gt;</ex></ph>CASL నియమాల<ph name="LINK_END"><ex>&lt;/a&gt;</ex></ph>ను రివ్యూ చేయండి'};function ei(t){console.log.apply(console,arguments)}function ni(t){console.warn.apply(console,arguments)}function si(t,e,n){let s;if(!t){const t=(e=e||"Assertion failed").split("%s"),n=t.shift();let i=n;const o=[];ii(o,n);for(let e=2;e<arguments.length;e++){const n=arguments[e];n&&n.tagName&&(s=n);const r=t.shift();o.push(n),ii(o,r.trim()),i+=oi(n)+r}const r=new Error(i);throw r.fromAssert=!0,r.associatedElement=s,r.messageArray=o,r}return t}function ii(t,e){""!=e&&t.push(e)}function oi(t){return t&&1==t.nodeType?t.tagName.toLowerCase()+(t.id?"#"+t.id:""):t}var ri={"-":"+","_":"/"};function ai(t){if("undefined"!=typeof TextDecoder)return new TextDecoder("utf-8").decode(t);const e=function(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=String.fromCharCode(t[n]);return e.join("")}(new Uint8Array(t));return decodeURIComponent(escape(e))}function li(t){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);si(s<=255,"Characters must be in range [0,255]"),e[n]=s}return e}(atob(t.replace(/[-_]/g,(t=>ri[t]))))}function hi(t){return JSON.parse(t)}function ui(t,e){try{return hi(t)}catch(t){return void(e&&e(t))}}var ci,gi,pi,di=3009,mi="EVENT_SHOWCASE_NO_ENTITLEMENTS_REGWALL";function fi(t){ci||(ci=self.document.createElement("a"),gi=self.UrlCache||(self.UrlCache=Object.create(null)));const e=gi[t];if(e)return e;const n=function(t,e){t.href=e;const n={href:t.href,protocol:t.protocol,host:t.host,hostname:t.hostname,port:"0"==t.port?"":t.port,pathname:t.pathname,search:t.search,hash:t.hash,origin:t.protocol+"//"+t.host};return t.origin&&"null"!==t.origin?n.origin=t.origin:"data:"!==n.protocol&&n.host||(n.origin=n.href),n}(ci,t);return gi[t]=n}function bi(t,e){const n=t.en;if("object"!=typeof t||!e)return n;let s="string"==typeof e?e:wi(e);s=s.toLowerCase(),s=s.replace(/_/g,"-");const i=s.split("-");for(;i.length;){const e=i.join("-");if(e in t)return t[e];i.pop()}return n}function wi(t){return t.lang?t.lang:t.ownerDocument&&t.ownerDocument.documentElement.lang?t.ownerDocument.documentElement.lang:"en"}fi(self.window.location.href),fi(self.document.referrer);var vi=["Webkit","webkit","Moz","moz","ms","O","o"];function xi(t,e,n){if(!("--".length>(s=e).length)&&0==s.lastIndexOf("--",0))return e;var s;pi||(pi=Object.create(null));let i=pi[e];if(!i||n){if(i=e,void 0===t[e]){const n=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e),s=function(t,e){for(let n=0;n<vi.length;n++){const s=vi[n]+e;if(void 0!==t[s])return s}return""}(t,n);void 0!==t[s]&&(i=s)}n||(pi[e]=i)}return i}function yi(t,e){for(const n in e)t.style.setProperty(xi(e,n),e[n].toString(),"important")}function Ai(t,e,n,s,i){const o=xi(t.style,e,i);o&&(t.style[o]=s?n+s:n)}function Ii(t,e){for(const n in e)Ai(t,n,e[n])}function ki(t,e,n,s){const i=t.createElement(e);if(function(t,e){for(const n in e)"style"==n?Ii(t,e[n]):t.setAttribute(n,e[n])}(i,n),null!=s)if("string"==typeof s)i.textContent=s;else if(s.nodeType)i.appendChild(s);else if("length"in s)for(let t=0;t<s.length;t++)i.appendChild(s[t]);else si(!1,"Unsupported content: %s",s);return i}function Ci(t,e){const n=ki(t.getWin().document,"style",{"type":"text/css"});return n.textContent=e,t.getHead().appendChild(n),n}function Ei(t){const e=function(t){return t.readyState}(t);return"loading"!=e&&"uninitialized"!=e}function Ni(t){return 9===t.nodeType||t.document?new class{constructor(t){const e=!!t.document;this.win_=e?t:t.defaultView,this.doc_=e?t.document:t}getWin(){return this.win_}getRootNode(){return this.doc_}getRootElement(){return this.doc_.documentElement}getHead(){return this.doc_.head}getBody(){return this.doc_.body}isReady(){return Ei(this.doc_)}whenReady(){return t=this.doc_,new Promise((e=>{!function(t,e){!function(t,e,n){if(e(t))return void n(t);let s=!1;const i=()=>{e(t)&&!s&&(n(t),s=!0,t.removeEventListener("readystatechange",i))};t.addEventListener("readystatechange",i)}(t,Ei,e)}(t,e)}));var t}addToFixedLayer(t){return s()}}(t):t}var Ti={"EVENT_SHOWCASE_METER_OFFERED":[3010,3011],"EVENT_SHOWCASE_UNLOCKED_BY_SUBSCRIPTION":[3007],"EVENT_SHOWCASE_UNLOCKED_BY_METER":[3010,3008],"EVENT_SHOWCASE_UNLOCKED_FREE_PAGE":[3012],[mi]:[di,22,23],"EVENT_SHOWCASE_NO_ENTITLEMENTS_PAYWALL":[di,1],"EVENT_SHOWCASE_INELIGIBLE_PAYWALL":[3013,di]},Pi="swg-gaa-post-message-stamp",Si="swg-registration-button-container",_i="swg-regwall-container",Li='\n  #swg-google-3p-sign-in-button,\n  #swg-sign-in-with-google-button,\n  #swg-google-sign-in-button {\n    margin: 0 auto;\n  }\n\n  #swg-sign-in-with-google-button{\n    width: 220px;\n  }\n\n  #swg-google-3p-sign-in-button > div,\n  #swg-sign-in-with-google-button > div,\n  #swg-google-sign-in-button > div {\n    animation: fadeIn 0.32s;\n  }\n  @keyframes fadeIn {\n    from {\n      opacity: 0;\n    }\n    to {\n      opacity: 1;\n    }\n  }\n  #swg-google-3p-sign-in-button .abcRioButton.abcRioButtonBlue,\n  #swg-sign-in-with-google-button .abcRioButton.abcRioButtonBlue,\n  #swg-google-sign-in-button .abcRioButton.abcRioButtonBlue {\n    background-color: #1A73E8;\n    box-shadow: none;\n    -webkit-box-shadow: none;\n    border-radius: 4px;\n    width: 100% !important;\n  }\n  #swg-google-3p-sign-in-button .abcRioButton.abcRioButtonBlue .abcRioButtonIcon,\n  #swg-sign-in-with-google-button .abcRioButton.abcRioButtonBlue .abcRioButtonIcon,\n  #swg-google-sign-in-button .abcRioButton.abcRioButtonBlue .abcRioButtonIcon {\n    display: none;\n  }\n  /** Hides default "Sign in with Google" text. */\n  #swg-google-3p-sign-in-button  .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_],\n  #swg-sign-in-with-google-button  .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_],\n  #swg-google-sign-in-button .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_] {\n    font-size: 0 !important;\n  }\n  /** Renders localized "Sign in with Google" text instead. */\n  #swg-google-3p-sign-in-button .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before,\n  #swg-sign-in-with-google-button .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before,\n  #swg-google-sign-in-button .abcRioButton.abcRioButtonBlue .abcRioButtonContents span[id^=not_signed_]::before {\n    content: \'$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$\';\n    font-size: 15px;\n  }',Ri=`\n  body {\n    margin: 0;\n    overflow: hidden;\n  }${Li}\n`,Oi=class{static show({iframeUrl:t,caslUrl:e}){if(!function(t,e=!1){const n=(s=t)?(/^[?#]/.test(s)?s.slice(1):s).split("&").reduce(((t,e)=>{const n=e.split("=");try{const e=decodeURIComponent(n[0]||""),s=decodeURIComponent(n[1]||"");e&&(t[e]=s)}catch(t){ni(`SwG could not parse a URL query param: ${n[0]}`)}return t}),{}):{};var s;return!(!(n.gaa_at&&n.gaa_n&&n.gaa_sig&&n.gaa_ts)||!e&&"na"===n.gaa_at||parseInt(n.gaa_ts,16)<Date.now()/1e3)}(zi.getQueryString())){const t="[swg-gaa.js:GaaMeteringRegwall.show]: URL needs fresh GAA params.";return ni(t),Promise.reject(t)}return Ui({showcaseEvent:mi,isFromUserAction:!1}),Oi.render_({iframeUrl:t,caslUrl:e}),Oi.sendIntroMessageToGsiIframe_({iframeUrl:t}),Oi.logButtonClickEvents_(),Oi.getGaaUser_().then((t=>(Oi.remove(),t))).catch((t=>{throw Oi.remove(),t}))}static showWithNativeRegistrationButton({caslUrl:t,googleApiClientId:e,rawJwt:n=!0}){return Ui({showcaseEvent:mi,isFromUserAction:!1}),Oi.render_({iframeUrl:"",caslUrl:t,useNativeMode:!0}),Oi.createNativeRegistrationButton({googleApiClientId:e}).then((t=>(Oi.remove(),n?t:(new class{constructor(){}decode(t){return this.decodeInternal_(t).payload}decodeInternal_(t){function e(){throw new Error(`Invalid token: "${t}"`)}const n=t.split(".");3!=n.length&&e();const s=li(n[0]),i=li(n[1]);return{header:ui(ai(s),e),payload:ui(ai(i),e),verifiable:`${n[0]}.${n[1]}`,sig:n[2]}}}).decode(t.credential)))).catch((t=>{Oi.remove(),function(t){if(/swg.debug=1/.test(self.location.hash)){const t=Array.prototype.slice.call(arguments,0);t.unshift("[Subscriptions]"),ei.apply(ei,t)}}(`Regwall failed: ${t}`)}))}static showWithNative3PRegistrationButton({caslUrl:t,authorizationUrl:e}){return Ui({showcaseEvent:mi,isFromUserAction:!1}),Oi.render_({iframeUrl:"",caslUrl:t,useNativeMode:!0}),Oi.createNative3PRegistrationButton({authorizationUrl:e})}static remove(){const t=self.document.getElementById(_i);t&&t.remove()}static signOut(){return new Promise((t=>{const e=setInterval((()=>{self.gapi&&(clearInterval(e),t())}),50)})).then((()=>new Promise((t=>self.gapi.load("auth2",t))))).then((()=>self.gapi.auth2.getAuthInstance()||self.gapi.auth2.init())).then((()=>self.gapi.auth2.getAuthInstance().signOut()))}static render_({iframeUrl:t,caslUrl:e,useNativeMode:n=!1}){const s=wi(self.document.body),i=Oi.getPublisherNameFromPageConfig_(),o=/<ph name="PUBLICATION".+?\/ph>/g,r=ki(self.document,"div",{id:_i});yi(r,{"all":"unset","background-color":"rgba(32, 33, 36, 0.6)","border":"none","bottom":"0","height":"100%","left":"0","opacity":"0","pointer-events":"none","position":"fixed","right":"0","transition":"opacity 0.5s","top":"0","width":"100%","z-index":2147483646});let a="";e&&(a='\n<div class="gaa-metering-regwall--casl">\n  $SHOWCASE_REGWALL_CASL$\n</div>\n'.replace("$SHOWCASE_REGWALL_CASL$",bi(ti,s)).replace(/<ph name="LINK_START".+?\/ph>/g,`<a href="${encodeURI(e)}" target="_blank">`).replace(/<ph name="LINK_END".+?\/ph>/g,"</a>").replace(o,`<strong>${i}</strong>`));let l="";return n?l='\n  <div\n      id="swg-registration-button-container"\n      class="gaa-metering-regwall--registration-button-container">\n  </div>\n':(t=function(t,e,n){const s=t.indexOf("?"),i=t.indexOf("#");let o="";return-1!=i&&(o=t.substring(i),t=t.substring(0,i)),-1==s?t+="?":s<t.length-1&&(t+="&"),(t+=encodeURIComponent("lang")+"="+encodeURIComponent(n))+o}(t,0,s),l='\n  <iframe\n      id="swg-google-sign-in-iframe"\n      class="gaa-metering-regwall--iframe"\n      src="$iframeUrl$">\n  </iframe>\n'.replace("$iframeUrl$",t)),r.innerHTML='\n<style>\n  .gaa-metering-regwall--dialog-spacer,\n  .gaa-metering-regwall--dialog,\n  .gaa-metering-regwall--logo,\n  .gaa-metering-regwall--title,\n  .gaa-metering-regwall--description,\n  .gaa-metering-regwall--description strong,\n  .gaa-metering-regwall--iframe,\n  .gaa-metering-regwall--registration-button-container,\n  .gaa-metering-regwall--casl {\n    all: initial !important;\n    box-sizing: border-box !important;\n    font-family: Roboto, arial, sans-serif !important;\n  }\n\n  .gaa-metering-regwall--dialog-spacer {\n    background: linear-gradient(0, #808080, transparent) !important;\n    bottom: 0 !important;\n    display: block !important;\n    position: fixed !important;\n    width: 100% !important;\n  }\n\n  @keyframes slideUp {\n    from {transform: translate(0, 200px) !important;}\n    to {transform: translate(0, 0) !important;}\n  }\n\n  .gaa-metering-regwall--dialog {\n    animation: slideUp 0.5s !important;\n    background: white !important;\n    border-radius: 12px 12px 0 0 !important;\n    box-shadow: 0px -2px 6px rgba(0, 0, 0, 0.3) !important;\n    display: block !important;\n    margin: 0 auto !important;\n    max-width: 100% !important;\n    padding: 24px 20px !important;\n    pointer-events: auto !important;\n    width: 410px !important;\n  }\n\n  .gaa-metering-regwall--logo {\n    display: block !important;\n    margin: 0 auto 24px !important;\n  }\n\n  .gaa-metering-regwall--title {\n    color: #000 !important;\n    display: block !important;\n    font-size: 16px !important;\n    margin: 0 0 8px !important;\n    outline: none !important !important;\n  }\n\n  .gaa-metering-regwall--description {\n    color: #646464 !important;\n    display: block !important;\n    font-size: 14px !important;\n    line-height: 19px !important;\n    margin: 0 0 30px !important;\n  }\n\n  .gaa-metering-regwall--description strong {\n    color: #646464 !important;\n    font-size: 14px !important;\n    line-height: 19px !important;\n    font-weight: bold !important;\n  }\n\n  .gaa-metering-regwall--iframe {\n    border: none !important;\n    display: block !important;\n    height: 44px !important;\n    margin: 0 0 30px !important;\n    width: 100% !important;\n  }\n\n  .gaa-metering-regwall--registration-button-container {\n    border: none !important;\n    display: block !important;\n    height: 44px !important;\n    margin: 0 0 30px !important;\n    width: 100% !important;\n  }\n\n  .gaa-metering-regwall--casl {\n    color: #646464 !important;\n    display: block !important;\n    font-size: 12px !important;\n    text-align: center !important;\n    margin: -16px auto 32px !important;\n  }\n\n  .gaa-metering-regwall--casl a {\n    color: #1967d2 !important;\n  }\n\n  .gaa-metering-regwall--line {\n    background-color: #ddd !important;\n    display: block !important;\n    height: 1px !important;\n    margin: 0 0 24px !important;\n  }\n\n  .gaa-metering-regwall--publisher-sign-in-button {\n    color: #1967d2 !important;\n    cursor: pointer !important;\n    display: block !important;\n    font-size: 12px !important;\n    text-decoration: underline !important;\n  }\n\n  .gaa-metering-regwall--google-sign-in-button {\n    height: 36px !important;\n    margin: 0 auto 30px !important;\n  }\n\n  .gaa-metering-regwall--google-sign-in-button > div {\n    animation: swgGoogleSignInButtonfadeIn 0.32s !important;\n  }\n\n  @keyframes swgGoogleSignInButtonfadeIn {\n    from {\n      opacity: 0 !important;\n    }\n    to {\n      opacity: 1 !important;\n    }\n  }\n</style>\n\n<div class="gaa-metering-regwall--dialog-spacer">\n  <div role="dialog" aria-modal="true" class="gaa-metering-regwall--dialog" id="swg-regwall-dialog" aria-labelledby="swg-regwall-title">\n    <img alt="Google" class="gaa-metering-regwall--logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI3NCIgaGVpZ2h0PSIyNCIgdmlld0JveD0iMCAwIDc0IDI0Ij48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNOS4yNCA4LjE5djIuNDZoNS44OGMtLjE4IDEuMzgtLjY0IDIuMzktMS4zNCAzLjEtLjg2Ljg2LTIuMiAxLjgtNC41NCAxLjgtMy42MiAwLTYuNDUtMi45Mi02LjQ1LTYuNTRzMi44My02LjU0IDYuNDUtNi41NGMxLjk1IDAgMy4zOC43NyA0LjQzIDEuNzZMMTUuNCAyLjVDMTMuOTQgMS4wOCAxMS45OCAwIDkuMjQgMCA0LjI4IDAgLjExIDQuMDQuMTEgOXM0LjE3IDkgOS4xMyA5YzIuNjggMCA0LjctLjg4IDYuMjgtMi41MiAxLjYyLTEuNjIgMi4xMy0zLjkxIDIuMTMtNS43NSAwLS41Ny0uMDQtMS4xLS4xMy0xLjU0SDkuMjR6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTI1IDYuMTljLTMuMjEgMC01LjgzIDIuNDQtNS44MyA1LjgxIDAgMy4zNCAyLjYyIDUuODEgNS44MyA1LjgxczUuODMtMi40NiA1LjgzLTUuODFjMC0zLjM3LTIuNjItNS44MS01LjgzLTUuODF6bTAgOS4zM2MtMS43NiAwLTMuMjgtMS40NS0zLjI4LTMuNTIgMC0yLjA5IDEuNTItMy41MiAzLjI4LTMuNTJzMy4yOCAxLjQzIDMuMjggMy41MmMwIDIuMDctMS41MiAzLjUyLTMuMjggMy41MnoiLz48cGF0aCBmaWxsPSIjNDI4NUY0IiBkPSJNNTMuNTggNy40OWgtLjA5Yy0uNTctLjY4LTEuNjctMS4zLTMuMDYtMS4zQzQ3LjUzIDYuMTkgNDUgOC43MiA0NSAxMmMwIDMuMjYgMi41MyA1LjgxIDUuNDMgNS44MSAxLjM5IDAgMi40OS0uNjIgMy4wNi0xLjMyaC4wOXYuODFjMCAyLjIyLTEuMTkgMy40MS0zLjEgMy40MS0xLjU2IDAtMi41My0xLjEyLTIuOTMtMi4wN2wtMi4yMi45MmMuNjQgMS41NCAyLjMzIDMuNDMgNS4xNSAzLjQzIDIuOTkgMCA1LjUyLTEuNzYgNS41Mi02LjA1VjYuNDloLTIuNDJ2MXptLTIuOTMgOC4wM2MtMS43NiAwLTMuMS0xLjUtMy4xLTMuNTIgMC0yLjA1IDEuMzQtMy41MiAzLjEtMy41MiAxLjc0IDAgMy4xIDEuNSAzLjEgMy41NC4wMSAyLjAzLTEuMzYgMy41LTMuMSAzLjV6Ii8+PHBhdGggZmlsbD0iI0ZCQkMwNSIgZD0iTTM4IDYuMTljLTMuMjEgMC01LjgzIDIuNDQtNS44MyA1LjgxIDAgMy4zNCAyLjYyIDUuODEgNS44MyA1LjgxczUuODMtMi40NiA1LjgzLTUuODFjMC0zLjM3LTIuNjItNS44MS01LjgzLTUuODF6bTAgOS4zM2MtMS43NiAwLTMuMjgtMS40NS0zLjI4LTMuNTIgMC0yLjA5IDEuNTItMy41MiAzLjI4LTMuNTJzMy4yOCAxLjQzIDMuMjggMy41MmMwIDIuMDctMS41MiAzLjUyLTMuMjggMy41MnoiLz48cGF0aCBmaWxsPSIjMzRBODUzIiBkPSJNNTggLjI0aDIuNTF2MTcuNTdINTh6Ii8+PHBhdGggZmlsbD0iI0VBNDMzNSIgZD0iTTY4LjI2IDE1LjUyYy0xLjMgMC0yLjIyLS41OS0yLjgyLTEuNzZsNy43Ny0zLjIxLS4yNi0uNjZjLS40OC0xLjMtMS45Ni0zLjctNC45Ny0zLjctMi45OSAwLTUuNDggMi4zNS01LjQ4IDUuODEgMCAzLjI2IDIuNDYgNS44MSA1Ljc2IDUuODEgMi42NiAwIDQuMi0xLjYzIDQuODQtMi41N2wtMS45OC0xLjMyYy0uNjYuOTYtMS41NiAxLjYtMi44NiAxLjZ6bS0uMTgtNy4xNWMxLjAzIDAgMS45MS41MyAyLjIgMS4yOGwtNS4yNSAyLjE3YzAtMi40NCAxLjczLTMuNDUgMy4wNS0zLjQ1eiIvPjwvc3ZnPg==" />\n\n    <div class="gaa-metering-regwall--title" id="swg-regwall-title" tabindex="0">$SHOWCASE_REGWALL_TITLE$</div>\n\n    <div class="gaa-metering-regwall--description">\n      $SHOWCASE_REGWALL_DESCRIPTION$\n    </div>\n\n    $SHOWCASE_REGISTRATION_BUTTON$\n\n    $SHOWCASE_REGWALL_CASL$\n\n    <div class="gaa-metering-regwall--line"></div>\n\n    <a\n        id="swg-publisher-sign-in-button"\n        class="gaa-metering-regwall--publisher-sign-in-button"\n        tabindex="0"\n        href="#">\n      $SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON$\n    </a>\n  </div>\n</div>\n'.replace("$SHOWCASE_REGISTRATION_BUTTON$",l).replace("$SHOWCASE_REGWALL_TITLE$",bi(Js,s)).replace("$SHOWCASE_REGWALL_DESCRIPTION$",bi(Qs,s).replace(o,i)).replace("$SHOWCASE_REGWALL_PUBLISHER_SIGN_IN_BUTTON$",bi(Zs,s)).replace("$SHOWCASE_REGWALL_CASL$",a),self.document.body.appendChild(r),r.offsetHeight,yi(r,{"opacity":1}),Oi.addClickListenerOnPublisherSignInButton_(),self.document.getElementById("swg-regwall-dialog").addEventListener("animationend",(()=>{self.document.getElementById("swg-regwall-title").focus()})),r}static getPublisherNameFromPageConfig_(){const t=Oi.getPublisherNameFromJsonLdPageConfig_();if(t)return t;const e=Oi.getPublisherNameFromMicrodataPageConfig_();if(e)return e;throw new Error("Showcase articles must define a publisher name with either JSON-LD or Microdata.")}static getPublisherNameFromJsonLdPageConfig_(){const t=Array.prototype.slice.call(self.document.querySelectorAll('script[type="application/ld+json"]')).map((t=>hi(t.textContent)));for(let n=0;n<t.length;n++){var e;const s=t[n],i=null==s||null===(e=s.publisher)||void 0===e?void 0:e.name;if(i)return i;s&&"object"==typeof s&&t.push(...Object.values(s))}}static getPublisherNameFromMicrodataPageConfig_(){const t=self.document.querySelectorAll('[itemscope][itemtype][itemprop="publisher"] [itemprop="name"]');for(const e of t){const t=e.content;if(t)return t}}static addClickListenerOnPublisherSignInButton_(){self.document.getElementById("swg-publisher-sign-in-button").addEventListener("click",(t=>{t.preventDefault(),Ui({analyticsEvent:1036,isFromUserAction:!0}),Mi((t=>t.triggerLoginRequest({linkRequested:!1})))}))}static getGaaUser_(){return new Promise(((t,e)=>{self.addEventListener("message",(n=>{n.data.stamp===Pi&&("user"===n.data.command&&t(n.data.gaaUser||n.data.returnedJwt),"error"===n.data.command&&e("Google Sign-In could not render"))}))}))}static logButtonClickEvents_(){self.addEventListener("message",(t=>{t.data.stamp===Pi&&"gsi-button-click"===t.data.command&&Ui({analyticsEvent:1035,isFromUserAction:!0}),t.data.stamp===Pi&&"siwg-button-click"===t.data.command&&Ui({analyticsEvent:1060,isFromUserAction:!0}),t.data.stamp===Pi&&"3p-button-click"===t.data.command&&Ui({analyticsEvent:1063,isFromUserAction:!0})}))}static sendIntroMessageToGsiIframe_({iframeUrl:t}){const e=self.document.getElementById("swg-google-sign-in-iframe");e.onload=()=>{e.contentWindow.postMessage({stamp:Pi,command:"introduction"},new URL(t).origin)}}static createNativeRegistrationButton({googleApiClientId:t}){const e=wi(self.document.body),n=self.document.getElementById(Si);if(!n)return!1;const s=Li.replace("$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$",bi(Xs,e));Ci(Ni(self.document),s);const i=ki(self.document,"div",{id:"swg-sign-in-with-google-button",tabIndex:0});function o(){Ui({analyticsEvent:1060,isFromUserAction:!0})}return n.appendChild(i),new Promise((e=>{self.google.accounts.id.initialize({client_id:t,callback:e}),self.google.accounts.id.renderButton(i,{"type":"standard","theme":"outline","text":"continue_with","logo_alignment":"center","click_listener":o})}))}static createNative3PRegistrationButton({authorizationUrl:t}){const e=wi(self.document.body),n=self.document.getElementById(Si);if(!n)return!1;const s=ji.replace("$SHOWCASE_REGWALL_GOOGLE_SIGN_IN_BUTTON$",bi(Xs,e));Ci(Ni(self.document),s);const i=ki(self.document,"div",{id:"swg-google-3p-sign-in-button",tabIndex:0});return i.innerHTML=Gi,n.appendChild(i),i.addEventListener("click",(()=>{Ui({analyticsEvent:1063,isFromUserAction:!0}),self.setTimeout((()=>{self.open(t,"_parent")}),10)})),i}};function Mi(t){(self.SWG=self.SWG||[]).push(t)}var ji=Ri+"\n  #swg-google-3p-sign-in-button .abcRioButtonContents {\n    font-family: Roboto,arial,sans-serif;\n    font-size: 14px;\n    font-weight: 500;\n    letter-spacing: .21px;\n    margin-left: 6px;\n    margin-right: 6px;\n    vertical-align: top;\n  }\n  #swg-google-3p-sign-in-button .abcRioButton {\n    border-radius: 1px;\n    box-shadow: 0 2px 4px 0 rgb(0 0 0 / 25%);\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    -webkit-transition: background-color .218s,border-color .218s,box-shadow .218s;\n    transition: background-color .218s,border-color .218s,box-shadow .218s;\n    -webkit-user-select: none;\n    -webkit-appearance: none;\n    background-color: #fff;\n    background-image: none;\n    color: #262626;\n    cursor: pointer;\n    outline: none;\n    overflow: hidden;\n    position: relative;\n    text-align: center;\n    vertical-align: middle;\n    white-space: nowrap;\n    width: auto;\n  }\n  #swg-google-3p-sign-in-button .abcRioButtonBlue {\n    border: none;\n    color: #fff;\n  }\n  ",Gi='\n<div style="height:36px;width:180px;" class="abcRioButton abcRioButtonBlue">\n  <span style="font-size:15px;line-height:34px;" class="abcRioButtonContents">\n    <span id="not_signed_in">Sign in with Google</span>\n  </span>\n</div>\n';function Ui({analyticsEvent:t,showcaseEvent:e,isFromUserAction:n}={}){Mi((s=>{s.getEventManager().then((s=>{const i=e?Ti[e]||[]:[t];for(const t of i)s.logEvent({eventType:t,eventOriginator:1,isFromUserAction:n,additionalParameters:null})}))}))}var Di,zi=class{static getQueryString(){return self.location.search}};function Bi(t,e,n){if(e[n])return e[n];const s=t.querySelector(`style[${n}], link[${n}]`);return s?(e[n]=s,s):null}function Fi(t,e){const n=t.styleSheets;for(let t=0;t<n.length;t++)if(n[t].ownerNode==e)return!0;return!1}function $i(t,e){return Di||(Di=self.document.createElement("a")),function(t,e,n){return t.href="",new URL(e,t.href)}(Di,t)}new Set(["c","v","a","ad"]);var Vi="link",Wi="subscribe",Ki="contribute",qi="showContributionOptions",Hi="showOffers",Yi="started",Ji="rejected",Qi="success";function Zi(t){const e=Object.getOwnPropertyDescriptor(t,"message");if(e&&e.writable)return t;const{message:n,stack:s}=t,i=new Error(n);for(const e in t)i[e]=t[e];return i.stack=s,i}function Xi(t){let e=null,n="";for(let t=0;t<arguments.length;t++){const s=arguments[t];s instanceof Error&&!e?e=Zi(s):(n&&(n+=" "),n+=s)}return e?n&&(e.message=n+": "+e.message):e=new Error(n),e}l(),l();var to=class{constructor(t=""){this.suffix_=t}prepareError_(t){this.suffix_&&(t.message?-1===t.message.indexOf(this.suffix_)&&(t.message=this.suffix_):t.message=this.suffix_)}createError(t){const e=Xi.apply(null,Array.prototype.slice.call(arguments));return this.prepareError_(e),e}createExpectedError(t){const e=Xi.apply(null,Array.prototype.slice.call(arguments));return this.prepareError_(e),e.expected=!0,e}error(t){throw this.createError.apply(this,arguments)}expectedError(t){throw this.createExpectedError.apply(this,arguments)}};new to(self.__AMP_TOP?"​​​":""),new to,new RegExp(["CreativeWork","Article","NewsArticle","Blog","Comment","Course","HowTo","Message","Review","WebPage"].join("|"));var eo="SUBSCRIBER",no=class{static empty(t){return new no({source:"",raw:"",service:t,granted:!1})}constructor(t){const{dataObject:e,decryptedDocumentKey:n,grantReason:s="",granted:i=!1,raw:o="",service:r,source:a}=t;this.raw=o,this.source=a,this.service=r,this.granted=i,this.grantReason=s,this.data=e,this.decryptedDocumentKey=n}json(){return{"source":this.source,"service":this.service,"granted":this.granted,"grantReason":this.grantReason,"data":this.data}}jsonForPingback(){return x({"raw":this.raw},this.json())}static parseFromJson(t,e=null){t||(t={});const n=e||JSON.stringify(t),s=t.source||"",i=t.granted||!1,o=t.grantReason,r=t.data||null,a=t.decryptedDocumentKey||null;return new no({source:s,raw:n,service:"",granted:i,grantReason:o,dataObject:r,decryptedDocumentKey:a})}isSubscriber(){return this.granted&&this.grantReason===eo}isFree(){return this.granted&&"UNLOCKED"===this.grantReason}},so="subscribe.google.com",io=/(^|\.)google\.(com?|[a-z]{2}|com?\.[a-z]{2}|cat)$/,oo={1:!0,11:!0},ro={"subscriptions-paywall-activated":1},ao={[Hi]:{[Yi]:null}},lo=class{constructor(t,e,n){this.cst=n,this.ji=t,this.Xh=N(t.win,"vsync"),this.Kit=!1,this.Jit=n.getAnalytics(),this.Jit.registerEventListener(this.Qit.bind(this)),this.lot=new class{constructor(t,e){const n=t.getHeadNode();this.Ty=function(t,e){const n=_(S(t));return M(n,e)?L(n,e):null}(n,"url-replace"),this.hot=e,this.uot=null}setAuthResponse(t){this.uot=t}buildUrl(t,e){return this.cot(e).then((e=>this.Ty.expandUrlAsync(t,e)))}collectUrlVars(t,e){return this.cot(e).then((e=>this.Ty.collectVars(t,e)))}cot(t){return this.hot.then((e=>{const n={"READER_ID":e,"ACCESS_READER_ID":e};return t&&(n.AUTHDATA=t=>{if(this.uot)return d(this.uot,t)}),n}))}}(this.ji,this.cst.getReaderId("local")),this.Qe=(t=>L(this.ji.win,"timer"))(),this.got=new ho(t.win);const i={"experiments":Object.keys(G(t.win)).filter((e=>{return e.startsWith("swg-")&&(n=e,!!G(t.win)[n]);var n})).map((t=>t.substring(4)))};let o=null;this.pot=new class{constructor(t,e,n,i,o){(n=n||{}).configPromise=n.configPromise||s(),this.eventManager_=new hn(n.configPromise),this.doc_=Ln(t),this.win_=this.doc_.getWin(),this.config_={windowOpenMode:_e,analyticsMode:0,enableSwgAnalytics:!1,enablePropensity:!1},function(t){const e=t.navigator;return/Edge/i.test(e&&e.userAgent)}(this.win_)&&(this.config_.windowOpenMode=Le),i&&this.configure_(i),this.pageConfig_=e,this.documentParsed_=this.doc_.whenReady(),this.jserror_=new class{constructor(t){this.doc_=t,this.microTask_=s()}error(t){const e=Array.prototype.slice.call(arguments,0);return this.microTask_.then((()=>{const t=hs.apply(null,e);t.reported||(this.doc_.getWin().document.createElement("img").src="https://news.google.com/_/SubscribewithgoogleClientUi/jserror?error="+encodeURIComponent(String(t))+"&script="+encodeURIComponent("https://news.google.com/swg/js/v1/swg.js")+"&line="+(t.lineNumber||1)+"&trace="+encodeURIComponent(t.stack),t.reported=!0)}))}}(this.doc_),this.fetcher_=n.fetcher||new class{constructor(t){this.xhr_=new class{constructor(t){this.win=t}fetch_(t,e){yt("string"==typeof t,"Only URL supported: %s",t);const n=e.credentials;return yt(void 0===n||"include"==n||"omit"==n,"Only credentials=include|omit support: %s",n),"document"==e.responseType?is(t,e):(this.win.fetch||is).apply(null,arguments)}fetch(t,e){return e=function(t,e){var n;return(t=t||{}).method=void 0===(n=t.method)?"GET":(n=n.toUpperCase(),yt(ns.includes(n),"Only one of %s is currently allowed. Got %s",ns.join(", "),n),n),t.headers=t.headers||{},t}(e),this.fetch_(t,e).catch((e=>{const n=Me(t).origin;throw new Error(`XHR Failed fetching (${n}/...): (Note: a CORS error above may indicate that this publisher or domain is not configured in Publisher Center. The CORS error happens becasue 4xx responses do not set CORS headers.)`,e&&e.message)})).then((t=>function(t){return new Promise((e=>{if(t.ok)return e(t);const{status:n}=t,s=new Error(`HTTP error ${n}`);throw s.retriable=function(t){return 415==t||t>=500&&t<600}(n),s.response=t,s}))}(t)))}}(t)}fetchCredentialedJson(t){return this.fetch(t,{method:"GET",headers:{"Accept":"text/plain, application/json"},credentials:"include"}).then((t=>t.text().then((t=>Xt(t.replace(as,""))))))}sendPost(t,e){const n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:"f.req="+Ue(e)};return this.fetch(t,n).then((t=>t?t.text().then((t=>{try{return Xt(t.replace(as,""))}catch(t){return Yt.throwAsync(t),{}}})):{}))}fetch(t,e){return this.xhr_.fetch(t,e)}sendBeacon(t,e){if(navigator.sendBeacon){const n={type:"application/x-www-form-urlencoded;charset=UTF-8"},s=new Blob(["f.req="+Ue(e)],n);navigator.sendBeacon(t,s)}else this.sendPost(t,e)}}(this.win_),this.storage_=new class{constructor(t){this.win_=t,this.values_={}}get(t,e=!1){return this.values_[t]||(this.values_[t]=new Promise((n=>{const s=e?this.win_.localStorage:this.win_.sessionStorage;if(s)try{n(s.getItem(Ys(t)))}catch(t){n(null)}else n(null)}))),this.values_[t]}set(t,e,n=!1){return this.values_[t]=Promise.resolve(e),new Promise((s=>{const i=n?this.win_.localStorage:this.win_.sessionStorage;if(i)try{i.setItem(Ys(t),e)}catch(t){}s()}))}remove(t,e=!1){return delete this.values_[t],new Promise((n=>{const s=e?this.win_.localStorage:this.win_.sessionStorage;if(s)try{s.removeItem(Ys(t))}catch(t){}n()}))}}(this.win_),this.dialogManager_=new class{constructor(t){this.doc_=t,this.dialog_=null,this.openPromise_=null,this.popupGraypane_=new Sn(t,2147483647),this.popupWin_=null,this.popupGraypane_.getElement().addEventListener("click",(()=>{if(this.popupWin_)try{this.popupWin_.focus()}catch(t){}}))}openDialog(t=!1,e={}){return this.openPromise_||(this.dialog_=new class{constructor(t,e={},n={},s={}){this.doc_=t;const i=s.desktopConfig||{},o="swg-dialog "+(i.supportsWideScreen?"swg-wide-dialog":""),r=s.iframeCssClassOverride||o;this.iframe_=new class{constructor(t,e={}){const n=Object.assign({},Tn,e);this.iframe_=$t(t,"iframe",n),zt(this.iframe_,Ut),this.ready_=new Promise((t=>{this.iframe_.onload=t}))}whenReady(){return this.ready_}getElement(){return this.iframe_}getDocument(){const t=this.getElement().contentDocument||this.getElement().contentWindow&&this.getElement().contentWindow.document;if(!t)throw new Error("not loaded");return t}getBody(){return this.getDocument().body}isConnected(){return function(t){if("isConnected"in t)return t.isConnected;const e=t.ownerDocument&&t.ownerDocument.documentElement;return e&&e.contains(t)||!1}(this.getElement())}}(t.getWin().document,{"class":r}),this.graypane_=new Sn(t,Rn-1);const a=Object.assign({},On,e);zt(this.iframe_.getElement(),a),Ft(this.iframe_.getElement(),n),this.loadingView_=null,this.container_=null,this.view_=null,this.animating_=null,this.animationNumber_=0,this.hidden_=!1,this.previousProgressView_=null,this.maxAllowedHeightRatio_=void 0!==s.maxAllowedHeightRatio?s.maxAllowedHeightRatio:.9,this.positionCenterOnDesktop_=!!i.isCenterPositioned,this.shouldDisableBodyScrolling_=!!s.shouldDisableBodyScrolling,this.desktopMediaQuery_=this.doc_.getWin().matchMedia("(min-width: 641px)"),this.desktopMediaQueryListener_=null}open(t=!1){const e=this.iframe_;if(e.isConnected())throw new Error("already opened");return this.doc_.getBody().appendChild(e.getElement()),this.graypane_.attach(),t?(zt(e.getElement(),{"visibility":"hidden","opacity":0}),this.hidden_=t):this.show_(),e.whenReady().then((()=>(this.buildIframe_(),this)))}openInContainer(t){const e=this.iframe_;if(e.isConnected())throw new Error("already opened");return t.appendChild(e.getElement()),e.whenReady().then((()=>(this.buildIframe_(),this)))}buildIframe_(){const t=this.iframe_.getBody(),e=this.iframe_.getDocument();Vt(Ln(e),"body{margin:0;padding:0}swg-container,swg-loading,swg-loading-animate,swg-loading-image{display:block}swg-loading-container{-ms-flex-align:center!important;-ms-flex-pack:center!important;align-items:center!important;bottom:0!important;display:-ms-flexbox!important;display:flex!important;height:100%!important;justify-content:center!important;margin-top:5px!important;min-height:148px!important;width:100%!important;z-index:2147483647!important}@media (min-height:630px),(min-width:630px){swg-loading-container{background-color:#fff!important;border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;margin-left:auto!important;margin-right:auto!important;width:560px!important}swg-loading-container.centered-on-desktop{border-radius:8px!important;height:120px!important;min-height:120px!important}}swg-loading{animation:mspin-rotate 1568.63ms linear infinite;height:36px;overflow:hidden;width:36px;z-index:2147483647!important}swg-loading-animate{animation:mspin-revrot 5332ms steps(4) infinite}swg-loading-image{animation:swg-loading-film 5332ms steps(324) infinite;background-image:url(https://news.google.com/swg/js/v1/loader.svg);background-size:100%;height:36px;width:11664px}@keyframes swg-loading-film{0%{transform:translateX(0)}to{transform:translateX(-11664px)}}@keyframes mspin-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes mspin-revrot{0%{transform:rotate(0deg)}to{transform:rotate(-1turn)}}\n/*# sourceURL=/./src/ui/ui.css*/\n");const n=[];this.isPositionCenterOnDesktop()&&n.push("centered-on-desktop"),this.loadingView_=new class{constructor(t,e={}){if(this.doc_=t,this.loadingContainer_=$t(this.doc_,"swg-loading-container",{}),e.additionalClasses)for(const t of e.additionalClasses)this.loadingContainer_.classList.add(t);this.loading_=$t(this.doc_,"swg-loading",{}),this.loadingContainer_.appendChild(this.loading_),this.loadingContainer_.style.setProperty("display","none","important"),this.buildLoadingIndicator_()}getElement(){return this.loadingContainer_}show(){this.loadingContainer_.style.removeProperty("display")}hide(){this.loadingContainer_.style.setProperty("display","none","important")}buildLoadingIndicator_(){const t=this.loading_,e=$t(this.doc_,"swg-loading-animate",{});t.appendChild(e);const n=$t(this.doc_,"swg-loading-image",{});e.appendChild(n)}}(e,{additionalClasses:n}),t.appendChild(this.loadingView_.getElement()),this.container_=$t(e,"swg-container",{}),t.appendChild(this.container_),this.setPosition_(),this.positionCenterOnDesktop_&&(this.desktopMediaQueryListener_=()=>{this.setPosition_()},this.desktopMediaQuery_.addListener(this.desktopMediaQueryListener_))}close(t=!0){let e;if(t){const t=this.shouldPositionCenter_()?{"opacity":0}:{"transform":"translateY(100%)"};e=this.animate_((()=>(this.graypane_.hide(!0),Pn(this.getElement(),t,300,"ease-out"))))}else e=s();return this.doc_.getBody().classList.remove("swg-disable-scroll"),e.then((()=>{const t=this.iframe_.getElement();t.parentNode.removeChild(t),this.removePaddingToHtml_(),this.graypane_.destroy(),this.desktopMediaQueryListener_&&this.desktopMediaQuery_.removeListener(this.desktopMediaQueryListener_)}))}getContainer(){if(!this.container_)throw new Error("not opened yet");return this.container_}getIframe(){return this.iframe_}getElement(){return this.iframe_.getElement()}getLoadingView(){return this.loadingView_}getMaxAllowedHeightRatio(){return this.maxAllowedHeightRatio_}isPositionCenterOnDesktop(){return this.positionCenterOnDesktop_}entryTransitionToNextView_(){this.view_&&this.view_.hasLoadingIndicator()?this.previousProgressView_=this.view_:(this.getContainer().textContent="",this.loadingView_.show())}exitTransitionFromOldView_(){var t;this.previousProgressView_?((t=this.previousProgressView_.getElement()).parentElement&&t.parentElement.removeChild(t),this.previousProgressView_=null):this.loadingView_.hide()}getCurrentView(){return this.view_}openView(t){return zt(t.getElement(),Mn),this.entryTransitionToNextView_(),this.view_=t,this.getContainer().appendChild(t.getElement()),this.shouldDisableBodyScrolling_&&this.doc_.getBody().classList.add("swg-disable-scroll"),t.shouldFadeBody()&&!this.hidden_&&this.graypane_.show(!0),t.init(this).then((()=>{zt(t.getElement(),{"opacity":1}),this.hidden_&&(t.shouldFadeBody()&&this.graypane_.show(!0),this.show_()),this.exitTransitionFromOldView_()}))}show_(){this.animate_((()=>(zt(this.getElement(),{"transform":"translateY(100%)","opactiy":1,"visibility":"visible"}),Pn(this.getElement(),{"transform":this.getDefaultTranslateY_(),"opacity":1,"visibility":"visible"},300,"ease-out").then((()=>{this.getElement().focus()}))))),this.hidden_=!1}resizeView(t,e,n=!0){if(this.view_!=t)return null;const i=this.getMaxAllowedHeight_(e),o=++this.animationNumber_,r=()=>o!==this.animationNumber_;let a;if(n){const t=this.getElement().offsetHeight;a=i>=t?this.animate_((()=>{if(r())return s();const e={"height":`${i}px`};return this.shouldPositionCenter_()||(e.transform=`translateY(${i-t}px)`),zt(this.getElement(),e),Pn(this.getElement(),{"transform":this.getDefaultTranslateY_()},300,"ease-out")})):this.animate_((()=>(r()?s():Pn(this.getElement(),{"transform":this.shouldPositionCenter_()?this.getDefaultTranslateY_():`translateY(${t-i}px)`},300,"ease-out")).then((()=>{r()||zt(this.getElement(),{"height":`${i}px`,"transform":this.getDefaultTranslateY_()})}))))}else zt(this.getElement(),{"height":`${i}px`}),a=s();return a.then((()=>{r()||(this.updatePaddingToHtml_(e),t.resized())}))}animate_(t){const e=this.animating_||s();return this.animating_=e.then((()=>t()),(()=>{})).then((()=>{this.animating_=null}))}getMaxAllowedHeight_(t){return Math.min(t,this.doc_.getWin().innerHeight*this.maxAllowedHeightRatio_)}updatePaddingToHtml_(t){if(this.shouldPositionCenter_())return void this.removePaddingToHtml_();const e=t+20;zt(this.doc_.getRootElement(),{"padding-bottom":`${e}px`})}removePaddingToHtml_(){this.doc_.getRootElement().style.removeProperty("padding-bottom")}setPosition_(){zt(this.getElement(),this.getPositionStyle_())}shouldPositionCenter_(){return this.positionCenterOnDesktop_&&this.desktopMediaQuery_.matches}getPositionStyle_(){return this.shouldPositionCenter_()?{"top":"50%","bottom":0,"transform":this.getDefaultTranslateY_()}:{"top":"auto","bottom":0,"transform":this.getDefaultTranslateY_()}}getDefaultTranslateY_(){return this.shouldPositionCenter_()?"translateY(-50%)":"translateY(0px)"}}(this.doc_,{},{},e),this.openPromise_=this.dialog_.open(t)),this.openPromise_}openView(t,e=!1,n={}){return this.handleCancellations(t),this.openDialog(e,n).then((e=>e.openView(t)))}handleCancellations(t){return t.whenComplete().catch((e=>{throw qt(e)&&this.completeView(t),e}))}completeView(t){setTimeout((()=>{this.dialog_&&this.dialog_.getCurrentView()==t&&this.close_()}),100)}completeAll(){this.dialog_&&this.close_(),this.popupGraypane_.isAttached()&&this.popupGraypane_.destroy()}getDialog(){return this.dialog_}close_(){this.dialog_.close(),this.dialog_=null,this.openPromise_=null}popupOpened(t){this.popupWin_=t||null,this.popupGraypane_.isAttached()||this.popupGraypane_.attach(),this.popupGraypane_.show()}popupClosed(){this.popupWin_=null;try{this.popupGraypane_.hide()}catch(t){}}}(this.doc_),this.callbacks_=new class{constructor(){this.callbacks_={},this.resultBuffer_={},this.paymentResponsePromise_=null}setOnEntitlementsResponse(t){this.setCallback_(1,t)}triggerEntitlementsResponse(t){return this.trigger_(1,t.then((t=>t.clone())))}hasEntitlementsResponsePending(){return!!this.resultBuffer_[1]}setOnLoginRequest(t){this.setCallback_(4,t)}triggerLoginRequest(t){return this.trigger_(4,t)}setOnLinkProgress(t){this.setCallback_(5,t)}triggerLinkProgress(){return this.trigger_(5,!0)}resetLinkProgress(){this.resetCallback_(5)}setOnLinkComplete(t){this.setCallback_(6,t)}triggerLinkComplete(){return this.trigger_(6,!0)}hasLinkCompletePending(){return!!this.resultBuffer_[6]}setOnPayConfirmOpened(t){this.setCallback_(9,t)}triggerPayConfirmOpened(t){return this.trigger_(9,t)}setOnSubscribeRequest(t){this.setCallback_(2,t)}triggerSubscribeRequest(){return this.trigger_(2,!0)}hasSubscribeRequestCallback(){return!!this.callbacks_[2]}setOnOffersFlowRequest(t){this.setCallback_(10,t)}triggerOffersFlowRequest(){return this.trigger_(10,!0)}hasOffersFlowRequestCallback(){return!!this.callbacks_[10]}setOnSubscribeResponse(t){xt("[swg.js:setOnSubscribeResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'"),this.setCallback_(3,t)}setOnContributionResponse(t){xt("[swg.js:setOnContributionResponse]: This method has been deprecated, please switch usages to 'setOnPaymentResponse'"),this.setCallback_(3,t)}setOnPaymentResponse(t){this.setCallback_(3,t)}triggerPaymentResponse(t){return this.paymentResponsePromise_=t.then((t=>{this.trigger_(3,Promise.resolve(t.clone()))}),(t=>{if(!qt(t))throw t})),!!this.callbacks_[3]}hasPaymentResponsePending(){return!!this.resultBuffer_[3]}setOnFlowStarted(t){this.setCallback_(7,t)}triggerFlowStarted(t,e={}){return this.trigger_(7,{flow:t,data:e})}setOnFlowCanceled(t){this.setCallback_(8,t)}triggerFlowCanceled(t,e={}){return this.trigger_(8,{flow:t,data:e})}setCallback_(t,e){this.callbacks_[t]&&xt("[swg.js]: You have registered multiple callbacks for the same response."),this.callbacks_[t]=e,t in this.resultBuffer_&&this.executeCallback_(t,e,this.resultBuffer_[t])}trigger_(t,e){this.resultBuffer_[t]=e;const n=this.callbacks_[t];return n&&this.executeCallback_(t,n,e),!!n}resetCallback_(t){t in this.resultBuffer_&&delete this.resultBuffer_[t]}executeCallback_(t,e,n){s().then((()=>{e(n),this.resetCallback_(t)}))}},this.lastOffersFlow_=null,this.lastContributionsFlow_=null,this.publisherProvidedId_=void 0,n.enableGoogleAnalytics&&(this.googleAnalyticsEventListener_=new ls(this),this.googleAnalyticsEventListener_.start()),this.activityPorts_=new class{constructor(t){this.deps_=t,this.activityPorts_=new sn(t.win())}addDefaultArguments(t){const e=this.deps_,n=e.pageConfig(),s=e.analytics().getContext();return Object.assign({"analyticsContext":s.toArray(),"publicationId":n.getPublicationId(),"productId":n.getProductId(),"_client":"SwG b4808644","supportsEventManager":!0},t||{})}openActivityIframePort_(t,e,n){const s=new class{constructor(t,e,n,s){this.iframePort_=new nn(t,e,s),this.callbackMap_={},this.deps_=n}whenReady(){return this.iframePort_.whenReady()}connect(){return this.iframePort_.connect().then((()=>{this.iframePort_.onMessage((t=>{const e=t&&t.RESPONSE;if(!e)return;const n=this.callbackMap_[e[0]];n&&n(function(t){const e=t?t[0]:null;if(e){const n=ft[e];if(n)return new n(t)}throw new Error("Deserialization failed for "+t)}(e))})),this.deps_&&this.deps_.eventManager()&&this.on(tt,(t=>{const e=t;this.deps_.eventManager().logEvent({eventType:e.getEvent(),eventOriginator:4,isFromUserAction:e.getMeta().getIsFromUserAction(),additionalParameters:e.getParams()})}))}))}disconnect(){this.iframePort_.disconnect()}getMode(){return this.iframePort_.getMode()}acceptResult(){return this.iframePort_.acceptResult()}onResizeRequest(t){return this.iframePort_.onResizeRequest(t)}execute(t){this.iframePort_.message({"REQUEST":t.toArray()})}on(t,e){let n=null;try{n=(new t).label()}catch(t){n=null}if(!n)throw new Error("Invalid data type");if(this.callbackMap_[n])throw new Error("Invalid type or duplicate callback for ",n);this.callbackMap_[n]=e}resized(){this.iframePort_.resized()}}(t,e,this.deps_,n);return s.connect().then((()=>s))}openIframe(t,e,n,s=!1){return s&&(n=this.addDefaultArguments(n)),this.deps_.storage().get(Zt.USER_TOKEN,!0).then((s=>{const i=new URL(e).searchParams;s&&!i.has("sut")&&(e=Ge(e,"sut",s));const o=this.deps_.pageConfig().getPublicationId();return o&&!i.has("publicationId")&&(e=Ge(e,"publicationId",o)),this.openActivityIframePort_(t,e,n)}))}open(t,e,n,s,i,o=!1){return o&&(s=this.addDefaultArguments(s)),this.activityPorts_.open(t,e,n,s,i)}onResult(t,e){this.activityPorts_.onResult(t,(t=>{e(new class{constructor(t){this.port_=t}acceptResult(){return this.port_.acceptResult()}}(t))}))}onRedirectError(t){this.activityPorts_.onRedirectError(t)}getOriginalWebActivityPorts(){return this.activityPorts_}}(this),this.analyticsService_=new class{constructor(t,e){this.fetcher_=e,this.doc_=t.doc(),this.deps_=t,this.activityPorts_=t.activities(),this.iframe_=$t(this.doc_.getWin().document,"iframe",{}),zt(this.iframe_,wn),this.doc_.getBody().appendChild(this.getElement()),this.everFinishedLog_=!1,this.context_=new Z,this.setStaticContext_(),this.serviceReady_=null,this.lastAction_=null,this.eventManager_=t.eventManager(),this.eventManager_.registerEventListener(this.handleClientEvent_.bind(this)),this.unfinishedLogs_=0,this.loggingResolver_=null,this.promiseToLog_=null,this.loggingBroken_=!1,this.timeout_=null,this.getTimestamp_=()=>bn(Date.now()),this.readyForLogging_=!1,this.logs_=[]}setReadyForLogging(){this.readyForLogging_=!0,this.logs_.forEach((t=>{this.handleClientEvent_(t)}))}setTransactionId(t){const e=this.context_.getTransactionId();if(this.context_.setTransactionId(t),null!=e&&e!=t){const t=3006,n=new it;n.setOldTransactionId(e),this.eventManager_.logSwgEvent(t,!0,n)}}getTransactionId(){return this.context_.getTransactionId()}getSku(){return this.context_.getSku()}setSku(t){this.context_.setSku(t)}setUrl(t){this.context_.setUrl(t)}addLabels(t){if(t&&t.length>0){const e=[].concat(this.context_.getLabelList());for(const n of t)-1==e.indexOf(n)&&e.push(n);this.context_.setLabelList(e)}}getElement(){return this.iframe_}getQueryString_(){return this.doc_.getWin().location.search}getReferrer_(){return this.doc_.getWin().document.referrer}setStaticContext_(){const t=this.context_;mn(this.doc_.getWin(),"update-google-transaction-id")?t.setTransactionId(Mt()+".swg"):t.setTransactionId(Mt()),t.setReferringOrigin(Me(this.getReferrer_()).origin),t.setClientVersion("SwG b4808644"),t.setUrl(De(this.doc_));const e=je(this.getQueryString_()),n=e.utm_campaign,s=e.utm_medium,i=e.utm_source;n&&t.setUtmCampaign(n),s&&t.setUtmMedium(s),i&&t.setUtmSource(i)}start(){return this.serviceReady_||(this.addLabels(fn(this.doc_.getWin())),this.serviceReady_=this.activityPorts_.openIframe(this.iframe_,qe("/serviceiframe"),null,!0).then((t=>(t.on(ot,this.afterLogging_.bind(this)),t.whenReady().then((()=>(this.addLabels(fn(this.doc_.getWin())),t))))),(t=>{this.loggingBroken_=!0,this.afterLogging_(xn("Could not connect ["+t+"]"))}))),this.serviceReady_}setReadyToPay(t){this.context_.setReadyToPay(t)}close(){this.doc_.getBody().removeChild(this.getElement())}getContext(){return this.context_}createLogRequest_(t){const e=new X;e.setEventOriginator(t.eventOriginator),e.setIsFromUserAction(!!t.isFromUserAction),this.context_.setClientTimestamp(this.getTimestamp_());const n=new tt;return n.setEvent(t.eventType),n.setContext(this.context_),n.setMeta(e),t.additionalParameters instanceof it&&n.setParams(t.additionalParameters),n}shouldLogPublisherEvents_(){return!0===this.deps_.config().enableSwgAnalytics}shouldAlwaysLogEvent_(t){return 11===t.eventType&&2===t.eventOriginator}handleClientEvent_(t){t.eventType!==H&&6!==t.eventOriginator&&(!hn.isPublisherEvent(t)||this.shouldLogPublisherEvents_()||this.shouldAlwaysLogEvent_(t))&&(this.readyForLogging_?(this.unfinishedLogs_++,this.lastAction_=this.start().then((e=>{const n=this.createLogRequest_(t);e.execute(n),mn(this.doc_.getWin(),"logging-beacon")&&this.sendBeacon_(n)}))):this.logs_.push(t))}afterLogging_(t){const e=t,n=e&&e.getComplete()||!1,s=e&&e.getError()||"Unknown logging Error",i=s===vn;n||vt("Error when logging: "+s),this.unfinishedLogs_--,i||(this.everFinishedLog_=!0),null!==this.loggingResolver_&&(0===this.unfinishedLogs_||this.loggingBroken_||i)&&(null!==this.timeout_&&(clearTimeout(this.timeout_),this.timeout_=null),this.loggingResolver_(n),this.promiseToLog_=null,this.loggingResolver_=null)}getLoggingPromise(){if(0===this.unfinishedLogs_||this.loggingBroken_)return Promise.resolve(!0);if(null===this.promiseToLog_){this.promiseToLog_=new Promise((t=>{this.loggingResolver_=t}));const t=this.afterLogging_.bind(this);this.timeout_=setTimeout((()=>{this.timeout_=null,t(xn(vn))}),this.everFinishedLog_?200:500)}return this.promiseToLog_}sendBeacon_(t){const e=We("/publication/"+encodeURIComponent(this.deps_.pageConfig().getPublicationId())+"/clientlogs");this.fetcher_.sendBeacon(e,t)}}(this,this.fetcher_),this.payClient_=new class{constructor(t){this.win_=t.win(),this.activityPorts_=t.activities(),this.responseCallback_=null,this.request_=null,this.response_=null,this.analytics_=t.analytics(),this.redirectVerifierHelper_=new class{constructor(t){this.win_=t,this.pairCreated_=!1,this.pair_=null,this.pairPromise_=null}prepare(){return this.getOrCreatePair_((()=>{}))}useVerifier(t){this.getOrCreatePair_((e=>{if(e)try{this.win_.localStorage.setItem(Ks,e.key)}catch(t){e=null}t(e&&e.verifier||null)}))}restoreKey(){try{return this.win_.localStorage&&this.win_.localStorage.getItem(Ks)||null}catch(t){return null}}getOrCreatePair_(t){return this.createPair_(),this.pairCreated_?t(this.pair_):this.pairPromise_&&this.pairPromise_.then((e=>t(e))),this.pairPromise_}createPair_(){if(this.pairCreated_||this.pairPromise_)return;let t;try{t=!!this.win_.localStorage}catch(e){t=!1}const e=this.win_.crypto;t&&e&&e.getRandomValues&&e.subtle&&e.subtle.digest?this.pairPromise_=new Promise(((t,n)=>{const s=new Uint8Array(16);e.getRandomValues(s);const i=btoa(Tt(s));e.subtle.digest({name:"SHA-384"},Nt(i)).then((e=>{const n=btoa(Tt(new Uint8Array(e)));t({key:i,verifier:n})}),(t=>{n(t)}))})).catch((()=>null)).then((t=>(this.pairCreated_=!0,this.pair_=t,t))):(this.pairCreated_=!0,this.pair_=null)}}(this.win_),this.client_=null,this.preconnect_=new Ws(this.win_.document),mn(this.win_,"pay-client-redirect")&&this.pageIsInitializedFromPayRedirect_()&&(this.preconnect(this.preconnect_),this.initializePaymentsClient_()),this.redirectVerifierHelper_.prepare(),this.eventManager_=t.eventManager()}createClient_(t,e,n){return $s.googleTransactionId_=e,new $s(t,n,!1,this.activityPorts_.getOriginalWebActivityPorts())}preconnect(t){t.prefetch(He(qs[$e().payEnv]+"/gp/p/ui/pay")),t.prefetch("https://payments.google.com/payments/v4/js/integrator.js?ss=md"),t.prefetch("https://clients2.google.com/gr/gr_full_2.0.6.js")}initializePaymentsClient_(){this.client_=this.createClient_({environment:$e().payEnv,"i":{"redirectKey":this.redirectVerifierHelper_.restoreKey()}},this.analytics_.getTransactionId(),this.handleResponse_.bind(this))}pageIsInitializedFromPayRedirect_(){const t=this.win_.location.hash,e=/redirectEncryptedCallbackData/.test(t),n=/swgRequest/.test(t);return e&&n}getType(){return"PAYJS"}start(t,e={}){this.request_=t,this.client_||(this.preconnect(this.preconnect_),this.initializePaymentsClient_()),e.forceRedirect&&(t=Object.assign(t,{"forceRedirect":e.forceRedirect||!1})),Hs(t,"disableNative",e.forceDisableNative||this.win_!=this.top_());let n=null;const s=new Promise((t=>n=t));return this.redirectVerifierHelper_.useVerifier((s=>{if(s&&Hs(t,"redirectVerifier",s),e.forceRedirect){const e=this.client_;this.eventManager_.getReadyPromise().then((()=>{this.analytics_.getLoggingPromise().then((()=>{e.loadPaymentData(t),n(!0)}))}))}else this.client_.loadPaymentData(t),n(!0)})),s}onResponse(t){this.responseCallback_=t;const e=this.response_;e&&s().then((()=>{e&&t(this.convertResponse_(e,this.request_))}))}handleResponse_(t){this.response_=t,this.responseCallback_&&this.responseCallback_(this.convertResponse_(this.response_,this.request_))}convertResponse_(t,e){return t.then((t=>(e&&(t.paymentRequest=e),t))).catch((t=>{if("object"==typeof t&&"CANCELED"==t.statusCode){const t=Ht(this.win_);return t.productType=e?e.i.productType:null,Promise.reject(t)}return Promise.reject(t)}))}top_(){return this.win_.top}}(this),this.logger_=new class{constructor(t){this.eventManager_=t.eventManager()}sendSubscriptionState(t,e){if("unknown"!==(n=t)&&"non_subscriber"!==n&&"subscriber"!==n&&"past_subscriber"!==n)throw new Error("Invalid subscription state provided");var n;if((ge.SUBSCRIBER==t||ge.PAST_SUBSCRIBER==t)&&!e)throw new Error("Entitlements must be provided for users with active or expired subscriptions");if(e&&!on(e))throw new Error("Entitlements must be an Object");let s=null;e&&(s=JSON.stringify(e)),this.eventManager_.logEvent({eventType:H,eventOriginator:5,isFromUserAction:null,additionalParameters:{state:t,productsOrSkus:s}})}sendEvent(t){let e=null;if(!D(t.name)||!Jn(t.name))throw new Error("Invalid user event provided("+t.name+")");if(t.data){if(!on(t.data))throw new Error("Event data must be an Object("+t.data+")");e=Object.assign({},e,t.data)}if(an(t.active))e||(e={}),Object.assign(e,{"is_active":t.active});else if(null!=t.active)throw new Error("Event active must be a boolean");this.eventManager_.logEvent({eventType:Jn(t.name),eventOriginator:5,isFromUserAction:t.active,additionalParameters:e})}}(this),this.entitlementsManager_=new class{constructor(t,e,n,s,i,o){this.win_=t,this.pageConfig_=e,this.publicationId_=this.pageConfig_.getPublicationId(),this.fetcher_=n,this.deps_=s,this.jwtHelper_=new ie,this.responsePromise_=null,this.positiveRetries_=0,this.blockNextNotification_=!1,this.blockNextToast_=!1,this.encodedParams_=null,this.encodedParamName_=i?"encodedEntitlementsParams":"encodedParams",this.action_=i?"/article":"/entitlements",this.storage_=s.storage(),this.analyticsService_=s.analytics(),this.config_=s.config(),this.entitlementsPostPromise=null,this.useArticleEndpoint_=i,this.enableDefaultMeteringHandler_=o,this.article_=null,this.enableMeteredByGoogle_=!1,this.deps_.eventManager().registerEventListener(this.possiblyPingbackOnClientEvent_.bind(this))}reset(t){this.responsePromise_=null,this.positiveRetries_=Math.max(this.positiveRetries_,t?3:0),t&&(this.storage_.remove(Xn),this.storage_.remove(ts))}clear(){this.responsePromise_=null,this.positiveRetries_=0,this.unblockNextNotification(),this.storage_.remove(Xn),this.storage_.remove(Zn),this.storage_.remove(ts)}getEntitlements(t){return"string"==typeof t&&(Date.now()>1600289016959&&xt("[swg.js:getEntitlements]: If present, the first param of getEntitlements() should be an object of type GetEntitlementsParamsExternalDef."),t={encryption:{encryptedDocumentKey:t}}),this.responsePromise_||(this.responsePromise_=this.getEntitlementsFlow_(t)),this.responsePromise_.then((t=>(null!=t.isReadyToPay&&this.analyticsService_.setReadyToPay(t.isReadyToPay),t)))}pushNextEntitlements(t,e){const n=this.getValidJwtEntitlements_(t,!0,e);return!(!n||!n.enablesThis()||(this.storage_.set(Xn,t),0))}getGaaToken_(){return je(this.win_.location.search).gaa_n}consumeMeter_(t){if(!t||t.source!==oe)return;let e,n;if(t.subscriptionTokenContents&&2===t.subscriptionTokenContents.metering.clientType)n=2002;else{if(!Qn(this.win_.location.search))return;n=2001,e=this.getGaaToken_()}this.deps_.eventManager().logSwgEvent(W,!1);const s=new et;return s.setSource(t.source),s.setJwt(t.subscriptionToken),this.postEntitlementsRequest_(s,Y,n,e)}possiblyPingbackOnClientEvent_(t){var e,n,s,i;if(!Qn(this.win_.location.search,!0))return;const o=function(t){return Wn[t]}(t.eventType);if(!o)return;let r=null;switch(t.eventOriginator){case 6:r=3001;break;case 1:if(o==Y)return;r=1001;break;default:return}const a=this.getGaaToken_(),l=null==t||null===(e=t.additionalParameters)||void 0===e||null===(n=e.getIsUserRegistered)||void 0===n?void 0:n.call(e),h=null==t||null===(s=t.additionalParameters)||void 0===s||null===(i=s.getSubscriptionTimestamp)||void 0===i?void 0:i.call(s);this.postEntitlementsRequest_(new et,o,r,a,l,h)}postEntitlementsRequest_(t,e,n,i="",o=null,r=null){const a=new nt;a.setUsedEntitlement(t),a.setClientEventTime(bn(Date.now())),a.setEntitlementResult(e),a.setEntitlementSource(n),a.setToken(i),"boolean"==typeof o&&a.setIsUserRegistered(o),r&&a.setSubscriptionTimestamp(r);let l="/publication/"+encodeURIComponent(this.publicationId_)+this.action_;l=es(this.win_.location,l);const h=this.encodedParams_?s():jt(De(this.deps_.doc())).then((t=>{const e={metering:{resource:{hashedCanonicalUrl:t}}};this.encodedParams_=Lt(St(JSON.stringify(e)))})),u=this.storage_.get(Zt.USER_TOKEN,!0);this.entitlementsPostPromise=Promise.all([u,h]).then((t=>{const e=t[0];return e&&(l=Ge(l,"sut",e)),l=Ge(l,this.encodedParamName_,this.encodedParams_),this.fetcher_.sendPost(We(l),a)}))}getEntitlementsFlow_(t){return this.fetchEntitlementsWithCaching_(t).then((t=>(this.onEntitlementsFetched_(t),t)))}fetchEntitlementsWithCaching_(t){return Promise.all([this.storage_.get(Xn),this.storage_.get(ts)]).then((e=>{const n=e[0],s=e[1],i=!(!t||!t.encryption);if(n&&!i){const t=this.getValidJwtEntitlements_(n,!0,function(t){switch(t){case"true":return!0;case"false":return!1;default:return}}(s));if(t&&t.enablesThis())return this.positiveRetries_=0,t}return this.fetchEntitlements_(t).then((t=>(t&&t.enablesThisWithCacheableEntitlements()&&t.raw&&this.storage_.set(Xn,t.raw),t)))}))}getArticle(){return this.useArticleEndpoint_&&this.responsePromise_?this.responsePromise_.then((()=>Promise.resolve(this.article_))):s()}getExperimentConfigFlags(){return this.getArticle().then((t=>{const e=t.experimentConfig;if(null!=e){const t=e.experimentFlags;if(null!=t)return t}return[]}))}fetchEntitlements_(t){let e=this.positiveRetries_;this.positiveRetries_=0;const n=()=>(e--,this.fetch_(t).then((t=>t.enablesThis()||e<=0?t:new Promise((t=>{this.win_.setTimeout((()=>{t(n())}),550)})))));return n()}setToastShown(t){this.storage_.set(Zn,t?"1":"0")}blockNextNotification(){this.blockNextNotification_=!0}blockNextToast(){this.blockNextToast_=!0}unblockNextNotification(){this.blockNextNotification_=!1}enableMeteredByGoogle(){this.enableMeteredByGoogle_=!0}parseEntitlements(t){const e=t.isReadyToPay;null==e?this.storage_.remove(ts):this.storage_.set(ts,String(e));const n=t.signedEntitlements,s=t.decryptedDocumentKey,i=t.swgUserToken;if(i&&this.saveSwgUserToken_(i),n){const t=this.getValidJwtEntitlements_(n,!1,e,s);if(t)return t}else{const n=t.entitlements;if(n)return this.createEntitlements_("",n,e,s)}return this.createEntitlements_("",[],e)}saveSwgUserToken_(t){t&&this.storage_.set(Zt.USER_TOKEN,t,!0)}getValidJwtEntitlements_(t,e,n,s){try{const i=this.jwtHelper_.decode(t);if(e){const t=Date.now(),e=i.exp;if(1e3*parseFloat(e)<t)return null}const o=i.entitlements;return o&&this.createEntitlements_(t,o,n,s)||null}catch(t){this.win_.setTimeout((()=>{throw t}))}return null}createEntitlements_(t,e,n,s){return new re("subscribe.google.com",t,ae.parseListFromJson(e,this.jwtHelper_),this.pageConfig_.getProductId(),this.ack_.bind(this),this.consume_.bind(this),n,s)}onEntitlementsFetched_(t){const e=this.blockNextNotification_;this.blockNextNotification_=!1;const n=this.blockNextToast_;if(this.blockNextToast_=!1,e)return;this.deps_.callbacks().triggerEntitlementsResponse(Promise.resolve(t)),this.enableDefaultMeteringHandler_&&t.enablesThisWithGoogleMetering()&&t.consume();const s=t.getEntitlementForThis();s?n||this.maybeShowToast_(s):this.deps_.eventManager().logSwgEvent(K,!1)}maybeShowToast_(t){if(t.source===oe)return this.deps_.eventManager().logSwgEvent(q,!1),s();const e=new it;e.setIsUserRegistered(!0),t.subscriptionTimestamp&&e.setSubscriptionTimestamp(t.subscriptionTimestamp);const n="privileged"===t.source?3014:V;return this.deps_.eventManager().logSwgEvent(n,!1,e),this.storage_.get(Zn).then((e=>{if("1"===e)return;const n=t.source||oe;return new class{constructor(t,e,n){this.doc_=t.doc(),this.activityPorts_=t.activities(),this.src_=e,this.args_=n||{},this.animating_=null,this.iframe_=$t(this.doc_.getWin().document,"iframe",Bn),zt(this.iframe_,zn),this.ready_=new Promise((t=>{this.iframe_.onload=t}))}getElement(){return this.iframe_}open(){return this.doc_.getBody().appendChild(this.iframe_),this.buildToast_()}buildToast_(){return this.activityPorts_.openIframe(this.iframe_,this.src_,this.args_).then((t=>t.whenReady())).then((()=>{!function(t,e){const n={};for(const t of["height"])n[t]=null;Ft(t,n)}(this.iframe_),this.animate_((()=>(zt(this.iframe_,{"transform":"translateY(100%)","opactiy":1,"visibility":"visible"}),Pn(this.iframe_,{"transform":"translateY(0)","opacity":1,"visibility":"visible"},400,"ease-out")))),this.doc_.getWin().setTimeout((()=>{this.close()}),8e3)}))}animate_(t){const e=this.animating_||s();return this.animating_=e.then((()=>t())).catch((()=>{})).then((()=>{this.animating_=null}))}close(){return this.animate_((()=>(this.doc_.getWin().setTimeout((()=>(this.doc_.getBody().removeChild(this.iframe_),s())),500),Pn(this.iframe_,{"transform":"translateY(100%)","opacity":1,"visibility":"visible"},400,"ease-out"))))}}(this.deps_,qe("/toastiframe"),Ye({"publicationId":this.publicationId_,"source":n})).open()}))}ack_(t){t.getEntitlementForThis()&&this.setToastShown(!0)}consume_(t,e){if(t.enablesThisWithGoogleMetering()){const n=t.getEntitlementForThis(),i=()=>{e&&e(),this.consumeMeter_(n)};if(!n.subscriptionTokenContents)return i();if(n.subscriptionTokenContents.metering&&!0===n.subscriptionTokenContents.metering.showToast){const t=new class{constructor(t,{meterClientType:e=1,meterClientUserAttribute:n="anonymous_user"}={}){this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.meterClientType_=e,this.meterClientUserAttribute_=n,this.onConsumeCallback_=null,this.onConsumeCallbackHandled_=!1,this.scrollEventListener_=null}start(){var t;const e={isClosable:!0,hasSubscriptionCallback:this.deps_.callbacks().hasSubscribeRequestCallback()};if(2===this.meterClientType_&&(e.meterType="anonymous_user"===this.meterClientUserAttribute_?"UNKNOWN":Gn.includes(this.meterClientUserAttribute_)?"KNOWN":Dn),e.meterType===Dn)return s();const n=this.activityPorts_.addDefaultArguments(e),i=Un[null!==(t=this.meterClientType_)&&void 0!==t?t:1],o={"origin":Me(this.win_.location.href).origin};return this.deps_.clientConfigManager().shouldForceLangInIframes()&&(o.hl=this.deps_.clientConfigManager().getLanguage()),this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe(i,o),n,!1),this.sendCloseRequestFunction_=()=>{const t=new dt;t.setClose(!0),this.activityIframeView_.execute(t),this.removeCloseEventListener(),this.deps_.eventManager().logSwgEvent(1027,!0),this.onConsumeCallback_&&!this.onConsumeCallbackHandled_&&(this.onConsumeCallbackHandled_=!0,this.onConsumeCallback_())},this.deps_.callbacks().triggerFlowStarted("showMeterToast"),this.activityIframeView_.on(mt,this.startSubscriptionFlow_.bind(this)),this.deps_.callbacks().hasSubscribeRequestCallback()||this.deps_.callbacks().hasOffersFlowRequestCallback()||xt("[swg.js]: `setOnNativeSubscribeRequest` has not been set before starting the metering flow, so users will not be able to subscribe from the metering dialog directly. Please call `setOnNativeSubscribeRequest` with a subscription flow callback before starting metering."),this.dialogManager_.handleCancellations(this.activityIframeView_).catch((t=>{if(this.onConsumeCallback_&&!this.onConsumeCallbackHandled_&&(this.onConsumeCallbackHandled_=!0,this.onConsumeCallback_()),!qt(t))throw console.error("[swg.js]: Error occurred during meter toast handling: "+t),t})),this.dialogManager_.openDialog().then((t=>(this.setDialogBoxShadow_(),this.setLoadingViewWidth_(),t.openView(this.activityIframeView_).then((()=>{if(this.win_.addEventListener("click",this.sendCloseRequestFunction_),this.win_.addEventListener("touchstart",this.sendCloseRequestFunction_),this.win_.addEventListener("mousedown",this.sendCloseRequestFunction_),this.isMobile_())Bt(this.win_.document.body,"overflow","hidden");else{let t,e;this.scrollEventListener_=()=>{t=t||this.win_.pageYOffset,this.win_.clearTimeout(e),e=this.win_.setTimeout((()=>{Math.abs(this.win_.pageYOffset-t)>100&&this.sendCloseRequestFunction_()}),100)},this.win_.addEventListener("scroll",this.scrollEventListener_)}this.deps_.eventManager().logSwgEvent(21),this.deps_.eventManager().logSwgEvent(3011)})))))}setOnConsumeCallback(t){this.onConsumeCallback_=t}removeCloseEventListener(){this.win_.removeEventListener("click",this.sendCloseRequestFunction_),this.win_.removeEventListener("touchstart",this.sendCloseRequestFunction_),this.win_.removeEventListener("mousedown",this.sendCloseRequestFunction_),this.isMobile_()?Bt(this.win_.document.body,"overflow","visible"):this.win_.removeEventListener("scroll",this.scrollEventListener_)}setDialogBoxShadow_(){const t=this.win_.matchMedia("(max-width: 640px), (max-height: 640px)"),e=this.dialogManager_.getDialog().getElement();t.matches&&zt(e,{"box-shadow":jn}),t.addListener((t=>{t.matches?zt(e,{"box-shadow":jn}):zt(e,{"box-shadow":""})}))}setLoadingViewWidth_(){this.win_.matchMedia("(min-width: 640px) and (min-height: 640px)").matches&&zt(this.dialogManager_.getDialog().getLoadingView().getElement(),{"width":"420px","margin":"auto"})}startSubscriptionFlow_(t){this.removeCloseEventListener(),this.onConsumeCallbackHandled_=!0,t.getNative()?this.deps_.callbacks().triggerSubscribeRequest():this.deps_.callbacks().triggerOffersFlowRequest()}isMobile_(){return!!this.win_.navigator.userAgent.match(/Android|iPhone|iPad|iPod|BlackBerry|IEMobile/i)}}(this.deps_,{meterClientType:n.subscriptionTokenContents.metering.clientType,meterClientUserAttribute:n.subscriptionTokenContents.metering.clientUserAttribute});return t.setOnConsumeCallback(i),t.start()}return i()}}fetch_(t){const e=this.storage_.get(Zt.USER_TOKEN,!0),n=this.storage_.get(Zt.READ_TIME,!1);let s="/publication/"+encodeURIComponent(this.publicationId_)+this.action_;return Promise.all([jt(De(this.deps_.doc())),e,n]).then((e=>{var n;const i=e[0],o=e[1],r=e[2];if(s=es(this.win_.location,s),null!=t&&t.encryption&&(s=Ge(s,"crypt",t.encryption.encryptedDocumentKey)),o&&(s=Ge(s,"sut",o)),this.config_.publisherProvidedId?s=Ge(s,"ppid",this.config_.publisherProvidedId):null!=t&&t.publisherProvidedId&&"string"==typeof t.publisherProvidedId&&t.publisherProvidedId.length>0&&(s=Ge(s,"ppid",t.publisherProvidedId)),r){const t=parseInt(r,10);if(t){const e=Math.floor((Date.now()-t)/1e3);e>=0&&(s=Ge(s,"interaction_age",e.toString()))}}let a=this.enableMeteredByGoogle_?{metering:{clientTypes:[2],owner:this.publicationId_,resource:{hashedCanonicalUrl:i}}}:void 0;if(this.publicationId_&&null!=t&&null!==(n=t.metering)&&void 0!==n&&n.state&&Qn(this.win_.location.search)){const e=t.metering.state.id;if("string"==typeof e&&e.length>0){let n=function({attributes:t,category:e}){if(!t)return;const n=Object.keys(t);for(const s of n){const n=`${e}_${s}`,i=Number(t[s].timestamp),o=i>Date.now()/1e3*2;i&&!o||xt(`SwG Entitlements: Please specify a Unix timestamp, in seconds, for the "${s}" ${e} attribute. The timestamp you passed (${t[s].timestamp}) looks invalid.`),a.metering.state.attributes.push({name:n,timestamp:i})}};a={metering:{clientTypes:[1],owner:this.publicationId_,resource:{hashedCanonicalUrl:i},state:{id:e,attributes:[]},token:this.getGaaToken_()}},n({attributes:t.metering.state.standardAttributes,category:"standard"}),n({attributes:t.metering.state.customAttributes,category:"custom"})}else xt("SwG Entitlements: Please specify a metering state ID string, ideally a hash to avoid PII.")}return a&&(this.encodedParams_=Lt(St(JSON.stringify(a))),s=Ge(s,this.encodedParamName_,this.encodedParams_)),We(s)})).then((t=>(this.deps_.eventManager().logSwgEvent(1024,!1),this.fetcher_.fetchCredentialedJson(t)))).then((t=>{let e=t;if(this.useArticleEndpoint_&&(this.article_=t,e=t.entitlements),t.errorMessages&&t.errorMessages.length>0)for(const e of t.errorMessages)xt("SwG Entitlements: "+e);return this.parseEntitlements(e)}))}}(this.win_,this.pageConfig_,this.fetcher_,this,n.useArticleEndpoint||!1,n.enableDefaultMeteringHandler||!1),this.clientConfigManager_=new class{constructor(t,e,n,s){this.deps_=t,this.clientOptions_=s||{},this.publicationId_=e,this.fetcher_=n,this.responsePromise_=null,this.defaultConfig_=new Nn({skipAccountCreationScreen:this.clientOptions_.skipAccountCreationScreen,usePrefixedHostPath:!0})}fetchClientConfig(t){if(!this.publicationId_)throw new Error("fetchClientConfig requires publicationId");return this.responsePromise_||(t=t||s(),this.responsePromise_=t.then((()=>this.fetch_()))),this.responsePromise_}getClientConfig(){return this.responsePromise_||Promise.resolve(this.defaultConfig_)}getAutoPromptConfig(){return this.responsePromise_||this.fetchClientConfig(),this.responsePromise_.then((t=>t.autoPromptConfig))}getLanguage(){return this.clientOptions_.lang||"en"}getTheme(){return this.clientOptions_.theme||"light"}shouldAllowScroll(){return!!this.clientOptions_.allowScroll}shouldForceLangInIframes(){return!!this.clientOptions_.forceLangInIframes&&!!this.clientOptions_.lang}shouldEnableButton(){return this.clientOptions_.disableButton?Promise.resolve(!1):(this.responsePromise_||this.fetchClientConfig(),this.responsePromise_.then((t=>{var e;return!(null===(e=t.uiPredicates)||void 0===e||!e.canDisplayButton)})))}fetch_(){return this.deps_.entitlementsManager().getArticle().then((t=>{if(t)return this.parseClientConfig_(t.clientConfig);{const t=We("/publication/"+encodeURIComponent(this.publicationId_)+"/clientconfiguration");return this.fetcher_.fetchCredentialedJson(t).then((t=>{if(t.errorMessages&&t.errorMessages.length>0)for(const e of t.errorMessages)xt("SwG ClientConfigManager: "+e);return this.parseClientConfig_(t)}))}}))}parseClientConfig_(t){const e=t.paySwgVersion,n=t.autoPromptConfig;let s;var i,o,r,a,l,h,u;n&&(s=new class{constructor({displayDelaySeconds:t,dismissalBackOffSeconds:e,maxDismissalsPerWeek:n,maxDismissalsResultingHideSeconds:s,impressionBackOffSeconds:i,maxImpressions:o,maxImpressionsResultingHideSeconds:r}={}){this.clientDisplayTrigger=new class{constructor(t){this.displayDelaySeconds=t}}(t),this.explicitDismissalConfig=new class{constructor(t,e,n){this.backOffSeconds=t,this.maxDismissalsPerWeek=e,this.maxDismissalsResultingHideSeconds=n}}(e,n,s),this.impressionConfig=new class{constructor(t,e,n){this.backOffSeconds=t,this.maxImpressions=e,this.maxImpressionsResultingHideSeconds=n}}(i,o,r)}}({displayDelaySeconds:null===(i=n.clientDisplayTrigger)||void 0===i?void 0:i.displayDelaySeconds,dismissalBackOffSeconds:null===(o=n.explicitDismissalConfig)||void 0===o?void 0:o.backOffSeconds,maxDismissalsPerWeek:null===(r=n.explicitDismissalConfig)||void 0===r?void 0:r.maxDismissalsPerWeek,maxDismissalsResultingHideSeconds:null===(a=n.explicitDismissalConfig)||void 0===a?void 0:a.maxDismissalsResultingHideSeconds,impressionBackOffSeconds:null===(l=n.impressionConfig)||void 0===l?void 0:l.backOffSeconds,maxImpressions:null===(h=n.impressionConfig)||void 0===h?void 0:h.maxImpressions,maxImpressionsResultingHideSeconds:null===(u=n.impressionConfig)||void 0===u?void 0:u.maxImpressionsResultingHideSeconds}));const c=t.uiPredicates;let g;c&&(g=new class{constructor(t,e,n){this.canDisplayAutoPrompt=t,this.canDisplayButton=e,this.purchaseUnavailableRegion=n}}(c.canDisplayAutoPrompt,c.canDisplayButton,c.purchaseUnavailableRegion));const p=t.attributionParams;let d;return p&&(d=new class{constructor(t,e){this.displayName=t,this.avatarUrl=e}}(p.displayName,p.avatarUrl)),new Nn({autoPromptConfig:s,paySwgVersion:e,usePrefixedHostPath:t.usePrefixedHostPath,useUpdatedOfferFlows:t.useUpdatedOfferFlows,skipAccountCreationScreen:this.clientOptions_.skipAccountCreationScreen,uiPredicates:g,attributionParams:d})}}(this,e.getPublicationId(),this.fetcher_,o),this.propensityModule_=new class{constructor(t,e,n){this.win_=t,this.propensityServer_=new class{constructor(t,e,n){this.win_=t,this.deps_=e,this.publicationId_=this.deps_.pageConfig().getPublicationId(),this.clientId_=null,this.fetcher_=n,this.version_=1,this.deps_.eventManager().registerEventListener(this.handleClientEvent_.bind(this))}getDocumentCookie_(){return this.win_.document.cookie}getClientId_(){if(!this.clientId_){const t=this.getDocumentCookie_().match("(^|;)\\s*__gads\\s*=\\s*([^;]+)");this.clientId_=t&&encodeURIComponent(t.pop())}return this.clientId_}propensityUrl_(t){t=Ge(t,"u_tz","240"),t=Ge(t,"v",String(this.version_));const e=this.getClientId_();return e&&(t=Ge(t,"cookie",e)),Ge(t,"cdm",this.win_.location.hostname)}sendSubscriptionState(t,e){let n=Ke("/subopt/data");return n=Ge(n,"states",this.publicationId_+":"+t),e&&(n=Ge(n,"extrainfo",e)),this.fetcher_.fetch(this.propensityUrl_(n),{method:"GET",credentials:"include"})}sendEvent_(t,e){let n=Ke("/subopt/data");return n=Ge(n,"events",this.publicationId_+":"+t),e&&(n=Ge(n,"extrainfo",e)),this.fetcher_.fetch(this.propensityUrl_(n),{method:"GET",credentials:"include"})}handleClientEvent_(t){if(6===t.eventOriginator)return;if(!this.deps_.config().enablePropensity&&3!==t.eventOriginator)return;if(t.eventType===H)return void this.sendSubscriptionState(t.additionalParameters.state,t.additionalParameters.productsOrSkus);const e=(n=t.eventType,$n[n]);var n;if(null==e)return;let s=t.additionalParameters;s instanceof it&&(s=void 0),an(t.isFromUserAction)&&(on(s)||(s={}),s.is_active=t.isFromUserAction),this.sendEvent_(e,JSON.stringify(s))}parsePropensityResponse_(t){let e,n={};if(!t.header)return n={header:{ok:!1},body:{error:"No valid response"}},n;if(t.header.ok){const s=t.scores;e=[];for(let t=0;t<s.length;t++){const n=s[t];let i;if(n.score){const t={value:n.score,bucketed:2==n.score_type};i={product:n.product,score:t}}else i={product:n.product,error:n.error_message};e.push(i)}return e&&(n={header:{ok:!0},body:{scores:e}}),n}return n={header:{ok:!1},body:{error:t.error}},n}getPropensity(t,e){const n=Ke("/subopt/pts?products=")+this.publicationId_+"&type="+e+"&ref="+t;return this.fetcher_.fetch(this.propensityUrl_(n),{method:"GET",credentials:"include"}).then((t=>t.json())).then((t=>this.parsePropensityResponse_(t)))}}(t,e,n),this.eventManager_=e.eventManager()}sendSubscriptionState(t,e){if(!Object.values(ge).includes(t))throw new Error("Invalid subscription state provided");if((ge.SUBSCRIBER==t||ge.PAST_SUBSCRIBER==t)&&!e)throw new Error("Entitlements must be provided for users with active or expired subscriptions");if(e&&!on(e))throw new Error("Entitlements must be an Object");let n=null;e&&(n=JSON.stringify(e)),this.propensityServer_.sendSubscriptionState(t,n)}getPropensity(t){if(t&&!Object.values(ye).includes(t))throw new Error("Invalid propensity type requested");return t||(t=ye.GENERAL),this.propensityServer_.getPropensity(this.win_.document.referrer,t)}sendEvent(t){const e=Jn(t.name);let n=null;if(!D(t.name)||!e)throw new Error("Invalid user event provided("+t.name+")");if(t.data){if(!on(t.data))throw new Error("Event data must be an Object("+t.data+")");n={},Object.assign(n,t.data)}if(an(t.active))n||(n={}),Object.assign(n,{"is_active":t.active});else if(null!=t.active)throw new Error("Event active must be a boolean");this.eventManager_.logEvent({eventType:e,eventOriginator:3,isFromUserAction:t.active,additionalParameters:n})}}(this.win_,this,this.fetcher_),this.eventManager_.logSwgEvent(11,!1),this.offersApi_=new class{constructor(t,e){this.config_=t,this.fetcher_=e}getOffers(t=this.config_.getProductId()){if(!t)throw new Error("getOffers requires productId in config or arguments");return this.fetch_(t)}fetch_(t){const e=We("/publication/"+encodeURIComponent(this.config_.getPublicationId())+"/offers?label="+encodeURIComponent(t));return this.fetcher_.fetchCredentialedJson(e).then((t=>t.offers||[]))}}(this.pageConfig_,this.fetcher_),this.buttonApi_=new class{constructor(t,e){this.doc_=t,this.configuredRuntimePromise_=e}init(){const t=this.doc_.getHead();if(!t)return;const e="https://news.google.com/swg/js/v1/swg-button.css";t.querySelector(`link[href="${e}"]`)||t.appendChild($t(this.doc_.getWin().document,"link",{"rel":"stylesheet","type":"text/css","href":e}))}create(t,e){const n=$t(this.doc_.getWin().document,"button",{});return this.attach(n,t,e)}attach(t,e,n){const s=this.setupButtonAndGetParams_(t,1007,e,n).options,i=s.theme;return t.classList.add(`swg-button-${i}`),t.setAttribute("role","button"),s.lang&&t.setAttribute("lang",s.lang),t.setAttribute("title",Cn(yn,t)||""),this.logSwgEvent_(6),t}attachSubscribeButton(t,e,n){const s=this.setupButtonAndGetParams_(t,1017,e,n).options,i=s.theme;return t.classList.add(`swg-button-v2-${i}`),t.setAttribute("role","button"),s.lang&&t.setAttribute("lang",s.lang),s.enable||t.setAttribute("disabled","disabled"),t.innerHTML=En.replace("$theme$",i).replace("$textContent$",Cn(yn,t)||""),this.logSwgEvent_(16),t}attachContributeButton(t,e,n){const s=this.setupButtonAndGetParams_(t,1019,e,n).options,i=s.theme;return t.classList.add(`swg-button-v2-${i}`),t.setAttribute("role","button"),s.lang&&t.setAttribute("lang",s.lang),s.enable||t.setAttribute("disabled","disabled"),t.innerHTML=En.replace("$theme$",i).replace("$textContent$",Cn(An,t)||""),this.logSwgEvent_(19),t}attachButtonsWithAttribute(t,e,n,s){for(const i of e){const e=this.doc_.getRootNode().querySelectorAll(`[${t}="${i}"]`);for(let t=0;t<e.length;t++)"subscription"===i?this.attachSubscribeButton(e[t],n,s[i]):"contribution"===i&&this.attachContributeButton(e[t],n,s[i])}}logSwgEvent_(t,e){this.configuredRuntimePromise_.then((n=>{n.eventManager().logSwgEvent(t,e)}))}getOptions_(t){const e=t&&"function"!=typeof t?t:{"theme":kn},n=e.theme;return n!==kn&&"dark"!==n&&(e.theme=kn),e}getCallback_(t,e){return("function"==typeof t?t:null)||e}setupButtonAndGetParams_(t,e,n,s){const i=this.getOptions_(n),o=this.getCallback_(n,s),r=t=>{this.logSwgEvent_(e,!0),"function"==typeof o&&o(t)};return t.addEventListener("click",r),{options:i,clickFun:r}}attachSmartButton(t,e,n,s){const i=this.setupButtonAndGetParams_(e,1007,n,s);return e.classList.add("swg-smart-button"),new class{constructor(t,e,n,s){this.deps_=t,this.win_=t.win(),this.doc_=this.win_.document,this.activityPorts_=t.activities(),this.iframe_=$t(this.doc_,"iframe",In),this.button_=e,this.options_=n,this.callback_=s,this.src_=qe("/smartboxiframe");const i={"productId":this.deps_.pageConfig().getProductId(),"publicationId":this.deps_.pageConfig().getPublicationId(),"theme":this.options_&&this.options_.theme||"light","lang":this.options_&&this.options_.lang||"en"},o=this.options_&&this.options_.messageTextColor;o&&(i.messageTextColor=o),this.args_=Ye(i)}handleSmartBoxClick_(t){t&&t.getIsClicked()&&this.callback_()}start(){zt(this.iframe_,{"opacity":1,"position":"absolute","top":0,"bottom":0,"left":0,"height":"100%","right":0,"width":"100%"}),this.button_.appendChild(this.iframe_);const t=this.activityPorts_.addDefaultArguments(this.args_);return this.activityPorts_.openIframe(this.iframe_,this.src_,t).then((t=>{t.on(ht,this.handleSmartBoxClick_.bind(this))})),this.iframe_}}(t,e,i.options,i.clickFun).start()}}(this.doc_,Promise.resolve(this));const r=new Ws(this.win_.document);r.prefetch("https://news.google.com/swg/js/v1/loader.svg"),r.preconnect("https://www.gstatic.com/"),r.preconnect("https://fonts.googleapis.com/"),r.preconnect("https://www.google.com/"),gs.configurePending(this),Xe.configurePending(this),Vt(this.doc_,".swg-dialog,.swg-toast{background-color:#fff!important;box-sizing:border-box}.swg-toast{border:none!important;bottom:0!important;max-height:46px!important;position:fixed!important;z-index:2147483647!important}@media (min-width:871px) and (min-height:641px){.swg-dialog.swg-wide-dialog{left:-435px!important;width:870px!important}}@media (max-height:640px),(max-width:640px){.swg-dialog,.swg-toast{border-top-left-radius:8px!important;border-top-right-radius:8px!important;box-shadow:0 1px 1px rgba(60,64,67,.3),0 1px 4px 1px rgba(60,64,67,.15)!important;left:-240px!important;margin-left:50vw!important;width:480px!important}}@media (min-width:641px) and (min-height:641px){.swg-dialog{background-color:transparent!important;border:none!important;left:-315px!important;margin-left:50vw!important;width:630px!important}.swg-toast{border-radius:4px!important;bottom:8px!important;box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12)!important;left:8px!important}}@media (max-width:480px){.swg-dialog,.swg-toast{left:0!important;margin-left:0!important;right:0!important;width:100%!important}}html>body.swg-disable-scroll{height:100vh!important;overflow:hidden!important}html>body.swg-disable-scroll *{overflow:hidden!important}\n/*# sourceURL=/./src/components/dialog.css*/\n"),this.activityPorts_.onRedirectError((t=>{this.analyticsService_.addLabels(["redirect"]),this.eventManager_.logSwgEvent($,!1),this.jserror_.error("Redirect error",t)}))}doc(){return this.doc_}win(){return this.win_}pageConfig(){return this.pageConfig_}jserror(){return this.jserror_}activities(){return this.activityPorts_}payClient(){return this.payClient_}dialogManager(){return this.dialogManager_}entitlementsManager(){return this.entitlementsManager_}callbacks(){return this.callbacks_}storage(){return this.storage_}clientConfigManager(){return this.clientConfigManager_}analytics(){return this.analyticsService_}init(){}configure(t){this.configure_(t)}configure_(t){let e="";for(const s in t){const i=t[s];switch(s){case"windowOpenMode":i!=_e&&i!=Le&&(e="Unknown windowOpenMode: "+i);break;case"experiments":for(const t of i)n=t,pn(this.win_)[n]=!0;this.analytics()&&this.analytics().addLabels(i);break;case"analyticsMode":0!=i&&1!=i&&(e="Unknown analytics mode: "+i);break;case"enableSwgAnalytics":an(i)||(e="Unknown enableSwgAnalytics value: "+i);break;case"enablePropensity":an(i)||(e="Unknown enablePropensity value: "+i);break;case"skipAccountCreationScreen":an(i)||(e="Unknown skipAccountCreationScreen value: "+i);break;case"publisherProvidedId":null==i||"string"==typeof i&&""!=i||(e="publisherProvidedId must be a string, value: "+i);break;default:e="Unknown config property: "+s}}var n;yt(!e,e||void 0),Object.assign(this.config_,t)}config(){return this.config_}reset(){this.entitlementsManager_.reset(),this.closeDialog()}clear(){this.entitlementsManager_.clear(),this.closeDialog()}closeDialog(){this.dialogManager_.completeAll()}start(){if(!this.pageConfig_.getProductId()||!this.pageConfig_.isLocked())return s();this.getEntitlements()}getEntitlements(t){return null!=t&&t.publisherProvidedId&&(t.publisherProvidedId=this.publisherProvidedId_),this.entitlementsManager_.getEntitlements(t).then((t=>{if(this.analyticsService_.setReadyForLogging(),this.analyticsService_.start(),t)try{const e=t.entitlements.map((t=>t.getSku()||"unknown subscriptionToken"));e.length>0&&this.analyticsService_.setSku(e.join(","))}catch(t){}return t.clone()}))}setOnEntitlementsResponse(t){this.callbacks_.setOnEntitlementsResponse(t)}getOffers(t){return this.offersApi_.getOffers(t&&t.productId)}showOffers(t){return this.documentParsed_.then((()=>(yt(!t||!t.oldSku,"The showOffers() method cannot be used to update a subscription. Use the showUpdateOffers() method instead."),this.lastOffersFlow_=new en(this,t),this.lastOffersFlow_.start())))}showUpdateOffers(t){return yt(mn(this.win_,un),"Not yet launched!"),this.documentParsed_.then((()=>(yt(!!t&&!!t.oldSku,"The showUpdateOffers() method cannot be used for new subscribers. Use the showOffers() method instead."),new en(this,t).start())))}showSubscribeOption(t){return this.documentParsed_.then((()=>{const e=new class{constructor(t,e){this.deps_=t,this.options_=e,this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.eventManager_=t.eventManager(),this.activityIframeView_=new Qt(t.win(),this.activityPorts_,qe("/optionsiframe"),Ye({"publicationId":t.pageConfig().getPublicationId(),"productId":t.pageConfig().getProductId(),"list":e&&e.list||"default","skus":e&&e.skus||null,"isClosable":!0}),!1)}start(){return this.deps_.callbacks().triggerFlowStarted(Ie),this.activityIframeView_.onCancel((()=>{this.deps_.callbacks().triggerFlowCanceled(Ie)})),this.activityIframeView_.on(ut,this.maybeOpenOffersFlow_.bind(this)),this.activityIframeView_.acceptResult().then((t=>{const e=t.data,n=new ut;e.subscribe&&n.setSubscribe(!0),this.maybeOpenOffersFlow_(n)}),(t=>{throw this.dialogManager_.completeView(this.activityIframeView_),t})),this.eventManager_.logSwgEvent(7),this.dialogManager_.openView(this.activityIframeView_)}maybeOpenOffersFlow_(t){if(t.getSubscribe()){const t=this.options_||{};null==t.isClosable&&(t.isClosable=!0),this.eventManager_.logSwgEvent(1008,!0),new en(this.deps_,t).start()}}}(this,t);return e.start()}))}showAbbrvOffer(t){return this.documentParsed_.then((()=>{const e=new class{constructor(t,e={}){this.deps_=t,this.options_=e,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.eventManager_=t.eventManager(),this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/abbrvofferiframe"),Ye({"publicationId":t.pageConfig().getPublicationId(),"productId":t.pageConfig().getProductId(),"showNative":t.callbacks().hasSubscribeRequestCallback(),"list":e&&e.list||"default","skus":e&&e.skus||null,"isClosable":!0}),!1)}handleLinkRequest_(t){t.getSubscriberOrMember()&&(this.eventManager_.logSwgEvent(1009,!0),this.deps_.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()}))}start(){return this.deps_.callbacks().triggerFlowStarted(ke),this.activityIframeView_.onCancel((()=>{this.deps_.callbacks().triggerFlowCanceled(ke)})),this.activityIframeView_.on(Q,this.handleLinkRequest_.bind(this)),this.activityIframeView_.acceptResult().then((t=>{if(t.data.viewOffers){const t=this.options_||{};return null==t.isClosable&&(t.isClosable=!0),this.eventManager_.logSwgEvent(1008,!0),void new en(this.deps_,t).start()}if(t.data.native)return this.deps_.callbacks().triggerSubscribeRequest(),void this.dialogManager_.completeView(this.activityIframeView_)})),this.eventManager_.logSwgEvent(8),this.dialogManager_.openView(this.activityIframeView_)}}(this,t);return e.start()}))}showContributionOptions(t){return this.documentParsed_.then((()=>(this.lastContributionsFlow_=new class{constructor(t,e){var n;this.deps_=t,this.options_=e,this.win_=t.win(),this.clientConfigManager_=t.clientConfigManager(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.activityIframeView_=null;const s=null===(n=null==e?void 0:e.isClosable)||void 0===n||n;this.activityIframeViewPromise_=this.clientConfigManager_.getClientConfig().then((n=>this.shouldShow_(n)?new Qt(this.win_,this.activityPorts_,this.getUrl_(n,t.pageConfig()),Ye({"productId":t.pageConfig().getProductId(),"publicationId":t.pageConfig().getPublicationId(),"productType":Oe,"list":e&&e.list||"default","skus":e&&e.skus||null,"isClosable":s,"supportsEventManager":!0}),!0):null))}handleLinkRequest_(t){t.getSubscriberOrMember()&&this.deps_.callbacks().triggerLoginRequest({linkRequested:!!t.getLinkRequested()})}startPayFlow_(t){const e=t.getSku(),n=t.getOneTime();if(e){const t={"skuId":e};n&&(t.oneTime=n),new Ze(this.deps_,t,Oe).start()}}start(){return this.activityIframeViewPromise_.then((t=>t?(this.deps_.callbacks().triggerFlowStarted(Ce),t.onCancel((()=>{this.deps_.callbacks().triggerFlowCanceled(Ce)})),t.on(Q,this.handleLinkRequest_.bind(this)),t.on(lt,this.startPayFlow_.bind(this)),this.activityIframeView_=t,this.clientConfigManager_.getClientConfig().then((t=>{if(this.activityIframeView_)return this.dialogManager_.openView(this.activityIframeView_,!1,this.getDialogConfig_(t,this.clientConfigManager_.shouldAllowScroll()))}))):s()))}getDialogConfig_(t,e){return t.useUpdatedOfferFlows&&!e?{shouldDisableBodyScrolling:!0}:{}}shouldShow_(t){var e;return!1!==(null===(e=t.uiPredicates)||void 0===e?void 0:e.canDisplayAutoPrompt)}getUrl_(t,e){return t.useUpdatedOfferFlows?this.clientConfigManager_.shouldForceLangInIframes()?qe("/contributionoffersiframe",{"hl":this.clientConfigManager_.getLanguage(),"publicationId":e.getPublicationId()}):qe("/contributionoffersiframe",{"publicationId":e.getPublicationId()}):qe("/contributionsiframe")}showNoEntitlementFoundToast(){this.activityIframeView_&&this.activityIframeView_.execute(new st)}}(this,t),this.lastContributionsFlow_.start())))}getLastContributionsFlow(){return this.lastContributionsFlow_}waitForSubscriptionLookup(t){return this.documentParsed_.then((()=>{const e=new class{constructor(t,e){this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.openViewPromise_=null,this.accountPromise_=e||Promise.reject("No account promise provided"),this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/waitforsubscriptionlookupiframe"),Ye({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId()}),!0,!0)}start(){return this.openViewPromise_=this.dialogManager_.openView(this.activityIframeView_),this.accountPromise_.then((t=>(this.dialogManager_.completeView(this.activityIframeView_),t)),(t=>{throw this.dialogManager_.completeView(this.activityIframeView_),t}))}}(this,t);return e.start()}))}setOnLoginRequest(t){this.callbacks_.setOnLoginRequest(t)}triggerLoginRequest(t){this.callbacks_.triggerLoginRequest(t)}setOnLinkComplete(t){this.callbacks_.setOnLinkComplete(t)}linkAccount(t={}){return this.documentParsed_.then((()=>new class{constructor(t){this.deps_=t,this.activityPorts_=t.activities(),this.pageConfig_=t.pageConfig(),this.dialogManager_=t.dialogManager()}start(t={}){this.deps_.callbacks().triggerFlowStarted(Pe);const e=this.deps_.config().windowOpenMode==Le,n=t.ampReaderId?Ye({"publicationId":this.pageConfig_.getPublicationId(),"ampReaderId":t.ampReaderId}):Ye({"publicationId":this.pageConfig_.getPublicationId()}),i=this.activityPorts_.open(cs,qe("/linkbackstart"),e?"_top":"_blank",n,{});return this.deps_.eventManager().logSwgEvent(12),this.dialogManager_.popupOpened(i&&i.targetWin),s()}}(this).start(t)))}saveSubscription(t){return this.documentParsed_.then((()=>new class{constructor(t,e){this.win_=t.win(),this.deps_=t,this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.callback_=e,this.requestPromise_=null,this.openPromise_=null,this.activityIframeView_=null}getRequestPromise(){return this.requestPromise_}complete_(){this.dialogManager_.completeView(this.activityIframeView_)}handleLinkSaveResponse_(t){let e;this.complete_();let n=null;return t.linked?(this.dialogManager_.popupClosed(),this.deps_.callbacks().triggerFlowStarted(Pe),n=new gs(this.deps_,t),e=n.start(),this.deps_.eventManager().logSwgEvent(3030)):e=Promise.reject(Ht(this.win_,"not linked")),e.then((()=>(this.deps_.callbacks().triggerLinkProgress(),n.whenComplete()))).then((()=>!0))}sendLinkSaveToken_(t){t&&t.getRequested()&&(this.requestPromise_=new Promise((t=>t(this.callback_()))).then((t=>{const e=new rt;if(t&&t.token){if(t.authCode)throw new Error("Both authCode and token are available");e.setToken(t.token)}else{if(!t||!t.authCode)throw new Error("Neither token or authCode is available");e.setAuthCode(t.authCode)}return this.activityIframeView_.execute(e),t})).catch((t=>{throw this.complete_(),t})))}start(){const t=this.activityPorts_.addDefaultArguments({"isClosable":!0});return this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/linksaveiframe"),t,!1,!0),this.activityIframeView_.on(at,this.sendLinkSaveToken_.bind(this)),this.openPromise_=this.dialogManager_.openView(this.activityIframeView_,!0),this.deps_.eventManager().logSwgEvent(13),this.activityIframeView_.acceptResultAndVerify(Ve(),!0,!0).then((t=>this.handleLinkSaveResponse_(t))).catch((t=>{if(this.complete_(),qt(t))return this.deps_.eventManager().logSwgEvent(1016,!0),this.deps_.callbacks().triggerFlowCanceled(Pe),!1;throw t}))}}(this,t).start()))}showLoginPrompt(){return this.documentParsed_.then((()=>new class{constructor(t){this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.openViewPromise_=null,this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/loginiframe"),Ye({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),userConsent:!0}),!0)}start(){return this.deps_.callbacks().triggerFlowStarted(Se),this.openViewPromise_=this.dialogManager_.openView(this.activityIframeView_),this.activityIframeView_.acceptResult().then((()=>{this.dialogManager_.completeView(this.activityIframeView_)}),(t=>{throw qt(t)?this.deps_.callbacks().triggerFlowCanceled(Se):this.dialogManager_.completeView(this.activityIframeView_),t}))}}(this).start()))}showLoginNotification(){return this.documentParsed_.then((()=>new class{constructor(t){this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.openViewPromise_=null,this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/loginiframe"),Ye({publicationId:t.pageConfig().getPublicationId(),productId:t.pageConfig().getProductId(),userConsent:!1}),!0)}start(){return this.deps_.callbacks().triggerFlowStarted("showLoginNotification"),this.openViewPromise_=this.dialogManager_.openView(this.activityIframeView_),this.activityIframeView_.acceptResult().then((()=>{this.dialogManager_.completeView(this.activityIframeView_)}),(t=>{throw this.dialogManager_.completeView(this.activityIframeView_),t}))}}(this).start()))}setOnNativeSubscribeRequest(t){this.callbacks_.setOnSubscribeRequest(t)}setOnSubscribeResponse(t){this.callbacks_.setOnSubscribeResponse(t)}setOnPaymentResponse(t){this.callbacks_.setOnPaymentResponse(t)}subscribe(t){return yt("string"==typeof t,"The subscribe() method can only take a sku as its parameter; for subscription updates please use the updateSubscription() method"),this.documentParsed_.then((()=>new Ze(this,{"skuId":t}).start()))}updateSubscription(t){return yt(mn(this.win_,un),"Not yet launched!"),yt(!!t&&t.oldSku,"The updateSubscription() method should be used for subscription updates; for new subscriptions please use the subscribe() method"),this.documentParsed_.then((()=>new Ze(this,t).start()))}setOnContributionResponse(t){this.callbacks_.setOnContributionResponse(t)}contribute(t){const e="string"==typeof t?{"skuId":t}:t;return this.documentParsed_.then((()=>new Ze(this,e,Oe).start()))}completeDeferredAccountCreation(t){return this.documentParsed_.then((()=>new class{constructor(t,e){this.deps_=t,this.win_=t.win(),this.activityPorts_=t.activities(),this.dialogManager_=t.dialogManager(),this.activityIframeView_=null,this.openPromise_=null,this.options_=Object.assign({entitlements:null,consent:!0},e||{})}start(){const t=this.options_.entitlements;if(!t||!t.getEntitlementForSource("google"))throw new Error('No entitlements with "google" source');return this.deps_.callbacks().triggerFlowStarted(Te),this.activityIframeView_=new Qt(this.win_,this.activityPorts_,qe("/recoveriframe"),Ye({"publicationId":this.deps_.pageConfig().getPublicationId(),"productId":this.deps_.pageConfig().getProductId(),"entitlements":t&&t.raw||null,"consent":this.options_.consent}),!0),this.openPromise_=this.dialogManager_.openView(this.activityIframeView_),this.activityIframeView_.acceptResult().then((t=>this.handleConsentResponse_(t.data)),(t=>{throw qt(t)?this.deps_.callbacks().triggerFlowCanceled(Te):this.dialogManager_.completeView(this.activityIframeView_),t}))}handleConsentResponse_(t){this.deps_.entitlementsManager().blockNextNotification();const e=t.entitlements,n=t.idToken,i=t.productType,o=this.deps_.entitlementsManager().parseEntitlements({"signedEntitlements":e}),r=new le(n,(new ie).decode(n)),a=t.purchaseDataList?t.purchaseDataList.map((t=>new ue(t.data,t.signature))):[new ue(t.purchaseData.data,t.purchaseData.signature)],l=new Xe(this.deps_),h=l.complete.bind(l),u=new ce(o,r,a,h);return this.deps_.eventManager().logSwgEvent(1010,!0),l.start(new he("",a[0],r,o,i,(()=>s()))),u}}(this,t||null).start()))}setOnFlowStarted(t){this.callbacks_.setOnFlowStarted(t)}setOnFlowCanceled(t){this.callbacks_.setOnFlowCanceled(t)}createButton(t,e){return this.buttonApi_.create(t,e)}attachButton(t,e,n){this.buttonApi_.attach(t,e,n)}attachSmartButton(t,e,n){yt(mn(this.win_,"smartbox"),"Not yet launched!"),this.buttonApi_.attachSmartButton(this,t,e,n)}getPropensityModule(){return Promise.resolve(this.propensityModule_)}eventManager(){return this.eventManager_}getLastOffersFlow(){return this.lastOffersFlow_}getEventManager(){return Promise.resolve(this.eventManager_)}getLogger(){return Promise.resolve(this.logger_)}setShowcaseEntitlement(t){if(!t||"https"!==(e=(e=this.win().location)||ze).protocol&&"https:"!==e.protocol||!Qn(this.win().location.search,!0))return s();var e;const n=(i=t.entitlement,Vn[i]||[]||[]);var i;const o=new it;o.setIsUserRegistered(t.isUserRegistered),t.subscriptionTimestamp&&o.setSubscriptionTimestamp(bn(function(t){let e;return e=t>=1e14||t<=-1e14?Math.floor(t/1e3):t>=1e11||t<=-3e10?t:Math.floor(1e3*t),e}(t.subscriptionTimestamp)));for(let t=0;t<n.length;t++)this.eventManager().logEvent({eventType:n[t],eventOriginator:6,isFromUserAction:!1,additionalParameters:o});return s()}consumeShowcaseEntitlementJwt(t,e){this.entitlementsManager().parseEntitlements({signedEntitlements:t}).consume(e)}showBestAudienceAction(){xt("Not implemented yet")}setPublisherProvidedId(t){this.publisherProvidedId_=t}}(new class{constructor(t){this.ji=t,this.Tc=T(this.ji,"viewport")}getWin(){return this.ji.win}getRootNode(){return this.ji.getRootNode()}getRootElement(){const t=this.ji.getRootNode();return t.documentElement||t.body||t}getHead(){return this.ji.getHeadNode()}getBody(){return this.ji.isBodyAvailable()?this.ji.getBody():null}isReady(){return this.ji.isReady()}whenReady(){return this.ji.whenReady()}addToFixedLayer(t){return this.Tc.addToFixedLayer(t,!0)}}(t),n.getPageConfig(),{fetcher:new ho(t.win),configPromise:new Promise((t=>o=t))},i,{"skipAccountCreationScreen":!0}),this.dot=this.pot.eventManager(),this.dot.registerEventFilterer(lo.mot),this.dot.logEvent({eventType:11,eventOriginator:2,isFromUserAction:!1,additionalParameters:null}),this.pot.analytics().setUrl(t.getUrl()),o(),this.pot.setOnLoginRequest((t=>{this.fot(t&&t.linkRequested)})),this.pot.setOnLinkComplete((()=>{this.bot(),this.Jit.actionEvent(this.getPlatformKey(),Vi,Qi),this.Jit.serviceEvent("subscriptions-link-complete",this.getPlatformKey())})),this.pot.setOnFlowStarted((t=>{const e={},n=t.data||{};switch(t.flow){case Wi:e.product=n.skuId||n.product||"unknown productId",e.active=!0;break;case Hi:e.skus=n.skus||"*",e.source=n.source||"unknown triggering source",e.active=n.active||null}t.flow!=Wi&&t.flow!=Ki&&t.flow!=qi&&t.flow!=Hi||this.Jit.actionEvent(this.getPlatformKey(),t.flow,Yi,e)})),this.pot.setOnFlowCanceled((t=>{"linkAccount"==t.flow?(this.bot(),this.Jit.actionEvent(this.getPlatformKey(),Vi,Ji),this.Jit.serviceEvent("subscriptions-link-canceled",this.getPlatformKey())):t.flow!=Wi&&t.flow!=Ki&&t.flow!=qi&&t.flow!=Hi||this.Jit.actionEvent(this.getPlatformKey(),t.flow,Ji)})),this.pot.setOnNativeSubscribeRequest((()=>{this.wot()})),this.pot.setOnPaymentResponse((t=>{t.then((t=>{this.vot(t,"CONTRIBUTION"===t.productType?Ki:Wi)}))})),this.xot=e,this.yot=T(t,"viewer"),this.Aot=!1,this.Iot(this.yot),this.kot=!1,function(t,e,n,s,i){const o=t.getHeadNode(),r=function(t,e,n,s){let i=t.__AMP_CSS_SM;i||(i=t.__AMP_CSS_SM=g());const o=`amp-extension=${s}`;if(o){const n=Bi(t,i,o);if(n)return"STYLE"==n.tagName&&n.textContent!==e&&(n.textContent=e),n}const r=(t.ownerDocument||t).createElement("style");r.textContent=e;let a=null;return r.setAttribute("amp-extension",s),a=Bi(t,i,"amp-runtime"),function(t,e,n=null){if(!n)return void function(t,e){t.insertBefore(e,t.firstChild)}(t,e);const s=n.nextSibling;t.insertBefore(e,s)}(t,r,a),o&&(i[o]=r),r}(o,function(t,e){const n=t.__AMP_CSS_TR;return n?n(e):e}(o,'.swg-button,.swg-button-dark,.swg-button-light{border:0;border-radius:4px;box-sizing:border-box;outline:0;padding:11px 8px;width:240px;min-width:150px;height:40px;min-height:40px}.swg-button-dark:after,.swg-button-light:after,.swg-button:after{display:block;max-width:200px;max-height:40px;width:100%;height:100%;margin:auto;content:"";border:0;background-origin:content-box;background-position:50%;background-repeat:no-repeat;background-size:contain}.swg-button,.swg-button-light{background-color:#fff;box-shadow:0 1px 1px 0 rgba(60,64,67,0.3),0 1px 3px 1px rgba(60,64,67,0.15)}.swg-button-light:after,.swg-button:after{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="235" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M169.367 19c-5.09 0-9.367-4.265-9.367-9.5s4.277-9.5 9.367-9.5c2.818 0 4.823 1.133 6.33 2.622l-1.775 1.827c-1.082-1.04-2.55-1.857-4.555-1.857-3.72 0-6.628 3.081-6.628 6.908 0 3.827 2.907 6.908 6.628 6.908 2.411 0 3.78-1 4.664-1.898.724-.745 1.19-1.806 1.37-3.265h-6.034V8.643h8.494c.09.459.139 1.02.139 1.622 0 1.95-.516 4.357-2.183 6.072-1.627 1.734-3.691 2.663-6.45 2.663z" fill="%234285F4" fill-rule="nonzero"/><path d="M192 13c0 3.456-2.69 6-6 6s-6-2.544-6-6c0-3.476 2.69-6 6-6s6 2.524 6 6zm-2.63 0c0-2.164-1.563-3.636-3.37-3.636-1.807 0-3.37 1.482-3.37 3.636 0 2.134 1.563 3.636 3.37 3.636 1.807 0 3.37-1.492 3.37-3.636z" fill="%23E94235" fill-rule="nonzero"/><path d="M205 13c0 3.456-2.69 6-6 6-3.3 0-6-2.544-6-6 0-3.476 2.69-6 6-6s6 2.524 6 6zm-2.62 0c0-2.164-1.563-3.636-3.37-3.636-1.807 0-3.37 1.482-3.37 3.636 0 2.134 1.563 3.636 3.37 3.636 1.807.01 3.37-1.492 3.37-3.636z" fill="%23FABB05" fill-rule="nonzero"/><path d="M217 7.362v10.53c0 4.337-2.499 6.108-5.457 6.108-2.786 0-4.452-1.908-5.083-3.465l2.192-.93c.392.96 1.35 2.085 2.891 2.085 1.896 0 3.064-1.204 3.064-3.445v-.841h-.087c-.564.714-1.656 1.33-3.025 1.33-2.872 0-5.495-2.554-5.495-5.842C206 9.584 208.633 7 211.495 7c1.37 0 2.46.626 3.025 1.311h.087v-.949H217zm-2.221 5.54c0-2.066-1.35-3.582-3.064-3.582-1.742 0-3.197 1.507-3.197 3.582 0 2.045 1.455 3.533 3.197 3.533 1.714 0 3.064-1.488 3.064-3.533z" fill="%234285F4" fill-rule="nonzero"/><path fill="%2334A853" fill-rule="nonzero" d="M223 1v18h-3V1z"/><path d="m232.844 14.973 2.046 1.363c-.662.981-2.256 2.664-5.014 2.664-3.42 0-5.876-2.634-5.876-6 0-3.566 2.487-6 5.585-6 3.119 0 4.643 2.474 5.144 3.816l.271.681-8.032 3.326c.612 1.202 1.574 1.823 2.918 1.823s2.276-.671 2.958-1.673zm-6.307-2.163 5.375-2.224c-.301-.751-1.184-1.272-2.237-1.272-1.343 0-3.208 1.182-3.138 3.496z" fill="%23E94235" fill-rule="nonzero"/><path d="M6.576 19.384c-1.248 0-2.468-.408-3.66-1.224-1.192-.816-1.972-1.96-2.34-3.432l2.016-.816c.24.944.732 1.74 1.476 2.388.744.648 1.58.972 2.508.972.96 0 1.78-.252 2.46-.756.68-.504 1.02-1.188 1.02-2.052 0-.96-.34-1.7-1.02-2.22-.68-.52-1.756-1.004-3.228-1.452-1.52-.48-2.672-1.1-3.456-1.86-.784-.76-1.176-1.732-1.176-2.916 0-1.232.488-2.304 1.464-3.216.976-.912 2.248-1.368 3.816-1.368 1.456 0 2.64.364 3.552 1.092.912.728 1.504 1.524 1.776 2.388l-2.016.84c-.144-.544-.5-1.048-1.068-1.512-.568-.464-1.3-.696-2.196-.696-.848 0-1.572.236-2.172.708-.6.472-.9 1.06-.9 1.764 0 .64.276 1.18.828 1.62.552.44 1.364.836 2.436 1.188.848.272 1.556.536 2.124.792a9.842 9.842 0 0 1 1.728 1.02 4.065 4.065 0 0 1 1.32 1.584c.296.632.444 1.364.444 2.196 0 .832-.172 1.576-.516 2.232a4.19 4.19 0 0 1-1.368 1.56 6.875 6.875 0 0 1-3.852 1.176zM24.936 19h-2.112v-1.632h-.096c-.336.56-.848 1.036-1.536 1.428a4.345 4.345 0 0 1-2.184.588c-1.472 0-2.588-.448-3.348-1.344-.76-.896-1.14-2.096-1.14-3.6v-7.2h2.208v6.84c0 2.192.968 3.288 2.904 3.288.912 0 1.656-.368 2.232-1.104.576-.736.864-1.584.864-2.544V7.24h2.208V19zm8.904.384c-.896 0-1.7-.192-2.412-.576-.712-.384-1.244-.864-1.596-1.44h-.096V19h-2.112V1.816h2.208V7.24l-.096 1.632h.096c.352-.576.884-1.056 1.596-1.44.712-.384 1.516-.576 2.412-.576 1.52 0 2.832.6 3.936 1.8 1.104 1.2 1.656 2.688 1.656 4.464 0 1.776-.552 3.264-1.656 4.464-1.104 1.2-2.416 1.8-3.936 1.8zm-.36-2.016c1.024 0 1.904-.388 2.64-1.164.736-.776 1.104-1.804 1.104-3.084s-.368-2.308-1.104-3.084c-.736-.776-1.616-1.164-2.64-1.164-1.04 0-1.924.384-2.652 1.152-.728.768-1.092 1.8-1.092 3.096s.364 2.328 1.092 3.096c.728.768 1.612 1.152 2.652 1.152zm12.336 2.016c-1.312 0-2.396-.32-3.252-.96a5.682 5.682 0 0 1-1.884-2.4l1.968-.816c.624 1.472 1.688 2.208 3.192 2.208.688 0 1.252-.152 1.692-.456.44-.304.66-.704.66-1.2 0-.768-.536-1.288-1.608-1.56l-2.376-.576c-.752-.192-1.464-.556-2.136-1.092-.672-.536-1.008-1.26-1.008-2.172 0-1.04.46-1.884 1.38-2.532.92-.648 2.012-.972 3.276-.972 1.04 0 1.968.236 2.784.708a3.99 3.99 0 0 1 1.752 2.028l-1.92.792c-.432-1.04-1.328-1.56-2.688-1.56-.656 0-1.208.136-1.656.408-.448.272-.672.64-.672 1.104 0 .672.52 1.128 1.56 1.368l2.328.552c1.104.256 1.92.696 2.448 1.32.528.624.792 1.328.792 2.112 0 1.056-.432 1.936-1.296 2.64-.864.704-1.976 1.056-3.336 1.056zm11.928 0c-1.76 0-3.208-.596-4.344-1.788-1.136-1.192-1.704-2.684-1.704-4.476 0-1.792.568-3.284 1.704-4.476 1.136-1.192 2.584-1.788 4.344-1.788 1.312 0 2.4.32 3.264.96a5.621 5.621 0 0 1 1.896 2.424l-2.016.84c-.608-1.472-1.704-2.208-3.288-2.208-.976 0-1.836.4-2.58 1.2-.744.8-1.116 1.816-1.116 3.048s.372 2.248 1.116 3.048c.744.8 1.604 1.2 2.58 1.2 1.648 0 2.784-.736 3.408-2.208l1.968.84c-.4.96-1.044 1.764-1.932 2.412-.888.648-1.988.972-3.3.972zm9.36-.384h-2.208V7.24h2.112v1.92h.096c.224-.64.684-1.168 1.38-1.584.696-.416 1.372-.624 2.028-.624.656 0 1.208.096 1.656.288l-.84 2.064c-.288-.112-.68-.168-1.176-.168-.8 0-1.508.316-2.124.948-.616.632-.924 1.46-.924 2.484V19zm8.904-14.712a1.504 1.504 0 0 1-1.104.456c-.432 0-.8-.152-1.104-.456a1.504 1.504 0 0 1-.456-1.104c0-.432.152-.8.456-1.104a1.504 1.504 0 0 1 1.104-.456c.432 0 .8.152 1.104.456.304.304.456.672.456 1.104 0 .432-.152.8-.456 1.104zm0 14.712H73.8V7.24h2.208V19zm9.096.384c-.896 0-1.7-.192-2.412-.576-.712-.384-1.244-.864-1.596-1.44H81V19h-2.112V1.816h2.208V7.24L81 8.872h.096c.352-.576.884-1.056 1.596-1.44.712-.384 1.516-.576 2.412-.576 1.52 0 2.832.6 3.936 1.8 1.104 1.2 1.656 2.688 1.656 4.464 0 1.776-.552 3.264-1.656 4.464-1.104 1.2-2.416 1.8-3.936 1.8zm-.36-2.016c1.024 0 1.904-.388 2.64-1.164.736-.776 1.104-1.804 1.104-3.084s-.368-2.308-1.104-3.084c-.736-.776-1.616-1.164-2.64-1.164-1.04 0-1.924.384-2.652 1.152-.728.768-1.092 1.8-1.092 3.096s.364 2.328 1.092 3.096c.728.768 1.612 1.152 2.652 1.152zm13.296 2.016c-1.776 0-3.22-.592-4.332-1.776-1.112-1.184-1.668-2.68-1.668-4.488 0-1.712.54-3.184 1.62-4.416 1.08-1.232 2.46-1.848 4.14-1.848 1.744 0 3.14.568 4.188 1.704 1.048 1.136 1.572 2.656 1.572 4.56l-.024.408h-9.288c.064 1.184.46 2.12 1.188 2.808.728.688 1.58 1.032 2.556 1.032 1.584 0 2.656-.672 3.216-2.016l1.968.816c-.384.912-1.016 1.676-1.896 2.292-.88.616-1.96.924-3.24.924zm3.168-7.68c-.048-.672-.356-1.312-.924-1.92-.568-.608-1.412-.912-2.532-.912-.816 0-1.524.256-2.124.768-.6.512-1.012 1.2-1.236 2.064h6.816zM123.72 19h-2.256l-2.928-9.024L115.632 19H113.4l-3.792-11.76h2.304l2.616 8.88h.024l2.904-8.88h2.28l2.904 8.88h.024l2.592-8.88h2.256L123.72 19zm7.632-14.712a1.504 1.504 0 0 1-1.104.456c-.432 0-.8-.152-1.104-.456a1.504 1.504 0 0 1-.456-1.104c0-.432.152-.8.456-1.104a1.504 1.504 0 0 1 1.104-.456c.432 0 .8.152 1.104.456.304.304.456.672.456 1.104 0 .432-.152.8-.456 1.104zm0 14.712h-2.208V7.24h2.208V19zm7.968.192c-1.232 0-2.172-.328-2.82-.984-.648-.656-.972-1.584-.972-2.784V9.256h-2.064V7.24h2.064v-3.6h2.208v3.6h2.88v2.016h-2.88v6c0 1.28.528 1.92 1.584 1.92.4 0 .736-.064 1.008-.192l.768 1.896c-.48.208-1.072.312-1.776.312zm5.616-17.376V7.24l-.096 1.632h.096c.32-.56.824-1.036 1.512-1.428a4.389 4.389 0 0 1 2.208-.588c1.456 0 2.568.448 3.336 1.344.768.896 1.152 2.096 1.152 3.6V19h-2.208v-6.864c0-2.176-.968-3.264-2.904-3.264-.912 0-1.656.364-2.232 1.092-.576.728-.864 1.572-.864 2.532V19h-2.208V1.816h2.208z" fill="%235F6368"/></g></svg>\')}.swg-button-dark{background-color:#000}.swg-button-dark:after{background-image:url(\'data:image/svg+xml;charset=utf-8,<svg width="231" height="24" xmlns="http://www.w3.org/2000/svg"><g fill="%23FFF" fill-rule="evenodd"><path d="M6.302 19.368c-1.196 0-2.365-.391-3.507-1.173-1.143-.782-1.89-1.878-2.243-3.289l1.932-.782c.23.905.701 1.667 1.414 2.289.714.62 1.515.931 2.404.931.92 0 1.706-.241 2.357-.725.652-.483.978-1.138.978-1.966 0-.92-.326-1.63-.978-2.128-.651-.498-1.682-.962-3.093-1.391-1.457-.46-2.56-1.054-3.312-1.783-.751-.728-1.127-1.66-1.127-2.794 0-1.18.468-2.208 1.403-3.082.935-.874 2.154-1.311 3.657-1.311 1.395 0 2.53.349 3.404 1.046.874.698 1.441 1.461 1.702 2.289l-1.932.805c-.138-.521-.48-1.004-1.024-1.449-.544-.445-1.245-.667-2.104-.667-.813 0-1.506.226-2.081.679-.576.452-.863 1.015-.863 1.69 0 .613.264 1.13.793 1.553.53.421 1.308.8 2.335 1.138.813.26 1.491.514 2.036.759a9.431 9.431 0 0 1 1.655.978c.56.406.982.912 1.265 1.518.284.605.426 1.307.426 2.104 0 .797-.165 1.51-.494 2.139a4.015 4.015 0 0 1-1.312 1.495 6.589 6.589 0 0 1-3.691 1.127zM23.696 19h-2.024v-1.564h-.092c-.322.537-.813.993-1.472 1.369a4.164 4.164 0 0 1-2.093.563c-1.41 0-2.48-.43-3.209-1.288-.728-.859-1.092-2.009-1.092-3.45v-6.9h2.116v6.555c0 2.1.927 3.151 2.783 3.151.874 0 1.587-.353 2.139-1.058a3.845 3.845 0 0 0 .828-2.438V7.73h2.116V19zm8.677.368c-.86 0-1.63-.184-2.312-.552-.682-.368-1.192-.828-1.53-1.38h-.091V19h-2.024V2.532h2.116V7.73l-.093 1.564h.093c.337-.552.847-1.012 1.529-1.38.682-.368 1.453-.552 2.312-.552 1.456 0 2.713.575 3.772 1.725 1.058 1.15 1.586 2.576 1.586 4.278 0 1.702-.528 3.128-1.587 4.278-1.058 1.15-2.315 1.725-3.771 1.725zm-.345-1.932c.98 0 1.824-.372 2.53-1.116.705-.743 1.057-1.728 1.057-2.955s-.352-2.212-1.058-2.956c-.705-.743-1.548-1.115-2.53-1.115-.996 0-1.843.368-2.541 1.104-.698.736-1.047 1.725-1.047 2.967s.35 2.231 1.047 2.967c.698.736 1.545 1.104 2.542 1.104zm11.85 1.932c-1.257 0-2.296-.307-3.116-.92a5.446 5.446 0 0 1-1.806-2.3l1.886-.782c.598 1.41 1.618 2.116 3.06 2.116.659 0 1.2-.146 1.62-.437.422-.291.633-.675.633-1.15 0-.736-.513-1.234-1.54-1.495l-2.278-.552c-.72-.184-1.403-.533-2.047-1.046-.644-.514-.966-1.208-.966-2.082 0-.997.441-1.805 1.323-2.427.881-.62 1.928-.931 3.14-.931.996 0 1.885.226 2.667.678a3.824 3.824 0 0 1 1.68 1.944l-1.84.759c-.415-.997-1.273-1.495-2.577-1.495-.628 0-1.157.13-1.587.391-.43.26-.644.613-.644 1.058 0 .644.499 1.081 1.495 1.311l2.231.529c1.058.245 1.84.667 2.346 1.265.506.598.76 1.273.76 2.024 0 1.012-.415 1.855-1.243 2.53-.828.675-1.893 1.012-3.197 1.012zm11.69 0c-1.687 0-3.074-.571-4.163-1.713-1.089-1.143-1.633-2.573-1.633-4.29s.544-3.147 1.633-4.29c1.089-1.142 2.476-1.713 4.163-1.713 1.257 0 2.3.307 3.128.92a5.387 5.387 0 0 1 1.817 2.323l-1.932.805c-.583-1.41-1.633-2.116-3.151-2.116-.935 0-1.76.383-2.472 1.15-.714.767-1.07 1.74-1.07 2.921 0 1.18.356 2.154 1.07 2.921.713.767 1.537 1.15 2.472 1.15 1.58 0 2.668-.705 3.266-2.116l1.886.805c-.383.92-1 1.69-1.852 2.311-.85.622-1.905.932-3.162.932zM64.567 19H62.45V7.73h2.024v1.84h.092c.214-.613.655-1.12 1.322-1.518.667-.399 1.315-.598 1.944-.598.628 0 1.157.092 1.587.276l-.805 1.978c-.276-.107-.652-.161-1.127-.161-.767 0-1.445.303-2.036.909-.59.605-.885 1.399-.885 2.38V19zm8.677-14.099a1.441 1.441 0 0 1-1.058.437c-.415 0-.767-.146-1.059-.437a1.441 1.441 0 0 1-.436-1.058c0-.414.145-.767.436-1.058a1.441 1.441 0 0 1 1.059-.437c.414 0 .766.146 1.057.437.292.291.438.644.438 1.058 0 .414-.146.767-.438 1.058zm0 14.099h-2.117V7.73h2.117V19zm8.86.368c-.858 0-1.629-.184-2.311-.552-.683-.368-1.192-.828-1.53-1.38h-.092V19h-2.024V2.532h2.116V7.73l-.092 1.564h.092c.338-.552.847-1.012 1.53-1.38.682-.368 1.453-.552 2.311-.552 1.457 0 2.714.575 3.772 1.725 1.058 1.15 1.587 2.576 1.587 4.278 0 1.702-.529 3.128-1.587 4.278-1.058 1.15-2.315 1.725-3.772 1.725zm-.345-1.932c.982 0 1.825-.372 2.53-1.116.706-.743 1.058-1.728 1.058-2.955s-.352-2.212-1.058-2.956c-.705-.743-1.548-1.115-2.53-1.115-.996 0-1.844.368-2.541 1.104-.698.736-1.047 1.725-1.047 2.967s.35 2.231 1.047 2.967c.697.736 1.545 1.104 2.541 1.104zm12.886 1.932c-1.702 0-3.086-.567-4.151-1.702-1.066-1.135-1.599-2.568-1.599-4.301 0-1.64.517-3.051 1.553-4.232 1.035-1.18 2.357-1.771 3.967-1.771 1.671 0 3.01.544 4.013 1.633 1.005 1.089 1.507 2.545 1.507 4.37l-.023.391h-8.901c.061 1.135.44 2.032 1.139 2.691.697.66 1.514.989 2.449.989 1.518 0 2.545-.644 3.082-1.932l1.886.782c-.368.874-.974 1.606-1.817 2.197-.843.59-1.878.885-3.105.885zm3.036-7.36c-.046-.644-.341-1.257-.885-1.84-.545-.583-1.354-.874-2.427-.874-.782 0-1.46.245-2.035.736-.576.49-.97 1.15-1.185 1.978h6.532zM119.543 19h-2.163l-2.805-8.648L111.79 19h-2.138l-3.635-11.27h2.209l2.507 8.51h.023l2.782-8.51h2.186l2.782 8.51h.023l2.484-8.51h2.163L119.541 19zM127 4.901a1.441 1.441 0 0 1-1.058.437c-.414 0-.766-.146-1.058-.437a1.441 1.441 0 0 1-.437-1.058c0-.414.146-.767.437-1.058a1.441 1.441 0 0 1 1.058-.437c.414 0 .767.146 1.058.437.292.291.437.644.437 1.058 0 .414-.145.767-.437 1.058zM127 19h-2.116V7.73H127V19zm7.665.184c-1.18 0-2.081-.314-2.702-.943-.622-.629-.932-1.518-.932-2.668V9.662h-1.978V7.73h1.978V4.28h2.116v3.45h2.76v1.932h-2.76v5.75c0 1.227.506 1.84 1.518 1.84.383 0 .705-.061.966-.184l.736 1.817c-.46.2-1.027.299-1.702.299zm5.64-16.652V7.73l-.091 1.564h.092c.306-.537.79-.993 1.449-1.369a4.206 4.206 0 0 1 2.116-.563c1.395 0 2.46.43 3.197 1.288.736.859 1.104 2.009 1.104 3.45V19h-2.116v-6.578c0-2.085-.928-3.128-2.783-3.128-.874 0-1.587.349-2.14 1.046-.551.698-.827 1.507-.827 2.427V19h-2.116V2.532h2.116z"/><g fill-rule="nonzero"><path d="M165.367 19c-5.09 0-9.367-4.265-9.367-9.5s4.277-9.5 9.367-9.5c2.818 0 4.823 1.133 6.33 2.622l-1.775 1.827c-1.082-1.04-2.55-1.857-4.555-1.857-3.72 0-6.628 3.081-6.628 6.908 0 3.827 2.907 6.908 6.628 6.908 2.411 0 3.78-1 4.664-1.898.724-.745 1.19-1.806 1.37-3.265h-6.034V8.643h8.494c.09.459.139 1.02.139 1.622 0 1.95-.516 4.357-2.183 6.072-1.627 1.734-3.691 2.663-6.45 2.663zM188 13c0 3.456-2.69 6-6 6s-6-2.544-6-6c0-3.476 2.69-6 6-6s6 2.524 6 6zm-2.63 0c0-2.164-1.563-3.636-3.37-3.636-1.807 0-3.37 1.482-3.37 3.636 0 2.134 1.563 3.636 3.37 3.636 1.807 0 3.37-1.492 3.37-3.636zM201 13c0 3.456-2.69 6-6 6-3.3 0-6-2.544-6-6 0-3.476 2.69-6 6-6s6 2.524 6 6zm-2.62 0c0-2.164-1.563-3.636-3.37-3.636-1.807 0-3.37 1.482-3.37 3.636 0 2.134 1.563 3.636 3.37 3.636 1.807.01 3.37-1.492 3.37-3.636zM213 7.362v10.53c0 4.337-2.499 6.108-5.457 6.108-2.786 0-4.452-1.908-5.083-3.465l2.192-.93c.392.96 1.35 2.085 2.891 2.085 1.896 0 3.064-1.204 3.064-3.445v-.841h-.087c-.564.714-1.656 1.33-3.025 1.33-2.872 0-5.495-2.554-5.495-5.842C202 9.584 204.633 7 207.495 7c1.37 0 2.46.626 3.025 1.311h.087v-.949H213zm-2.221 5.54c0-2.066-1.35-3.582-3.064-3.582-1.742 0-3.197 1.507-3.197 3.582 0 2.045 1.455 3.533 3.197 3.533 1.714 0 3.064-1.488 3.064-3.533zM219 1v18h-3V1zM228.844 14.973l2.046 1.363c-.662.981-2.256 2.664-5.014 2.664-3.42 0-5.876-2.634-5.876-6 0-3.566 2.487-6 5.585-6 3.119 0 4.643 2.474 5.144 3.816l.271.681-8.032 3.326c.612 1.202 1.574 1.823 2.918 1.823s2.276-.671 2.958-1.673zm-6.307-2.163 5.375-2.224c-.301-.751-1.184-1.272-2.237-1.272-1.343 0-3.208 1.182-3.138 3.496z"/></g></g></svg>\')}.swg-button-light:hover,.swg-button:hover{background-color:#f8f8f8}.swg-button-light:focus,.swg-button:focus{box-shadow:#e8e8e8}.swg-button-light:active,.swg-button:active{background-color:#fff}.swg-button-dark:hover{background-color:#3c4043}.swg-button-dark:focus{box-shadow:#202124}.swg-button-dark:active{background-color:#5f6368}.swg-smart-button{border:none;padding:0;background:transparent;min-height:126px;position:relative;min-width:300px;width:300px;border-radius:0;overflow:hidden}.swg-smart-button:focus{outline:none}.swg-button-light:lang(ar):after,.swg-button:lang(ar):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ar-lt.svg)}.swg-button-dark:lang(ar):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ar-dk.svg)}.swg-button-light:lang(de):after,.swg-button:lang(de):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-de-lt.svg)}.swg-button-dark:lang(de):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-de-dk.svg)}.swg-button-light:lang(es):after,.swg-button:lang(es):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-lt.svg)}.swg-button-dark:lang(es):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-dk.svg)}.swg-button-light:lang(es-latam):after,.swg-button:lang(es-latam):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-latam-lt.svg)}.swg-button-dark:lang(es-latam):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-latam-dk.svg)}.swg-button-light:lang(es-latn):after,.swg-button:lang(es-latn):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-latam-lt.svg)}.swg-button-dark:lang(es-latn):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-es-latam-dk.svg)}.swg-button-light:lang(fr):after,.swg-button:lang(fr):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-fr-lt.svg)}.swg-button-dark:lang(fr):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-fr-dk.svg)}.swg-button-light:lang(hi):after,.swg-button:lang(hi):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-hi-lt.svg)}.swg-button-dark:lang(hi):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-hi-dk.svg)}.swg-button-light:lang(id):after,.swg-button:lang(id):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-id-lt.svg)}.swg-button-dark:lang(id):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-id-dk.svg)}.swg-button-light:lang(it):after,.swg-button:lang(it):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-it-lt.svg)}.swg-button-dark:lang(it):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-it-dk.svg)}.swg-button-light:lang(ja):after,.swg-button:lang(ja):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-jp-lt.svg)}.swg-button-dark:lang(ja):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-jp-dk.svg)}.swg-button-light:lang(ko):after,.swg-button:lang(ko):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ko-lt.svg)}.swg-button-dark:lang(ko):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ko-dk.svg)}.swg-button-light:lang(ms):after,.swg-button:lang(ms):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ms-lt.svg)}.swg-button-dark:lang(ms):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ms-dk.svg)}.swg-button-light:lang(nl):after,.swg-button:lang(nl):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-nl-lt.svg)}.swg-button-dark:lang(nl):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-nl-dk.svg)}.swg-button-light:lang(no):after,.swg-button:lang(no):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-no-lt.svg)}.swg-button-dark:lang(no):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-no-dk.svg)}.swg-button-light:lang(pl):after,.swg-button:lang(pl):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pl-lt.svg)}.swg-button-dark:lang(pl):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pl-dk.svg)}.swg-button-light:lang(pt):after,.swg-button:lang(pt):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pt-lt.svg)}.swg-button-dark:lang(pt):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pt-dk.svg)}.swg-button-light:lang(pt-br):after,.swg-button:lang(pt-br):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pt-br-lt.svg)}.swg-button-dark:lang(pt-br):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-pt-br-dk.svg)}.swg-button-light:lang(ru):after,.swg-button:lang(ru):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ru-lt.svg)}.swg-button-dark:lang(ru):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-ru-dk.svg)}.swg-button-light:lang(sv):after,.swg-button:lang(sv):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-sv-lt.svg)}.swg-button-dark:lang(sv):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-sv-dk.svg)}.swg-button-light:lang(th):after,.swg-button:lang(th):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-th-lt.svg)}.swg-button-dark:lang(th):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-th-dk.svg)}.swg-button-light:lang(tr):after,.swg-button:lang(tr):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-tr-lt.svg)}.swg-button-dark:lang(tr):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-tr-dk.svg)}.swg-button-light:lang(uk):after,.swg-button:lang(uk):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-uk-lt.svg)}.swg-button-dark:lang(uk):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-uk-dk.svg)}.swg-button-light:lang(zh-cn):after,.swg-button:lang(zh-cn):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-zh-cn-lt.svg)}.swg-button-dark:lang(zh-cn):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-zh-cn-dk.svg)}.swg-button-light:lang(zh-tw):after,.swg-button:lang(zh-tw):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-zh-tw-lt.svg)}.swg-button-dark:lang(zh-tw):after{background-image:url(https://news.google.com/swg/js/v1/i18n/b-zh-tw-dk.svg)}.swg-button-v2-dark,.swg-button-v2-light{border:0;border-radius:4px;outline:0;width:237px;min-width:237px;height:44px;min-height:44px;display:-ms-inline-flexbox;display:inline-flex;-ms-flex-align:center;align-items:center;box-sizing:border-box;font-family:Google Sans,Roboto-Regular,sans-serif,arial;font-weight:500;font-size:14px;letter-spacing:0.001em;cursor:pointer}.swg-button-v2-light{color:#1a73e8;background-color:#fff;border:1px solid #dadce0}.swg-button-v2-light[disabled]{pointer-events:none;color:rgba(60,64,67,0.38);border:1px solid rgba(60,64,67,0.12)}.swg-button-v2-light:hover{box-shadow:0px 1px 2px rgba(60,64,67,0.3),0px 1px 3px 1px rgba(60,64,67,0.15);background:linear-gradient(0deg,rgba(26,115,232,0.04),rgba(26,115,232,0.04)),#fff;border:none}.swg-button-v2-light:focus{box-shadow:0px 1px 2px rgba(60,64,67,0.3),0px 2px 6px 2px rgba(60,64,67,0.15);background:linear-gradient(0deg,rgba(26,115,232,0.08),rgba(26,115,232,0.08)),#fff;border:none}.swg-button-v2-light:active{background-color:#fff;box-shadow:0px 6px 10px 4px rgba(60,64,67,0.15),0px 2px 3px rgba(60,64,67,0.3);border:none}.swg-button-v2-dark{color:#fff;background-color:#3c4043}.swg-button-v2-dark[disabled]{color:hsla(0,0%,100%,0.38);pointer-events:none}.swg-button-v2-dark:active,.swg-button-v2-dark:hover{box-shadow:0px 2px 6px 2px rgba(0,0,0,0.15),0px 1px 2px rgba(0,0,0,0.3);background-color:#202124}.swg-button-v2-dark:focus{box-shadow:0px 6px 10px 4px rgba(0,0,0,0.15),0px 2px 3px rgba(0,0,0,0.3);background-color:#202124}.swg-button-v2-icon-dark,.swg-button-v2-icon-light{background-size:contain;width:18px;height:18px;margin-left:16px;margin-right:8px}.swg-button-v2-icon-light{background-image:url(https://fonts.gstatic.com/s/i/productlogos/googleg/v6/24px.svg)}.swg-button-v2-light[disabled] .swg-button-v2-icon-light{background-image:url(https://fonts.gstatic.com/s/i/googlematerialicons/google/v20/gm_grey-24dp/2x/gm_google_gm_grey_24dp.png);opacity:0.38}.swg-button-v2-icon-dark{background-image:url(https://fonts.gstatic.com/s/i/googlematerialicons/google/v13/white-24dp/2x/gm_google_white_24dp.png)}.swg-button-v2-dark[disabled] .swg-button-v2-icon-dark{background-image:url(https://fonts.gstatic.com/s/i/googlematerialicons/google/v20/gm_grey-24dp/2x/gm_google_gm_grey_24dp.png)}[subscriptions-action][subscriptions-google-rtc]{opacity:0.5;cursor:not-allowed}\n/*# sourceURL=/extensions/amp-subscriptions-google/0.1/amp-subscriptions-google.css*/'),0,"amp-subscriptions-google");if(n){const e=t.getRootNode();if(Fi(e,r))return r;const n=setInterval((()=>{Fi(e,r)&&clearInterval(n)}),4)}}(t,0,(()=>{})),this.Cot=!!this.xot.enableMetering,this.Eot=!!this.xot.enableLAA,this.Not=!1!==this.xot.enableEntitlements,E(!(this.Eot&&this.Cot),"enableLAA and enableMetering are mutually exclusive."),this.Tot=this.xot.skuMapUrl||null,this.Pot={},this.Sot=this.maybeFetchRealTimeConfig()}static mot(t){return 1!==t.eventOriginator?0:oo[t.eventType]?1:0}Qit(t,e,n){let s=null;const i=n.action,o=n.status;ro[t]?s=ro[t]:i&&ao[i]&&(s=ao[i][o]),s&&this.dot.logEvent({eventType:s,eventOriginator:2,isFromUserAction:null,additionalParameters:null})}fot(t){t&&this.Aot?(this._ot(),this.Jit.actionEvent(this.getPlatformKey(),Vi,Yi),this.Jit.serviceEvent("subscriptions-link-requested",this.getPlatformKey())):this.Lot(this.cst.delegateActionToLocal("login",null))}_ot(){this.cst.getReaderId("local").then((t=>{this.pot.linkAccount({ampReaderId:t})}))}bot(){this.cst.resetPlatforms()}wot(){this.Lot(this.cst.delegateActionToLocal(Wi,null))}Lot(t){t.then((t=>{t&&this.pot.reset()}))}maybeFetchRealTimeConfig(){let t=3e3;return this.Kit&&(t=6e3),this.Tot?(function(t,e,n="source"){var s;E(null!=t,"%s %s must be available",e,n),E("https:"==(s=(t=>"string"==typeof t?$i(t):t)(s=t)).protocol||"localhost"==s.hostname||"127.0.0.1"==s.hostname||function(t,e){const n=t.length-e.length;return n>=0&&t.indexOf(e,n)==n}(s.hostname,".localhost")||/^\/\//.test(t),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',e,n,t)}(this.Tot,"skuMapUrl must be valid https Url"),this.ji.whenFirstVisible().then((()=>this.lot.buildUrl(this.Tot,!1))).then((e=>this.Qe.timeoutPromise(t,this.got.fetchCredentialedJson(e)))).then((t=>{E(t["subscribe.google.com"],"skuMap does not contain subscribe.google.com section"),this.Pot=t["subscribe.google.com"]})).catch((t=>{throw I().createError(`fetch skuMap failed for ${so}`,t)}))):s()}vot(t,e){let n;t.complete().then((()=>{this.cst.resetPlatforms()}));try{const e=t.entitlements&&t.entitlements.getEntitlementForThis();e&&(n=e.getSku())}catch(t){}const s={"active":!0,"product":n||"unknown subscriptionToken"};this.Jit.actionEvent(this.getPlatformKey(),e,Qi,s)}Rot(){return/gaa_n=/.test(this.ji.win.location.hash)?b(this.ji.win.location.hash):b(this.ji.win.location.search)}Oot(){return this.Mot().then((t=>2!==t?null:new no({source:"google:laa",raw:"",service:so,granted:!0,grantReason:"LAA",dataObject:{},decryptedDocumentKey:null})))}Mot(){return this.Eot||this.Cot?this.yot.getReferrerUrl().then((t=>{const e=$i(t);if("https:"!==e.protocol||!io.test(e.hostname))return 1;const n=this.Rot();return parseInt(n.gaa_ts,16)<Date.now()/1e3?1:n.gaa_n&&n.gaa_sig?"la"===n.gaa_at&&this.Eot?2:"la"!==n.gaa_at&&"g"!==n.gaa_at||!this.Cot?1:3:1})):Promise.resolve(1)}isPrerenderSafe(){return this.Aot&&!this.Cot}getEntitlements(){const t=this.cst.getEncryptedDocumentKey("google.com");return E(!(this.Eot&&t),"enableLAA cannot be used when the document is encrypted"),this.Oot().then((e=>{if(e)return e;if(!this.Not)return null;const n=this.Mot(),s=this.cst.loadMeteringState();return Promise.all([n,s]).then((e=>{const n=e[0],s=e[1],i={};return t&&(i.encryption={encryptedDocumentKey:t}),3===n&&s&&(this.pot.clear(),i.metering={state:s},this.cst.rememberMeteringEntitlementsWereFetched()),this.pot.getEntitlements(i).then((t=>this.createAmpEntitlement(t)))}))}))}createAmpEntitlement(t){t.isReadyToPay&&(this.kot=!0);let e,n=t.getEntitlementForThis(),s=!1;if(n&&n.source)s=!0;else{if(!t.entitlements.length||!t.entitlements[0].products.length)return null;n=t.entitlements[0]}return t.ack(),e=s?"google:metering"===n.source?"METERING":eo:null,new no({source:n.source,raw:t.raw,service:so,granted:s,grantReason:e,dataObject:n.json(),decryptedDocumentKey:t.decryptedDocumentKey})}getPlatformKey(){return so}activate(t,e,n){const s=e||t,i=this.Mot(),o=this.cst.loadMeteringState();Promise.all([i,o]).then((t=>{const e=t[0],i=t[1];if(3===e){if(!s.granted&&!i)return void this.jot().then(n);if(s.granted&&!s.isSubscriber())return void this.pot.consumeShowcaseEntitlementJwt(s.raw,n)}s.granted?s.isSubscriber()||this.pot.showAbbrvOffer({list:"amp"}):this.pot.showOffers({list:"amp"})}))}jot(){const t=Oi.show({iframeUrl:this.xot.googleSignInHelperUrl}),e=this.cst.getReaderId("local");return Promise.all([t,e]).then((t=>{const e=t[0],n=t[1],s=this.xot.extendedAccessRegistrationUrl,i={googleSignInDetails:e,ampReaderId:n};return this.got.sendPostToPublisher(s,i)})).then((t=>{const e=t&&t.metering&&t.metering.state;return this.cst.saveMeteringState(e)}))}reset(){this.pot.reset()}isPingbackEnabled(){return!1}pingbackReturnsAllEntitlements(){return!1}pingback(){}getSupportedScoreFactor(t){switch(t){case"supportsViewer":return this.Aot?1:0;case"isReadyToPay":return this.kot?1:0;default:return 0}}Iot(t){const e=t.getParam("viewerUrl");e?this.Aot=io.test($i(e).hostname):t.getViewerOrigin().then((t=>{t&&(this.Aot=io.test($i(t).hostname))}))}getBaseScore(){return this.xot.baseScore||0}executeAction(t,e){let n,s;if(!e||!this.ji.getElementById(e).hasAttribute("subscriptions-google-rtc"))return e&&this.Pot&&(n=d(this.Pot,`${e}.sku`),s=d(this.Pot,`${e}.carouselOptions`)),t==Wi?(n?this.pot.subscribe(n):s?(s.isClosable=!0,this.pot.showOffers(s)):this.pot.showOffers({list:"amp",isClosable:!0}),Promise.resolve(!0)):t==Ki?(n?this.pot.contribute(n):s?(s.isClosable=!0,this.pot.showContributionOptions(s)):this.pot.showContributionOptions({list:"amp",isClosable:!0}),Promise.resolve(!0)):"login"==t?(this._ot(),Promise.resolve(!0)):Promise.resolve(!1)}decorateUI(t,e,n){const s=n||{};switch(e){case Wi:t.textContent="",this.pot.attachButton(t,n,(()=>{}));break;case"subscribe-smartbutton":case"subscribe-smartbutton-light":case"subscribe-smartbutton-dark":t.textContent="",s.theme="subscribe-smartbutton-dark"===e?"dark":"light",s.lang=E(t.getAttribute("subscriptions-lang"),"subscribe-smartbutton must have a language attribute");const i=t.getAttribute("subscriptions-message-text-color");i&&(s.messageTextColor=i);const o=t.getAttribute("subscriptions-message-number");o&&(s.messageNumber=o),this.pot.attachSmartButton(t,s,(()=>{}))}this.Sot.then((()=>{this.Xh.mutate((()=>Object.keys(this.Pot).forEach((t=>{const e=this.ji.getElementById(t);e&&(C(e.hasAttribute("subscriptions-google-rtc")),e.setAttribute("subscriptions-google-rtc-set",""),e.removeAttribute("subscriptions-google-rtc"))}))))}))}},ho=class{constructor(t){this.f$=N(t,"xhr"),this.i=t}fetchCredentialedJson(t){return this.f$.fetchJson(t,{credentials:"include",prerenderSafe:!0}).then((t=>t.json()))}fetch(t,e){return this.f$.fetch(t,e)}sendPost(t,e){const n={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8"},credentials:"include",body:"f.req="+JSON.stringify(e.toArray(!1))};return this.fetch(t,n).then((t=>t&&t.json()||{}))}sendBeacon(t,e){const n="application/x-www-form-urlencoded;charset=UTF-8",s="f.req="+JSON.stringify(e.toArray(!1)),i=class{static getTop(t){return t.top}static getLocation(t){return t.location}static getDocumentReferrer(t){return t.document.referrer}static getHostname(t){return t.location.hostname}static getUserAgent(t){return t.navigator.userAgent}static getUserLanguage(t){return t.navigator.userLanguage||t.navigator.language}static getDevicePixelRatio(){return self.devicePixelRatio||1}static getSendBeacon(t){if(t.navigator.sendBeacon)return t.navigator.sendBeacon.bind(t.navigator)}static getXMLHttpRequest(t){return t.XMLHttpRequest}static getImage(t){return t.Image}}.getSendBeacon(this.i);if(i)return void i(t,new Blob([s],{type:n}));const o={method:"POST",headers:{"Content-Type":n},credentials:"include",body:s};this.fetch(t,o)}sendPostToPublisher(t,e){const n={method:"POST",headers:{"Content-Type":"application/json"},ampCors:!0,credentials:"include",body:JSON.stringify(e)};return this.fetch(t,n).then((t=>t&&t.json()||{}))}};t.registerServiceForDoc("subscriptions-google",(function(t){const e=new class{constructor(t){this.ji=t}createPlatform(t,e){return new lo(this.ji,t,e)}}(t);return(n=t.getHeadNode(),U(n,"subscriptions","amp-subscriptions")).then((t=>{t.registerPlatform(so,((t,n)=>e.createPlatform(t,n)))})),e;var n}))})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
/**
 * @license
 * Copyright 2017 The Web Activities Authors. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2018 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS-IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/** @license
Math.uuid.js (v1.4)
http://www.broofa.com
mailto:robert@broofa.com
Copyright (c) 2010 Robert Kieffer
Dual licensed under the MIT and GPL licenses.
*/}});
//# sourceMappingURL=amp-subscriptions-google-0.1.mjs.map
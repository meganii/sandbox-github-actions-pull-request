;
var{isArray:t}=Array,{hasOwnProperty:n,toString:i}=Object.prototype;function o(t,n,i){const o=t.hasAttribute(n),e=void 0!==i?i:!o;return e!==o&&(e?t.setAttribute(n,""):t.removeAttribute(n)),e}function e(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:i,stack:o}=t,e=new Error(i);for(const n in t)e[n]=t[n];return e.stack=o,e}function r(t){let n=null,i="";for(const t of arguments)t instanceof Error&&!n?n=e(t):(i&&(i+=" "),i+=t);return n?i&&(n.message=i+": "+n.message):n=new Error(i),n}function s(t){var n,i;null===(n=(i=self).__AMP_REPORT_ERROR)||void 0===n||n.call(i,t)}function l(t,...n){try{return t.apply(null,n)}catch(t){!function(t){const n=r.apply(null,arguments);setTimeout((()=>{throw s(n),n}))}(t)}}var a,c=t=>t.unmount();function f(t,n,i,o){if(n&&t.classList.contains("i-amphtml-element")){const n=t;if(l(o,n),!i){const t=n.getPlaceholder();return void(t&&f(t,!0,!1,o))}}const e=t.getElementsByClassName("i-amphtml-element");let r=null;for(let t=0;t<e.length;t++){const n=e[t];if(i)l(o,n);else{r=r||[];let t=!1;for(let i=0;i<r.length;i++)if(r[i].contains(n)){t=!0;break}t||(r.push(n),l(o,n))}}}var u=["Webkit","webkit","Moz","moz","ms","O","o"];function b(t,n,i,o,e){const r=function(t,n,i){if(n.startsWith("--"))return n;a||(a=Object.create(null));let o=a[n];if(!o||i){if(o=n,void 0===t[n]){const i=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),e=function(t,n){for(let i=0;i<u.length;i++){const o=u[i]+n;if(void 0!==t[o])return o}return""}(t,i);void 0!==t[e]&&(o=e)}i||(a[n]=o)}return o}(t.style,n,e);if(!r)return;const s=o?i+o:i;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return u.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(r),s)}function p(t,n){void 0===n&&(n=t.hasAttribute("hidden")),n?t.removeAttribute("hidden"):t.setAttribute("hidden","")}import{PreactBaseElement as h}from"../bento.mjs";function v(t,n,i){return n in t?Object.defineProperty(t,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[n]=i,t}function d(t,n){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),i.push.apply(i,o)}return i}import{createElement as m}from"../bento.mjs";import{useImperativeHandle as y,useLayoutEffect as O,useRef as g,useState as j}from"../bento.mjs";import{forwardRef as w}from"../bento.mjs";import{ContainWrapper as x,useValueRef as C}from"../bento.mjs";var k=["animation","children","closeButtonAs","onAfterClose","onAfterOpen","onBeforeOpen"],A={"fade-in":[{opacity:0,visibility:"visible"},{opacity:1,visibility:"visible"}],"fly-in-top":[{opacity:0,transform:"translate(0,-100%)",visibility:"visible"},{opacity:1,transform:"translate(0, 0)",visibility:"visible"}],"fly-in-bottom":[{opacity:0,transform:"translate(0, 100%)",visibility:"visible"},{opacity:1,transform:"translate(0, 0)",visibility:"visible"}]},B={"part":"scroller"},z=w((function(t,n){let{animation:i="fade-in",children:o,closeButtonAs:e,onAfterClose:r,onAfterOpen:s,onBeforeOpen:l}=t,a=function(t,n){if(null==t)return{};var i,o,e={},r=Object.keys(t);for(o=0;o<r.length;o++)i=r[o],n.indexOf(i)>=0||(e[i]=t[i]);return e}(t,k);const[c,f]=j(!1),[u,p]=j(!1),h=g(),w=C(i),z=C(l),N=C(r),P=C(s);return y(n,(()=>({open:()=>{var t;null===(t=z.current)||void 0===t||t.call(z),f(!0),p(!0)},close:()=>p(!1)})),[z]),O((()=>{const t=h.current;if(!t)return;let n;if(b(t,"visibility",u?"hidden":"visible"),u){const i=()=>{var n;b(t,"opacity",1),b(t,"visibility","visible"),function(t){try{t.focus()}catch(t){}}(t),null===(n=P.current)||void 0===n||n.call(P)};if(!t.animate)return void i();n=t.animate(A[w.current],{duration:200,fill:"both",easing:"ease-in"}),n.onfinish=i}else{const i=()=>{b(t,"opacity",0),b(t,"visibility","hidden"),N.current&&N.current(),n=null,f(!1)};if(!t.animate)return void i();n=t.animate(A[w.current],{duration:200,direction:"reverse",fill:"both",easing:"ease-in"}),n.onfinish=i}return()=>{n&&n.cancel()}}),[u,w,N,P]),c&&m(x,function(t){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?d(Object(i),!0).forEach((function(n){v(t,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))}))}return t}({ref:h,size:!0,layout:!0,paint:!0,part:"lightbox",contentClassName:"content-213f9e3",wrapperClassName:"wrapper-213f9e3",contentProps:B,role:"dialog",tabindex:"0",onKeyDown:t=>{"Escape"===t.key&&p(!1)}},a),m(E,{as:e,onClick:()=>p(!1)}),o)}));function E({onClick:t,as:n=N}){return m(n,{"aria-label":"Close the modal",onClick:t})}function N({"aria-label":t,onClick:n}){return m("button",{"aria-label":t,class:"close-button-213f9e3",onClick:n,tabindex:-1})}z.displayName="Lightbox";var P=class extends h{constructor(t){super(t),this.RL=!1}init(){return{"onBeforeOpen":()=>this.beforeOpen(),"onAfterOpen":()=>this.afterOpen(),"onAfterClose":()=>this.afterClose()}}beforeOpen(){this.RL=!0,o(this.element,"open",!0),p(this.element,!0),this.triggerEvent(this.element,"open")}afterOpen(){}afterClose(){this.RL=!1,o(this.element,"open",!1),p(this.element,!1),this.triggerEvent(this.element,"close"),function(n,i=!0){!function(n,i,o,e){const r=t(s=n)?s:[s];var s;for(let t=0;t<r.length;t++)f(r[t],i,!0,e)}(n,i,0,c)}(this.element,!1)}mutationObserverCallback(){const t=this.element.hasAttribute("open");t!==this.RL&&(this.RL=t,t?this.api().open():this.api().close())}};P.Component=z,P.props={"animation":{attr:"animation",media:!0,default:"fade-in"},"closeButtonAs":{selector:'[slot="close-button"]',single:!0,as:!0},"children":{passthrough:!0}},P.usesShadowDom=!0,P.shadowCss=".close-button-213f9e3{top:0;left:0;width:2px;border:none;height:2px;margin:0;display:block;opacity:0;padding:0;overflow:hidden;position:fixed;visibility:visible}.wrapper-213f9e3{top:0;left:0;color:#fff;right:0;width:100%;bottom:0;height:100%;z-index:1000;position:fixed;box-sizing:border-box;background-color:rgba(0,0,0,0.9)}.content-213f9e3{overflow:auto!important;-ms-scroll-chaining:none!important;overscroll-behavior:none!important}";import{defineBentoElement as D}from"../bento.mjs";D("bento-lightbox",P,void 0);
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=bento-lightbox-1.0.mjs.map
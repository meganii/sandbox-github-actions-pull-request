;
(self.AMP=self.AMP||[]).push({m:0,v:"2301041800000",n:"amp-bodymovin-animation",ev:"0.1",l:!0,f:function(n,t){!function(){function t(n,r){return(t=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,r)}function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function e(n){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i(n,t){if(t&&("object"===e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}var o=Array.isArray;function u(n,t){(null==t||t>n.length)&&(t=n.length);for(var r=0,e=new Array(t);r<t;r++)e[r]=n[r];return e}function a(n,t){var r="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(r)return(r=r.call(n)).next.bind(r);if(Array.isArray(n)||(r=function(n,t){if(n){if("string"==typeof n)return u(n,t);var r=Object.prototype.toString.call(n).slice(8,-1);return"Object"===r&&n.constructor&&(r=n.constructor.name),"Map"===r||"Set"===r?Array.from(n):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?u(n,t):void 0}}(n))||t&&n&&"number"==typeof n.length){r&&(n=r);var e=0;return function(){return e>=n.length?{done:!0}:{done:!1,value:n[e++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var f=Object.prototype,c=f.hasOwnProperty,l=f.toString;function s(n){return"[object Object]"===l.call(n)}function v(n){var t=Object.create(null);return n&&Object.assign(t,n),t}function h(n,t){return c.call(n,t)}function d(n,t){if("."==t)return n;for(var r,i=n,o=a(t.split("."),!0);!(r=o()).done;){var u=r.value;if(!(u&&i&&void 0!==i[u]&&"object"==e(i)&&h(i,u))){i=void 0;break}i=i[u]}return i}function p(n){return"number"==typeof n&&isFinite(n)}function m(n,t,r,e,i,o,u,a,f,c,l){return n}var b=function(){var n=this;this.promise=new Promise((function(t,r){n.resolve=t,n.reject=r}))};function y(n){return JSON.parse(n)}function w(n){var t=parseFloat(n);return p(t)?t:void 0}var g=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function j(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(n)}catch(n){return t}}function O(n){var t,r=v();if(!n)return r;for(;t=g.exec(n);){var e=j(t[1],t[1]),i=t[2]?j(t[2].replace(/\+/g," "),t[2]):"";r[e]=i}return r}function S(n){var t=(n||self).location;return O(t.originalHash||t.hash)}var x="";function E(n){var t=n||self;return t.__AMP_MODE?t.__AMP_MODE:t.__AMP_MODE=function(n){return{localDev:!1,development:T(n,S(n)),esm:!1,test:!1,rtvVersion:R(n),ssrReady:!1}}(t)}function R(n){var t;return x||(x=(null===(t=n.AMP_CONFIG)||void 0===t?void 0:t.v)||"01".concat("2301041800000")),x}function T(n,t){var r=t||S(n);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!n.AMP_DEV_MODE}function A(n,t,r){return t in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,n}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var I=self.__AMP_LOG;function M(n,t){throw new Error("failed to call initLogConstructor")}function k(n){return I.user||(I.user=F()),function(n,t){return t&&t.ownerDocument.defaultView!=n}(I.user.win,n)?I.userForEmbed||(I.userForEmbed=F()):I.user}function F(n){return M()}function N(){return I.dev||(I.dev=M())}function U(n,t,r,e,i,o,u,a,f,c,l){return n}function P(n,t,r,e,i,o,u,a,f,c,l){return k().assert(n,t,r,e,i,o,u,a,f,c,l)}function D(n,t){return C(n=function(n){return n.__AMP_TOP||(n.__AMP_TOP=n)}(n),t)}function J(n,t){return C(_(L(n)),t)}function L(n){return n.nodeType?(r=n,t=(r.ownerDocument||r).defaultView,D(t,"ampdoc")).getAmpDoc(n):n;var t,r}function _(n){var t=L(n);return t.isSingleDoc()?t.win:t}function C(n,t){U(V(n,t));var r=function(n){var t=n.__AMP_SERVICES;return t||(t=n.__AMP_SERVICES={}),t}(n)[t];return r.obj||(U(r.ctor),U(r.context),r.obj=new r.ctor(r.context),U(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}function V(n,t){var r=n.__AMP_SERVICES&&n.__AMP_SERVICES[t];return!(!r||!r.ctor)}var q,B=function(n){return L(n)},z=function(n){return D(n,"batched-xhr")},G=function(n){return D(n,"xhr")};function X(n){return n.data}var W,Z=["Webkit","webkit","Moz","moz","ms","O","o"];function $(n,t,r,e,i){var o=function(n,t,r){if(t.startsWith("--"))return t;W||(W=v());var e=W[t];if(!e||r){if(e=t,void 0===n[t]){var i=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(t),o=function(n,t){for(var r=0;r<Z.length;r++){var e=Z[r]+t;if(void 0!==n[e])return e}return""}(n,i);void 0!==n[o]&&(e=o)}r||(W[t]=e)}return e}(n.style,t,i);if(o){var u,a=e?r+e:r;n.style.setProperty((u=o.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),Z.some((function(n){return u.startsWith(n+"-")}))?"-".concat(u):u),a)}}var H=function(){function n(){}return n.generate=function(n){return function(n){for(var t=n.length,r=5381,e=0;e<t;e++)r=33*r^n.charCodeAt(e);return String(r>>>0)}(function(n){for(var t=[],r=0;1==(null==(o=n)?void 0:o.nodeType)&&r<25;){var e="";n.id&&(e="/".concat(n.id));var i=n.nodeName.toLowerCase();t.push("".concat(i).concat(e).concat(K(n))),r++,n=n.parentElement}var o;return t.join()}(n))},n}();function K(n){for(var t=n.nodeName,r=0,e=0,i=n.previousElementSibling;i&&e<25&&r<100;)i.nodeName==t&&e++,r++,i=i.previousElementSibling;return e<25&&r<100?".".concat(e):""}function Q(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function Y(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){A(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}var nn="__AMP__EXPERIMENT_TOGGLES";function tn(n){var t,r,e,i,u;if(n[nn])return n[nn];n[nn]=v();var f=n[nn];m(f);var c=Y(Y({},null!==(t=n.AMP_CONFIG)&&void 0!==t?t:{}),null!==(r=n.AMP_EXP)&&void 0!==r?r:y((null===(e=n.__AMP_EXP)||void 0===e?void 0:e.textContent)||"{}"));for(var l in c){var s=c[l];"number"==typeof s&&s>=0&&s<=1&&(f[l]=Math.random()<s)}var h=null===(i=n.AMP_CONFIG)||void 0===i?void 0:i["allow-doc-opt-in"];if(o(h)&&h.length){var d=n.document.head.querySelector('meta[name="amp-experiments-opt-in"]');if(d)for(var p,b,w=a((null===(p=d.getAttribute("content"))||void 0===p?void 0:p.split(","))||[],!0);!(b=w()).done;){var g=b.value;h.includes(g)&&(f[g]=!0)}}Object.assign(f,function(n){var t,r="";try{var e;"localStorage"in n&&(r=null!==(e=n.localStorage.getItem("amp-experiment-toggles"))&&void 0!==e?e:"")}catch(n){N().warn("EXPERIMENTS","Failed to retrieve experiments from localStorage.")}for(var i,o=(null===(t=r)||void 0===t?void 0:t.split(/\s*,\s*/g))||[],u=v(),f=a(o,!0);!(i=f()).done;){var c=i.value;c&&("-"==c[0]?u[c.substr(1)]=!1:u[c]=!0)}return u}(n));var j=null===(u=n.AMP_CONFIG)||void 0===u?void 0:u["allow-url-opt-in"];if(o(j)&&j.length)for(var S,x=O(n.location.originalHash||n.location.hash),E=a(j,!0);!(S=E()).done;){var R=S.value,T=x["e-".concat(R)];"1"==T&&(f[R]=!0),"0"==T&&(f[R]=!1)}return f}var rn,en,on=function(){return self.AMP.config.urls}(),un=function(){function n(n){this.Lt=n,this.Wt=0,this.Kt=0,this.Qt=v()}var t=n.prototype;return t.has=function(n){return!!this.Qt[n]},t.get=function(n){var t=this.Qt[n];if(t)return t.access=++this.Kt,t.payload},t.put=function(n,t){this.has(n)||this.Wt++,this.Qt[n]={payload:t,access:this.Kt},this.Xt()},t.Xt=function(){if(!(this.Wt<=this.Lt)){var n,t=this.Qt,r=this.Kt+1;for(var e in t){var i=t[e].access;i<r&&(r=i,n=e)}void 0!==n&&(delete t[n],this.Wt--)}},n}();function an(n,t){return rn||(rn=self.document.createElement("a"),en=self.__AMP_URL_CACHE||(self.__AMP_URL_CACHE=new un(100))),function(n,t,r){if(r&&r.has(t))return r.get(t);n.href=t,n.protocol||(n.href=n.href);var e,i={href:n.href,protocol:n.protocol,host:n.host,hostname:n.hostname,port:"0"==n.port?"":n.port,pathname:n.pathname,search:n.search,hash:n.hash,origin:null};"/"!==i.pathname[0]&&(i.pathname="/"+i.pathname),("http:"==i.protocol&&80==i.port||"https:"==i.protocol&&443==i.port)&&(i.port="",i.host=i.hostname),e=n.origin&&"null"!=n.origin?n.origin:"data:"!=i.protocol&&i.host?i.protocol+"//"+i.host:i.href,i.origin=e;var o=i;return r&&r.put(t,o),o}(rn,n,t?null:en)}function fn(n){return"https:"==(n=function(n){return"string"==typeof n?an(n):n}(n)).protocol||"localhost"==n.hostname||"127.0.0.1"==n.hostname||(r=".localhost",(e=(t=n.hostname).length-r.length)>=0&&t.indexOf(r,e)==e);var t,r,e}function cn(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"source";return P(null!=n,"%s %s must be available",t,r),P(fn(n)||/^\/\//.test(n),'%s %s must start with "https://" or "//" or be relative and served from either https or from localhost. Invalid value: %s',t,r,n),n}new Set(["c","v","a","ad"]);var ln=function(){return self.AMP.config.urls}(),sn={};function vn(n,t,r,e){var i=r||t.getAttribute("type");P(i,"Attribute type required for <amp-ad>: %s",t);var o=function(n){for(var t=0,r=n;r&&r!=r.parent;r=r.parent)t++;return String(t)+"-"+pn(n)}(n),u={};return function(n,t){var r=n.dataset;for(var e in r)e.startsWith("vars")||(t[e]=r[e]);var i=n.getAttribute("json");if(i){var o=function(n,t){try{return y(n)}catch(n){return null}}(i);if(void 0===o)throw k().createError("Error parsing JSON in json attribute in element %s",n);for(var u in o)t[u]=o[u]}}(t,u),u=function(n,t,r,e){var i=Date.now(),o=t.getAttribute("width"),u=t.getAttribute("height");(e=e||{}).width=w(o),e.height=w(u),t.getAttribute("title")&&(e.title=t.getAttribute("title"));var a=n.location.href;"about:srcdoc"==a&&(a=n.parent.location.href);var f,c,l,s,v=B(t),h=J(t,"documentInfo").get(),d=(s=t,J(s,"viewer")).getUnconfirmedReferrerUrl(),p=function(n){for(var t=n.ownerDocument.body,r=0,e=0,i=n;i&&i!=t;i=i.offsetParent)r+=i.offsetLeft,e+=i.offsetTop;var o=n.offsetHeight;return function(n,t,r,e){return{left:n,top:t,width:r,height:e,bottom:t+e,right:n+r,x:n,y:t}}(r,e,n.offsetWidth,o)}(t);e._context={"ampcontextVersion":"2301041800000","ampcontextFilepath":"".concat(on.thirdParty,"/").concat("2301041800000","/ampcontext-v0.js"),"sourceUrl":h.sourceUrl,"referrer":d,"canonicalUrl":h.canonicalUrl,"pageViewId":h.pageViewId,"location":{"href":a},"startTime":i,"tagName":t.tagName,"mode":{localDev:!1,development:E(l).development,esm:E(l).esm,test:!1,rtvVersion:E(l).rtvVersion},"canary":(f=n,!(null===(c=f.AMP_CONFIG)||void 0===c||!c.canary)),"hidden":!v.isVisible(),"initialLayoutRect":p?{"left":p.left,"top":p.top,"width":p.width,"height":p.height}:null,"domFingerprint":H.generate(t),"experimentToggles":tn(n),"sentinel":r};var m=t.getAttribute("src");return m&&(e.src=m),e}(n,t,o,u),u.type=i,Object.assign(u._context,e),u}function hn(n){return"".concat(ln.thirdParty,"/").concat("2301041800000","/vendor/").concat(n).concat(".js")}function dn(n,t,r){return function(n,t,r){var e=t.getMetaByName("amp-3p-iframe-src");if(!e)return null;var i=cn(e,'meta[name="amp-3p-iframe-src"]');P(-1==i.indexOf("?"),"3p iframe url must not include query string %s in element %s.",i,e);var o=an(i);return P("localhost"==o.hostname&&!r||o.origin!=an(n.location.href).origin,"3p iframe url must not be on the same origin as the current document %s (%s) in element %s. See https://github.com/ampproject/amphtml/blob/main/docs/spec/amp-iframe-origin-policy.md for details.",i,o.origin,e),"".concat(i,"?").concat("2301041800000")}(n,t,r)||function(n,t){return n.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN=n.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN||"d-"+pn(n),"https://"+n.__AMP_DEFAULT_BOOTSTRAP_SUBDOMAIN+".".concat(ln.thirdPartyFrameHost,"/").concat("2301041800000","/")+"".concat("frame",".html")}(n)}function pn(n){var t;if(n.crypto&&n.crypto.getRandomValues){var r=new Uint32Array(2);n.crypto.getRandomValues(r),t=String(r[0])+r[1]}else t=String(n.Math.random()).substr(2)+"0";return t}function mn(n){if(n.sandbox&&n.sandbox.supports){for(var t=["allow-top-navigation-by-user-activation","allow-popups-to-escape-sandbox"],r=0;r<t.length;r++){var e=t[r];if(!n.sandbox.supports(e))return void N().info("3p-frame","Iframe doesn't support %s",e)}n.sandbox=t.join(" ")+" "+["allow-forms","allow-modals","allow-pointer-lock","allow-popups","allow-same-origin","allow-scripts"].join(" ")}}function bn(n,t,r,e){var i=function(n){return t="url-replace",V(r=_(L(n)),t)?C(r,t):null;var t,r}(n);return(r>=1?i.expandUrlAsync(t):Promise.resolve(t)).then((function(t){if(1===r){var o=i.collectDisallowedVarsSync(n);if(o.length>0)throw k().createError("URL variable substitutions in CORS fetches from dynamic URLs (e.g. via amp-bind) require opt-in. "+'Please add data-amp-replace="'.concat(o.join(" "),'" to the ')+"<".concat(n.tagName,"> element. See https://bit.ly/amp-var-subs."))}var u={};return n.hasAttribute("credentials")&&(u.credentials=n.getAttribute("credentials")),e&&(u.cache="reload"),{"xhrUrl":t,"fetchOpt":u}}))}var yn=function(n){!function(n,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(r&&r.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),r&&t(n,r)}(a,n);var e,o,u=(e=a,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,t=r(e);if(o){var u=r(this).constructor;n=Reflect.construct(t,arguments,u)}else n=t.apply(this,arguments);return i(this,n)});function a(n){var t;return(t=u.call(this,n)).te=B(t.element),t.tb=null,t.kd=null,t._d=null,t.fO=null,t._b=null,t.zb=null,t.Bb=null,t}var f=a.prototype;return f.isLayoutSupported=function(n){return function(n){return"fixed"==n||"fixed-height"==n||"responsive"==n||"fill"==n||"flex-item"==n||"fluid"==n||"intrinsic"==n}(n)},f.preconnectCallback=function(n){var t=D(this.win,"preconnect");!function(n,t,r,e){var i=dn(n,r);e.preload(r,i,"document"),e.preload(r,hn("bodymovinanimation"),"script")}(this.win,0,this.getAmpDoc(),t),t.url(this.getAmpDoc(),"https://cdnjs.cloudflare.com",n)},f.buildCallback=function(){var n=this;this.kd=this.element.getAttribute("loop")||"true",this.fO=!this.element.hasAttribute("noautoplay"),this._d=this.element.getAttribute("renderer")||"svg",P(this.element.hasAttribute("src"),"The src attribute must be specified for <amp-bodymovin-animation>"),cn(this.element.getAttribute("src"),this.element);var t=new b;this._b=t.promise,this.zb=t.resolve,this.registerAction("play",(function(){n.Dj()}),1),this.registerAction("pause",(function(){n.$j()}),1),this.registerAction("stop",(function(){n.lO()}),1),this.registerAction("seekTo",(function(t){var r=t.args;r&&n.vO(r)}),1)},f.layoutCallback=function(){var n=this,t=function(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e=r.expr,i=void 0===e?".":e,o=r.urlReplacement,u=void 0===o?0:o,a=r.refresh,f=void 0!==a&&a,c=r.xssiPrefix,l=void 0===c?void 0:c,s=r.url,v=void 0===s?t.getAttribute("src"):s;cn(v,t);var h=z(n.win);return bn(t,v,u,f).then((function(n){return h.fetchJson(n.xhrUrl,n.fetchOpt)})).then((function(t){return G(n.win).xssiJson(t,l)})).then((function(n){if(null==n)throw new Error("Response is undefined.");return d(n,i||".")})).catch((function(n){throw k().createError("failed fetching JSON data",n)}))}(this.te,this.element);return t.then((function(t){var r,e={loop:n.kd,autoplay:n.fO,renderer:n._d,animationData:t},i=function(n,t,r,e){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=i.allowFullscreen,u=void 0!==o&&o,a=i.initialIntersection;U(void 0===t.isConnected||!0===t.isConnected);var f=vn(n,t,r,e);a&&(f._context.initialIntersection=a);var c=n.document.createElement("iframe");sn[f.type]||(sn[f.type]=0),sn[f.type]+=1;var l=t.getAmpDoc(),s=dn(n,l),v=an(s).hostname,h=JSON.stringify({"host":v,"bootstrap":hn(f.type),"type":f.type,"count":sn[f.type],"attributes":f});return c.src=s,c.ampLocation=an(s),c.name=h,f.width&&(c.width=f.width),f.height&&(c.height=f.height),f.title&&(c.title=f.title),u&&c.setAttribute("allowfullscreen","true"),c.setAttribute("scrolling","no"),$(c,"border","none"),c.onload=function(){this.readyState="complete"},c.setAttribute("allow","sync-xhr 'none';"),["facebook"].includes(r)||mn(c),c.setAttribute("data-amp-3p-sentinel",f._context.sentinel),c}(n.win,n.element,"bodymovinanimation",e);return i.title=n.element.title||"Airbnb BodyMovin animation",(r=n.win,D(r,"vsync")).mutatePromise((function(){var t,r;i.classList.add("i-amphtml-fill-content"),n.Bb=(t=n.win,r=n.hO.bind(n),function(n,t,r,e){var i=n,o=r,u=function(n){try{return o(n)}catch(n){var t,r;throw null===(t=(r=self).__AMP_REPORT_ERROR)||void 0===t||t.call(r,n),n}},a=function(){if(void 0!==q)return q;q=!1;try{var n={get capture(){return q=!0,!1}};self.addEventListener("test-options",null,n),self.removeEventListener("test-options",null,n)}catch(n){}return q}();return i.addEventListener(t,u,!!a&&e),function(){null==i||i.removeEventListener(t,u,!!a&&e),o=null,i=null,u=null}}(t,"message",r,void 0)),n.element.appendChild(i),n.tb=i})).then((function(){return n._b}))}))},f.unlayoutCallback=function(){var n,t;this.tb&&(null===(t=(n=this.tb).parentElement)||void 0===t||t.removeChild(n),this.tb=null),this.Bb&&this.Bb();var r=new b;return this._b=r.promise,this.zb=r.resolve,!0},f.hO=function(n){if((!this.tb||n.source==this.tb.contentWindow)&&X(n)&&(s(X(n))||X(n).startsWith("{"))){var t=s(X(n))?X(n):y(X(n));void 0!==t&&"ready"==t.action&&this.zb()}},f.Vb=function(n,t,r){var e=this;this._b.then((function(){if(e.tb&&e.tb.contentWindow){var i=JSON.stringify({"action":n,"valueType":t||"","value":r||""});e.tb.contentWindow.postMessage(i,"*")}}))},f.Dj=function(){this.Vb("play")},f.$j=function(){this.Vb("pause")},f.lO=function(){this.Vb("stop")},f.vO=function(n){var t=parseFloat(n&&n.time);p(t)&&this.Vb("seekTo","time",t);var r,e=parseFloat(n&&n.percent);p(e)&&this.Vb("seekTo","percent",(r=e,m(!0),Math.min(Math.max(r,0),1)))},a}(n.BaseElement);n.registerElement("amp-bodymovin-animation",yn)}();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */}});
//# sourceMappingURL=amp-bodymovin-animation-0.1.js.map
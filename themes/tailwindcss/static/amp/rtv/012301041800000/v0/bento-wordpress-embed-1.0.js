;
!function(n){var e=self.BENTO=self.BENTO||{};(e.bento=e.bento||[]).push((function(n){"use strict";function e(n,t){return(e=Object.setPrototypeOf||function(n,e){return n.__proto__=e,n})(n,t)}function t(n){return(t=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function o(n,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function u(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function l(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){u(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function a(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function c(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,o,u=[],i=!0,l=!1;try{for(t=t.call(n);!(i=(r=t.next()).done)&&(u.push(r.value),!e||u.length!==e);i=!0);}catch(n){l=!0,o=n}finally{try{i||null==t.return||t.return()}finally{if(l)throw o}}return u}}(n,e)||function(n,e){if(n){if("string"==typeof n)return a(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?a(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(n,e){if(null==n)return{};var t,r,o={},u=Object.keys(n);for(r=0;r<u.length;r++)t=u[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}var s,d="unload",b=(u(s={},"auto",0),u(s,"lazy",1),u(s,"eager",2),u(s,d,3),"loading"),y="complete",v=["allow","allowFullScreen","iframeStyle","name","title","matchesMessagingOrigin","messageHandler","ready","loading","onReadyState","sandbox","src"],m=function(){return!1},p=(0,n.forwardRef)((function(e,t){var r=e.allow,o=e.allowFullScreen,u=e.iframeStyle,i=e.name,a=e.title,c=e.matchesMessagingOrigin,s=void 0===c?m:c,p=e.messageHandler,h=e.ready,g=void 0===h||h,j=e.loading,w=e.onReadyState,O=e.sandbox,S=e.src,R=f(e,v),E=(0,n.useAmpContext)().playable,A=(0,n.useLoading)(j),I=A!==d,U=(0,n.useRef)(!1),L=(0,n.useValueRef)(w),P=(0,n.useCallback)((function(n){if(n!==U.current){U.current=n;var e=L.current;null==e||e(n?y:b)}}),[L]),x=(0,n.useRef)(null);return(0,n.useImperativeHandle)(t,(function(){return{get readyState(){return U.current?y:b},get node(){return x.current}}}),[]),(0,n.useLayoutEffect)((function(){I||P(!1)}),[I,P]),(0,n.useEffect)((function(){var n=x.current;!E&&n&&(function(n){return!(!n||"about:blank"==n||n.includes("#"))}(n.src)?n.src=n.src:n.parentNode.insertBefore(n,n.nextSibling))}),[E]),(0,n.useLayoutEffect)((function(){var n=x.current;if(n&&I){var e=function(n){var e=x.current;e&&n.source==e.contentWindow&&s(n.origin)&&p(n)},t=n.ownerDocument.defaultView;return t.addEventListener("message",e),function(){return t.removeEventListener("message",e)}}}),[s,p,I,g]),(0,n.createElement)(n.ContainWrapper,l(l({},R),{},{layout:!0,size:!0,paint:!0}),I&&g&&(0,n.createElement)("iframe",{allow:r,allowFullScreen:o,frameBorder:"0",loading:A,name:i,onLoad:function(){return P(!0)},part:"iframe",ref:x,sandbox:O,scrolling:"no",src:S,style:l(l({},u),{},{width:"100%",height:"100%",contentVisibility:"auto"}),title:a}))}));p.displayName="IframeEmbed",Array.isArray;var h=Object.prototype;h.hasOwnProperty,h.toString,self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG,new Set(["c","v","a","ad"]);var g=["onLoad","requestResize","title","url"],j=n.useCallback,w=n.useEffect,O=n.useMemo,S=n.useRef,R=n.useState,E={},A=(0,n.forwardRef)((function(e,t){var r=e.onLoad,o=e.requestResize,u=e.title,i=void 0===u?"WordPress Embed":u,a=e.url,s=f(e,g),d=c(R(E),2),b=d[0],y=d[1],v=c(R(0),2),m=v[0],h=v[1],A=S(null),I=c(R(null),2),U=I[0],L=I[1],P=(0,n.useValueRef)(r),x=O((function(){return function(n,e,t,r){return function(n,e,t){if(!e)return n;var r=n.split("#",2),o=r[0].split("?",2);return o[0]+(o[1]?t?"?".concat(e,"&").concat(o[1]):"?".concat(o[1],"&").concat(e):"?".concat(e))+(r[1]?"#".concat(r[1]):"")}(n,function(n,e){return"".concat(encodeURIComponent(n),"=").concat(encodeURIComponent(e))}(e,t),r)}(a,"embed","true")}),[a]),B=j((function(n){var e=new URL(a),t=new URL(n);return e.origin===t.origin}),[a]),k=j((function(n){var e,t=function(n){return n.data}(n);switch(t.message){case"height":if("number"==typeof t.value){var r=t.value;o&&o(r),y({"height":r}),h(1)}null===(e=P.current)||void 0===e||e.call(P);break;case"link":B(t.value)&&U&&(U.top.location.href=t.value)}}),[o,B,U,P]);return w((function(){var n,e;L(null===(n=A.current)||void 0===n||null===(e=n.ownerDocument)||void 0===e?void 0:e.defaultView)}),[]),function(n){try{return new URL(n),!0}catch(n){return"Please provide a valid url",console.warn("Please provide a valid url"),!1}}(a)?(0,n.createElement)(p,l({iframeStyle:{opacity:m},matchesMessagingOrigin:B,messageHandler:k,ref:t,contentRef:A,src:x,wrapperStyle:b,title:i},s)):null}));A.displayName="BentoWordPressEmbed";var I=function(n){!function(n,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),t&&e(n,t)}(l,n);var r,u,i=(r=l,u=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,e=t(r);if(u){var i=t(this).constructor;n=Reflect.construct(e,arguments,i)}else n=e.apply(this,arguments);return o(this,n)});function l(){return i.apply(this,arguments)}return l}(n.PreactBaseElement);I.Component=A,I.props={url:{attr:"data-url",default:""},title:{attr:"title"}},I.layoutSizeDefined=!0,I.usesShadowDom=!0,(0,n.defineBentoElement)("bento-wordpress-embed",I,undefined)}))}();
//# sourceMappingURL=bento-wordpress-embed-1.0.js.map
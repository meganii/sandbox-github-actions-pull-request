{"version":3,"file":"amp-vk-0.1.js","mappings":"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","names":["o","p","_setPrototypeOf","Object","setPrototypeOf","__proto__","_getPrototypeOf","getPrototypeOf","obj","_typeof","Symbol","iterator","constructor","prototype","self","call","TypeError","ReferenceError","assertThisInitialized","isArray","Array","_Object$prototype","hasOwnProperty","toString","__AMP_LOG","user","dev","userForEmbed","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","id","getServiceInternal","__AMP_TOP","getTopWindow","nodeOrDoc","nodeType","node","ownerDocument","defaultView","getService","getAmpDoc","holder","devAssert","service","__AMP_SERVICES","ctor","isServiceRegistered","s","services","getServices","context","resolve","optsSupported","Services","elementOrAmpDoc","getAmpdoc","ampdoc","isSingleDoc","getServiceForDoc","url","paramString","opt_addToFront","mainAndFragment","split","mainAndQuery","params","appendEncodedParamStringToUrl","key","value","arrayOrSingleItem","k","v","i","length","push","encodeURIComponent","join","serializeQueryString","Set","EmbedType","AmpVk","subClass","superClass","create","writable","configurable","_inherits","Derived","hasNativeReflectConstruct","_super","AmpVk2","Reflect","construct","sham","Proxy","Boolean","valueOf","e","isNativeReflectConstruct","result","Super","NewTarget","this","arguments","apply","possibleConstructorReturn","element","_this","iframe_","widgetHeight_","unlistenMessage_","embedType_","ownerId_","postId_","hash_","apiId_","pollId_","preconnectCallback","opt_onLayout","window","_proto","getIFrameSrc_","iframeSrcPromise","createdTime","Date","now","getVkPostIFrameSrc_","getVkPollIFrameSrc_","then","iframeSrc","getReferrerUrl","ref","startWidth","_this2","offsetWidth","pageUrl","getUrl","addParamsToUrl","app","width","_ver","owner_id","post_id","hash","amp","referrer","title","_this3","poll_id","description","buildCallback","userAssert","getAttribute","postBuildCallback_","pollBuildCallback_","layoutCallback","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","_this4","iframe","createElement","handleVkIframeMessage_","bind","event","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","src","setAttribute","opt_replacedContent","classList","add","applyFillContent","appendChild","loadPromise","origin","source","contentWindow","eventData","data","matches","exec","newHeight","parseInt","forceChangeHeight","isLayoutSupported","layout","unlayoutOnPause","unlayoutCallback","_element$parentElemen","parentElement","removeChild","AMP","BaseElement","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","src/core/types/array.js","src/core/types/object/index.js","src/utils/log.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","src/core/dom/event-helper-listen.js","src/url.js","extensions/amp-vk/0.1/amp-vk.js","node_modules/@babel/runtime/helpers/esm/inherits.js","node_modules/@babel/runtime/helpers/esm/createSuper.js","node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","src/utils/event-helper.js","src/core/dom/layout/index.js","src/core/dom/index.js"]}

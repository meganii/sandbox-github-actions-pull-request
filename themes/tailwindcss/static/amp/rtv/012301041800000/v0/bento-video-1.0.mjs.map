{"version":3,"file":"bento-video-1.0.mjs","mappings":";4BAAAA,qBCAe,WAAiBC,GAa9B,OATEC,EADoB,mBAAXC,QAAoD,iBAApBA,OAAOC,SACtC,SAAiBH,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,mBAAXE,QAAyBF,EAAII,cAAgBF,QAAUF,IAAQE,OAAOG,UAAY,gBAAkBL,IAI9GA,GCXF,WAAwBM,GACrC,IAAIC,ECFS,SAAsBC,EAAOC,GAC1C,GAAuB,WAAnBR,EAAQO,IAAiC,OAAVA,EAAgB,OAAOA,EAC1D,IAAIE,EAAOF,EAAMN,OAAOS,aAExB,QAAaC,IAATF,EAAoB,CACtB,IAAIG,EAAMH,EAAKI,KAAKN,EDHK,UCIzB,GAAqB,WAAjBP,EAAQY,GAAmB,OAAOA,EACtC,MAAM,IAAIE,UAAU,gDAGtB,OAA4BC,OAAiBR,GDRnCG,CAAYL,GACtB,MAAwB,WAAjBL,EAAQM,GAAoBA,EAAMS,OAAOT,GEJnC,WAAyBP,EAAKO,EAAKU,GAYhD,OAXIV,KAAOP,EACTkB,OAAOC,eAAenB,EAAKO,EAAK,CAC9BU,QACAG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZtB,EAAIO,GAAOU,EAGNjB,ECVT,WAAiBuB,EAAQC,GACvB,IAAIC,EAAOP,OAAOO,KAAKF,GAEvB,GAAIL,OAAOQ,sBAAuB,CAChC,IAAIC,EAAUT,OAAOQ,sBAAsBH,GAEvCC,IACFG,EAAUA,EAAQC,QAAO,SAAUC,GACjC,OAAOX,OAAOY,yBAAyBP,EAAQM,GAAKT,eAIxDK,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,WAAwBQ,GACrC,QAASC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNI,EAAQpB,OAAOmB,IAAS,GAAME,SAAQ,SAAUhC,GAC9CY,EAAec,EAAQ1B,EAAK8B,EAAO9B,OAE5BW,OAAOsB,0BAChBtB,OAAOuB,iBAAiBR,EAAQf,OAAOsB,0BAA0BH,IAEjEC,EAAQpB,OAAOmB,IAASE,SAAQ,SAAUhC,GACxCW,OAAOC,eAAec,EAAQ1B,EAAKW,OAAOY,yBAAyBO,EAAQ9B,OAKjF,OAAO0B,EC5BF,ICRAS,eAAgBC,EAASC,SAAUC,GAAa3B,OAAOb,UCIvD,WAAmCyC,GACxC,MAAMC,EAAkB7B,OAAOY,yBAAyBgB,EAAO,WAC/D,GAAIC,WAAiBzB,SACnB,OAAOwB,EAGT,MAAME,QAACA,QAASC,GAASH,EACnBI,EAAI,IAAIC,MAAMH,GAEpB,UAAWI,KAAQN,EACCI,EAAGE,GAA0BN,EAAOM,GAIxD,OADAF,EAAED,MAAQA,EACHC,EAQF,WAAqBG,GAC1B,IAAIP,EAAQ,KACRE,EAAU,GACd,UAAW1C,KAAO6B,UACZ7B,aAAe6C,QAAUL,EAC3BA,EAAQQ,EAA0BhD,IAE9B0C,IACFA,GAAW,KAEbA,GAAW1C,GASf,OALKwC,EAEME,IACTF,EAAME,QAAUA,EAAU,KAAOF,EAAME,SAFvCF,EAAQ,IAAIK,MAAMH,GAIbF,EAkDF,WAA6BO,GAClC,MAAMP,EAAQS,EAAYvB,MAAM,KAAMG,WAEtC,OADAW,EAAMU,UAAW,EACVV,EAqBF,WAA0BW,KAAcC,GAnE/C,IAA0BZ,EAAOa,IAAPb,EAoEPc,EAAoB5B,MAAM,KAAM0B,GAnEjD,mBAAKG,0BAAL,gBAA0Bf,sBC9C5BgB,8DACAC,8IASAC,8CACAC,8DACAC,2DCpBAC,kEAEAC,qBCmfAC,KAAKC,UAAYD,KAAKC,WAAa,CACjCC,KAAM,KACNC,IAAK,KACLC,aAAc,MAGHJ,KAAKC,UAAlB,ICzeaI,EAAiB,CAC5BC,QAAS,GACTC,SAAU,GACVC,QAAS,GACTC,UAAW,CAAC,CAACC,MAAO,MAgCf,WAA0BC,GAC/B,MAAMC,EAASD,EAAIE,cAAc,sCACjC,IAAKD,EAEH,OAEF,MAAME,ECED,SAAsBC,EAAMC,GACjC,IACE,OAfG,SAAmBD,GACxB,OAAmCE,KAAKC,MAAMH,GAcrCI,CAAUJ,SACVlC,GAEP,OAAO,MDPUuC,CAAaR,EAAOS,aACvC,OAAKP,GAAeA,EAAW,MAMI,iBAAxBA,EAAW,MAEbA,EAAW,MAElBA,EAAW,MAAS,UACuB,iBAApCA,EAAW,MAAS,SAAS,GAG7BA,EAAW,MAAS,SAAS,GACW,iBAA/BA,EAAW,MAAS,IAE7BA,EAAW,MAAS,IACgB,iBAA3BA,EAAW,MAAS,GAE7BA,EAAW,MAAS,QAE3B,OAtBF,EA+BK,WAAsBH,GAC3B,MAAMW,EAAUX,EAAIE,cAAc,6BAClC,OAAIS,EACKA,EAAQC,aAAa,gBAE5B,EASG,WAAsBZ,GAC3B,MAAMa,EACJb,EAAIE,cAAc,8BAClBF,EAAIE,cAAc,oBACpB,OAAIW,EACKA,EAAQD,aAAa,aAE5B,EHsMJ,YAAkBE,YAChBA,iBACAC,WACAC,iBACAC,QACAC,OACAC,UACAC,aACAC,IAEA,MAAMC,SAACA,GAAYlC,IA+BnB,OA3BAmC,GAAU,KACR,IAAKD,EAEH,YADAJ,IAIF,MAAMM,EAAW,IAAIC,sBAClBC,IACKA,EAAQA,EAAQtE,OAAS,GAAGuE,eAC9BR,IAAOS,OAAM,SAKbV,MAGJ,CAACW,UKnV0C,KLwV7C,OAFAL,EAASM,QAAQT,EAAWU,SAErB,KACLP,EAASQ,gBAEV,CAACX,EAAYF,EAAMD,EAAOI,IAG3BW,SACGnB,GACCmB,SACEC,oBAE+Bd,EAF1B,2BAKLa,EAACE,EAAD,OAIHpB,GACCkB,YACE,aAAajB,GAAYA,EAASrB,OAAU,eAC5CyC,SAAS,IACTF,MAAK,4DAILG,QAASpB,KAOnB,IAAMkB,EM9WC,SAAcG,GACnB,IAAIC,GAAY,EAEZC,EAAW,KACXC,EN2WC,IAEI,CAAC,EAAG,EAAG,EAAG,GAAGC,KAAKxF,GAAM+E,SAAKC,uBAAsB3G,IAAK2B,MM3WjE,MAAO,IAAIwB,KACJ6D,IACHC,EAAWC,EAASzF,MAAMqC,KAAMX,GAChC6D,GAAY,EACME,EAAY,MAEzBD,GNmWTG,GAMIC,EAAe5D,GAhUrB,WAkBE6D,GACA,MAJY,SAdZC,SACEA,GAAW,EACXC,UAAWC,EAAY,iBACvBC,GAAW,EACXC,QAASC,OACTC,GAAO,eACPC,GAAe,UACfC,GAAU,iBACVC,eACAC,SACAC,UACAC,MACA3D,QACA4D,GACAC,GAAqBC,GAIvBC,EAHKC,EOnFQ,SAAuC1G,EAAQ2G,GAC5D,GAAc,MAAV3G,EAAgB,MAAO,GAC3B,IAEI9B,EAAK2B,EAFLD,EAAS,GACTgH,EAAa/H,OAAOO,KAAKY,GAG7B,IAAKH,EAAI,EAAGA,EAAI+G,EAAW7G,OAAQF,IACjC3B,EAAM0I,EAAW/G,GACb8G,EAASE,QAAQ3I,IAAQ,IAC7B0B,EAAO1B,GAAO8B,EAAO9B,IAGvB,OAAO0B,EP0EPkH,6JC9EK,WACL,MAAMC,OAACA,GAAUhF,IACjBiF,GAAgB,KACVD,GACFA,OD2EJE,GACA,MAAMhD,SAACA,GAAYlC,IACb8D,EAAUqB,EAAWpB,GACrBqB,EH5D2B,WG4DpBtB,GAENuB,EAAOC,GAAYC,EAAS7B,IAC5B1B,EAASwD,GAAeD,GAAS,IACjC3D,EAAU6D,GAAeF,EAAqC,OAC9DG,EAAmBC,GAAwBJ,GAAU7B,GAEtDzB,EAAa2D,EAAO,MACpBC,EAAYD,EAAO,MAMnBE,EAAgBC,GAAQ,IAAM,IQ7D/B,MAEL/J,cAEEgK,KAAKC,QAAU,IAAWC,SAAQ,CAACzJ,EAAK0J,KAEtCH,KAAKI,QAAU3J,EAEfuJ,KAAKK,OAASF,QRqDkC,IAE9CG,GAAgBV,ESlFb,WTqFHW,GAAkBC,EAAYpC,GAC9BqC,GAAgB1G,GACpB,CAAC2G,EAAOC,KACN,GAAID,IAAUJ,GAAc3D,QAAS,CACnC2D,GAAc3D,QAAU+D,EACxB,MAAMtC,EAAemC,GAAgB5D,QACjCyB,GACFA,EAAasC,EAAOC,MAI1B,CAACJ,KAKGK,GAAoBJ,EAAYrC,GAChC0C,GAAkB9G,GACrBiC,IACCwD,EAAYxD,GACZ,MAAMmC,EAAiByC,GAAkBjE,QACrCwB,GACFA,EAAenC,KAGnB,CAAC4E,KAIH3B,GAAgB,KACTG,GACHyB,IAAgB,KAEjB,CAACzB,EAAMyB,KAEV,MAAM9E,GAAOhC,GAAY,IAChB+F,EAAcG,QAAQa,MAAK,IUhD/B,SAAiBC,EAASC,GAG/B,MAAMf,GFpCmB/C,EEoCE,IAAM6D,EAAQhF,MAAK,GFnCvC,IAAImE,SAASE,IAClBA,EAAQlD,SAFL,IAAoBA,EE2CzB,OAHA+C,EAAQzD,OAAOyE,IACbC,EAAiB,EAAWD,MAEvBhB,EVsCmCkB,CAAQtB,EAAUlD,YACzD,CAACmD,IAEEhE,GAAQ/B,GAAY,KACxB+F,EAAcG,QAAQa,MAAK,4BAAMjB,EAAUlD,eAAhB,aAAMyE,EAAmBtF,aACnD,CAACgE,IAEEuB,GAAoBtH,GAAY,IAC7B+F,EAAcG,QAAQa,MAAK,IAChCjB,EAAUlD,QAAQ0E,uBAEnB,CAACvB,IAEEwB,GAAiBvH,GAAY,KACjCuF,GAAS,GACTK,GAAqB,KACpB,IAuFH,OAnFAV,GAAgB,KAAM,MACpB,MAAMsC,EAAU,UAAG1B,EAAUlD,eAAb,aAAG6E,EAAmBD,WACpB,MAAdA,GACFd,GACEc,EAAa,ES5IT,WALD,aToJN,CAACd,KAEJxB,GAAgB,KACVhB,GAAgBjC,GAAWJ,GG/I5B,SAAyB6F,EAAK7F,EAAU8F,EAAaC,GAC1D,MAAMC,UAACA,GAAaH,EAChB,iBAAkBG,GAAaH,EAAII,gBAGrCD,EAAUE,aAAalG,SAAW,IAAI6F,EAAII,cAAcvH,GAExDsH,EAAUE,aAAalG,SAAW,IAAI6F,EAAII,cAAcjG,GAExDgG,EAAUE,aAAaC,iBAAiB,OAAQL,GAChDE,EAAUE,aAAaC,iBAAiB,QAASJ,IHsI/CK,CAAgBC,OAAQrG,EAAUG,GAAMD,IAEnC,SAIN,CAACmC,EAAcjC,EAASJ,EAAUG,GAAMD,KAG3CK,GAAU,KACHD,GACHJ,OAED,CAACI,EAAUJ,KAIdoG,EACEzE,GACA,KAAO,CAED8D,iBACF,OAAOjB,GAAc3D,SAIvBZ,QACAD,SACAuF,qBACIc,kBACF,OAAKtC,EAAUlD,QAGRkD,EAAUlD,QAAQwF,YAFhB,GAIPC,eACF,OAAKvC,EAAUlD,QAGRkD,EAAUlD,QAAQyF,SAFhBC,KAIP3E,eACF,OAAOA,GAELG,eACF,OAAOA,GAELG,WACF,OAAOA,GAITsD,kBACAgB,KAAM,IAAMhD,GAAS,GACrBiD,OAAQ,KACF7C,GACFJ,GAAS,OAIf,CACEvD,GACAD,GACAuF,GACAC,GACA5B,EACAhC,EACAG,EACAG,IAKFnB,EAAChD,EAAD,CACE2I,WAAYvG,EACZa,MAAO2B,EACPF,QACAkE,MAAI,EACJC,QAAM,EACNC,OAAK,GAEJvD,GACCvC,EAACe,EAADgF,OACMjE,GADN,IAEElB,IAAKoC,EACL/B,UACAuB,QACArB,OACAH,SAAUA,KAAcH,GAAYgC,GACpCmD,UAAW,KACT/C,EAAcM,UACdK,GS9OA,aTgPFqC,iBAAkB,KACZ7E,GACF6B,EAAcG,QAAQa,MAAK,KAvOrB,IAACiC,EAAQC,EAwObvD,GAxOKsD,EAwOmBlD,EAAUlD,QAvOpBiG,GAC1BrI,SAFyByI,EAwO8BrE,GAtOxCpE,OAASyI,EAAM,eAAiBC,SAAS1I,MACxDC,SAAUwI,EAAMxI,QAAU,GAC1BC,QAASuI,EAAMvI,OAAS,GACxBC,UAAW,CACT,CACEC,MACEqI,EAAMtI,SACNsI,EAAM3E,QACN6E,EAAiBD,WACjBE,EAAaF,WACbG,EAAaH,WACb,MAGFF,GAAUA,EAAOM,YACjBN,EAAOM,cACPvM,OAAOwM,OAAO,YAyNV7C,GStPA,aTwPF8C,UAAW,IAAM1C,IAAgB,GACjC2C,QAAS,IAAM3C,IAAgB,GAC/B4C,QAAS,IAAM5C,IAAgB,GAC/B6C,QAAU5K,IACR2H,GSvPH,QTuPwC3H,GACrCgH,EAAcO,OAAOvH,IAEvBgE,6BACAnC,MACA0D,WAECC,GAGJZ,IAAagC,GACZ7C,EAAC8G,EAAD,CACE/H,WACAI,UACAN,aAAcwC,GAAWmB,EACzBpD,aACAF,QACAD,SACAH,eAAgBkC,EAChBhC,eAAgByF,SAwF1B9D,EAAaoG,YAAc,eT9XpB,oBAAoCjO,IAK3CkO,EAAsB,UAAeC,EAGrCD,EAAsB,UAAc,EAGpCA,EAAsB,mBAAuB,EAY7CA,EAAsB,YAGtBA,EAAsB,MAAW,CAC/BpJ,QAAS,CAACsJ,KAAM,SAChBC,MAAO,CAACD,KAAM,OACdvJ,SAAU,CAACuJ,KAAM,UACjBrJ,UAAW,CAACqJ,KAAM,WAClBE,cAAe,CAACF,KAAM,eACtBrG,WAAY,CAACqG,KAAM,WAAYG,KAAM,WACrCrG,WAAY,CAACkG,KAAM,WAAYG,KAAM,WACrCC,eAAgB,CAACJ,KAAM,gBACvBK,cAAe,CAACL,KAAM,eACtBM,wBAAyB,CAACN,KAAM,yBAChC/F,OAAQ,CAAC+F,KAAM,OAAQG,KAAM,WAC7BhG,UAAW,CAAC6F,KAAM,UAAWG,KAAM,WACnC7F,SAAU,CAAC0F,KAAM,UACjBzF,UAAW,CACTgG,SAAU,SACVC,QAAQ,EACRC,OAAO,GAET7J,MAAO,CAACoJ,KAAM,OACdxJ,QAAS,CAACwJ,KAAM,SAGhBU,OAAQ,CAACV,KAAM,OAAQW,OAAO,GAC9B,uBAAwB,CACtBX,KAAM,uBACNG,KAAM,UACNQ,OAAO,IAKXb,EAAsB,UAAec,u8CAGrCd,EAAsB,eAAmB,+BoBlEzCe,qBAGEA,EAAmB,cAAeC,OADbpD","names":["PreactBaseElement","obj","_typeof","Symbol","iterator","constructor","prototype","arg","key","input","hint","prim","toPrimitive","undefined","res","call","TypeError","String","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","hasOwnProperty","hasOwn_","toString","toString_","error","messageProperty","message","stack","e","Error","prop","var_args","duplicateErrorIfNecessary","createError","expected","unusedTag","args","_self$__AMP_REPORT_ER","createExpectedError","__AMP_REPORT_ERROR","Fragment","useCallback2","forwardRef","ContainWrapper","useAmpContext2","useCallback","useAmpContext","self","__AMP_LOG","user","dev","userForEmbed","EMPTY_METADATA","title","artist","album","artwork","src","doc","schema","querySelector","schemaJson","json","opt_onFailed","JSON","parse","parseJson","tryParseJson","textContent","metaTag","getAttribute","linkTag","displayIcon","displayOverlay","metadata","onOverlayClick","pause","play","playing","wrapperRef","playable","useEffect","observer","IntersectionObserver","entries","isIntersecting","catch","threshold","observe","current","disconnect","createElement","class","AutoplayIconContent","tabindex","onClick","fn","evaluated","retValue","callback","map","once","VideoWrapper","ref","autoplay","component","Component","controls","loading","loadingProp","loop","mediasession","noaudio","onPlayingState","onReadyState","poster","sources","style","_propName","className","_ref","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","notify","useLayoutEffect","useResourcesNotify","useLoading","load","muted","setMuted","useState","setPlaying_","setMetadata","hasUserInteracted","setHasUserInteracted","useRef","playerRef","readyDeferred","useMemo","this","promise","Promise","rej","resolve","reject","readyStateRef","onReadyStateRef","useValueRef","setReadyState","state","opt_failure","onPlayingStateRef","setPlayingState","then","element","isAutoplay","err","devExpectedError","tryPlay","_playerRef$current","requestFullscreen","userInteracted","readyState","_playerRef$current2","win","playHandler","pauseHandler","navigator","MediaMetadata","mediaSession","setActionHandler","setMediaSession","window","useImperativeHandle","currentTime","duration","NaN","mute","unmute","contentRef","size","layout","paint","_objectSpread2","onCanPlay","onLoadedMetadata","player","props","document","parseSchemaImage","parseOgImage","parseFavicon","getMetadata","create","onPlaying","onPause","onEnded","onError","Autoplay","displayName","BentoVideoBaseElement","BentoVideo","attr","alt","attribution","type","controlslist","crossorigin","disableremoteplayback","selector","single","clone","dock","media","CSS","defineBentoElement","BaseElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/bento/components/bento-video/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/typeof.js","node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","node_modules/@babel/runtime/helpers/esm/toPrimitive.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/constants/loading-instructions.js","src/core/types/object/index.js","src/core/error/index.js","src/bento/components/bento-video/1.0/component.js","src/preact/utils.js","src/utils/log.js","src/mediasession-helper.js","src/core/types/object/json.js","src/video-interface.js","src/core/types/function/index.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","src/core/data-structures/promise.js","src/core/constants/ready-state.js","src/core/dom/video/index.js","src/bento/components/bento-video/1.0/build/bento-video.js"]}

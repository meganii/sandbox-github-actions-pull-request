{"version":3,"file":"bento-list-1.0.mjs","mappings":";2OAAAA,qBCAe,WAAyBC,EAAKC,EAAKC,GAYhD,OAXID,KAAOD,EACTG,OAAOC,eAAeJ,EAAKC,EAAK,CAC9BC,QACAG,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZP,EAAIC,GAAOC,EAGNF,ECVT,WAAiBQ,EAAQC,GACvB,IAAIC,EAAOP,OAAOO,KAAKF,GAEvB,GAAIL,OAAOQ,sBAAuB,CAChC,IAAIC,EAAUT,OAAOQ,sBAAsBH,GAEvCC,IACFG,EAAUA,EAAQC,QAAO,SAAUC,GACjC,OAAOX,OAAOY,yBAAyBP,EAAQM,GAAKT,eAIxDK,EAAKM,KAAKC,MAAMP,EAAME,GAGxB,OAAOF,EAGM,WAAwBQ,GACrC,QAASC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CACzC,IAAIG,EAAyB,MAAhBF,UAAUD,GAAaC,UAAUD,GAAK,GAE/CA,EAAI,EACNI,EAAQpB,OAAOmB,IAAS,GAAME,SAAQ,SAAUvB,GAC9CG,EAAec,EAAQjB,EAAKqB,EAAOrB,OAE5BE,OAAOsB,0BAChBtB,OAAOuB,iBAAiBR,EAAQf,OAAOsB,0BAA0BH,IAEjEC,EAAQpB,OAAOmB,IAASE,SAAQ,SAAUvB,GACxCE,OAAOC,eAAec,EAAQjB,EAAKE,OAAOY,yBAAyBO,EAAQrB,OAKjF,OAAOiB,0BCrCTS,wCACAC,iJASAC,8CACAC,qBCVA,IAAOC,eAAgBC,EAASC,SAAUC,GAAa/B,OAAOgC,UCmBvD,WAAgBC,GACrB,OACGA,EAAKC,eAA0CD,GAAOE,YCVpD,WAAgCC,EAAYC,EAAKC,EAAO,IAC7D,MAAMC,gBAACA,aAAiBC,YAAYC,GAAaH,EAC3CI,ECmYD,SAAmBL,GACxB,OAAOA,EAAIM,QAAUN,EAAIM,QAAUN,EDjYjCO,CAAUP,KAASE,GAAmBC,GAGhBH,EAAIQ,cACtBC,EACN,OAAO,IAAIT,EAAIU,qBAAqBX,EAAY,CAC9CK,YACAC,OACAF,eAKJ,IAAMQ,EAAoB,IAAIC,QAGxBC,EAAoB,IAAID,QA8E9B,WAAoBE,GAClB,MAAMC,EAAO,IAAIC,IACjB,QAASrC,EAAImC,EAAQjC,OAAS,EAAGF,GAAK,EAAGA,IAAK,CAC5C,MAAMsC,EAAQH,EAAQnC,IAChBD,OAACA,GAAUuC,EACjB,GAAIF,EAAKG,IAAIxC,GACX,SAEFqC,EAAKI,IAAIzC,GACT,MAAM0C,EAAYP,EAAkBQ,IAAI3C,GACxC,GAAK0C,EAGL,QAASE,EAAI,EAAGA,EAAIF,EAAUvC,OAAQyC,KAEpCC,EADiBH,EAAUE,IAClBL,0BE5HfO,sFLWAC,2CMbAC,uDACAC,2CCCAC,8DDGA,IAAMC,EAAe,CACnBC,SAAS,EACTC,MAAO,KACPC,MAAO,GACPC,SAAS,GETEC,EAAW,CAQtBC,UAAUC,EAAKC,GACb,OAAOC,KAAKC,MAAMH,EAAKC,GAAMG,MAAMC,GAAQA,EAAIC,UAU3CH,MAAMH,EAAKC,GAAM,gCACrB,MAAMM,QAAiBC,KAAKL,MAAMH,EAAKC,GACvC,IAAKM,EAASE,GACZ,MAAM,IAAIC,MAAMH,EAASI,YAE3B,OAAOJ,0QRLLK,EAAuBC,GAAS9D,aAAM+D,OAAOD,IAC7CE,EAA0BC,GAASjE,aAAMiE,GACzCC,EAAuB,CAACC,EAAQC,IACpCpE,aACG,uBACDA,YAAQ,sBACNA,eACEA,UAAMqE,MAAOF,EAAOG,eADtB,YAMAC,EAA0B,IAC9BvE,aACEA,YAAQ,uBACNA,6BAIAwE,EAA0BL,GAC9BnE,aACEA,UAAM,aAAW,UAAUqE,MAAOF,EAAOM,mBAgB7C,WAAkB5F,EAAQE,GACxB,OAAOA,EAAK2F,MAAM,KAAKC,QAAO,CAACC,EAAOtG,IAC/BsG,GAAiB,KAARtG,EAGPsG,EAAMtG,GAFJsG,GAGR/F,GAiKL,IAAMgG,EAAY3E,GA3HX,WAgBL4E,GACA,IAhBAC,IACEA,EAAM,eACN/B,EAAYD,EAASC,mBACrBgC,EAAW,iBACXC,EAAW,EACXC,SAAUC,EAAe,wBACzBC,EAAmB,+BACnBC,EAAiB,EACjBC,SAAUC,EAAe1B,kBACzB2B,EAAkBxB,mBAClByB,EAAmBlB,kBACnBmB,EAAkBlB,gBAClBmB,EAAgBzB,GAIlB0B,EAHKC,ESlHQ,SAAuClG,EAAQmG,GAC5D,GAAc,MAAVnG,EAAgB,MAAO,GAC3B,IAEIrB,EAAKkB,EAFLD,EAAS,GACTwG,EAAavH,OAAOO,KAAKY,GAG7B,IAAKH,EAAI,EAAGA,EAAIuG,EAAWrG,OAAQF,IACjClB,EAAMyH,EAAWvG,GACbsG,EAASE,QAAQ1H,IAAQ,IAC7BiB,EAAOjB,GAAOqB,EAAOrB,IAGvB,OAAOiB,ETyGP0G,MACA,MAAMC,WAACA,GAAc5D,IAEf6D,EAAYC,GAAQ,KAEQ,CAC9BpF,WAAa,SAFGqF,KAAKC,MAAuB,IAAjBjB,SAG3BpE,UAAW,KAEZ,CAACoE,IAEEkB,EAAYC,EAAO,MACnBC,EKxFD,SAAyB3B,EAAKqB,GACnC,MAAOO,EAAcC,GAAmBC,GAAS,GAkBjD,OAhBAC,GAAU,KACR,MAAMpG,EAAOqE,EAAIgC,QACjB,GAAKrG,EAWL,OFbG,SAA8BsG,EAAS3E,EAAUtB,GACtD,MAAMD,EAAMmG,EAAOD,GAEnB,GAAIjG,EAAM,CAER,MAAMmG,EAA0BC,GAC7BvF,IACCS,EAAST,EAAQA,EAAQjC,OAAS,MAEpCmB,EACAC,GAGF,OADAmG,EAAwBE,QAAQJ,GACzB,KACLE,EAAwBG,UAAUL,IAItC,IAAIM,EAAmB7F,EAAkBU,IAAIrB,GACxCwG,GACH7F,EAAkB8F,IAChBzG,EACCwG,EAAmBH,EAAuBtG,EAAYC,IAG3D,IAAIoB,EAAYP,EAAkBQ,IAAI6E,GAOtC,OANK9E,IACHA,EAAY,GACZP,EAAkB4F,IAAIP,EAAS9E,IAEjCA,EAAU5C,KAAK+C,GACfiF,EAAiBF,QAAQJ,GAClB,MAWT,SAAgCA,EAAS3E,GACvC,MAAMH,EAAYP,EAAkBQ,IAAI6E,GACxC,IAAK9E,EACH,OAEF,IOmDK,SAAoBsF,EAAOzD,GAChC,MAAM0D,EAAQD,EAAMvB,QAAQlC,GAC5B,OAAa,GAAT0D,IAGJD,EAAME,OAAOD,EAAO,IACb,GPzDFE,CAAWzF,EAAWG,GACzB,OAEF,GAAIH,EAAUvC,OACZ,OAGF,MAAMmB,EAAMmG,EAAOD,GACbM,EAAmB7F,EAAkBU,IAAIrB,GAC/CwG,WAAkBD,UAAUL,GAC5BrF,EAAkBiG,OAAOZ,GAzBvBa,CAAuBb,EAAS3E,IE3BdyF,CAChBpH,GACCqB,IACC6E,EAAgB7E,EAAMgG,kBAExB3B,KAGD,CAACrB,EAAKqB,IAEFO,ELqEyBqB,CAAgBxB,EAAWJ,IAErDvD,MAACA,WAAOE,YAASoC,WAAUvC,SAASE,SAAOmF,IM/E5C,UAA6CC,UAClDA,mBACAC,IAEA,MAAOC,EAAOC,GC/CT,SACL1F,GAEA,MAAM2F,EAAY7B,GAAO,GACzBK,GAAU,KACRwB,EAAUvB,SAAU,EAEb,KACLuB,EAAUvB,SAAU,KAErB,IAEH,MAAOqB,EAAOC,GAAYxB,EAASlE,GAWnC,MAAO,CAACyF,EAVa9F,GAClBiG,IACMD,EAAUvB,SAGfsB,EAASE,KAEX,CAACF,KD4BDG,CAAwC7F,GAGpCoC,EAAMtC,EAAY,CAACyF,YAAWC,mBAAkBC,UAGhDK,EAAgBhC,EAAO,GAGvBtB,EAAW7C,GACf,CAAOoG,GAAY,IAAUC,yBAC3B,MAAOT,YAAWC,mBAAkBC,SAASrD,EAAIgC,QAEjD,IAAK2B,GAAaN,EAAMxF,QACtB,OAGF,MAAMgG,IAAeH,EAAc1B,QAEnCsB,GAAUQ,GAAMC,OAAKD,GAAL,IAAQjG,SAAS,MAEjC,MAAME,EAAiB4F,EAAY,GAAKN,EAAMtF,MACxCiG,EAAWjG,EAAMnD,OAASmD,EAAMA,EAAMnD,OAAS,QAAK4B,EAE1D,IACE,MAAMyH,QAAgBd,EAAU,CAC9Be,UAAWF,EAAWZ,EAAiBY,QAAYxH,IAGrD,GAAIqH,IAAeH,EAAc1B,QAE/B,OAGF,MAAMmC,EAAgBf,EAAiBa,GAEvCX,EAAS,CACPzF,SAAS,EACTC,MAAO,KACPC,MAAO,IAAIA,EAAOkG,GAClBjG,QAASmG,UAAiD,MAErDrG,GACP,GAAI+F,IAAeH,EAAc1B,QAE/B,OAGFsB,GAAUQ,GAAMC,OAAKD,GAAL,IAAQjG,SAAS,EAAOC,iBAG5C,CAACkC,EAAKsD,IAGFJ,EAAQ3F,GAAY,IAAM6C,GAAS,IAAO,CAACA,IAEjD,cACKiD,GADL,IAEEjD,WACA8C,UNewDkB,CAAiB,CACzEjB,UAAkBkB,GAA+BT,QAA/BS,IAA+B,WAA9BH,UAAWI,EAAUrE,IACtC,OAAKmB,QAGclD,EAAUoG,GAFpB,QAKXlB,iBAAiBY,GApErB,SAAoBA,EAAU1D,GAC5B,OAAOiE,EAASP,EAAU1D,GAoEfkE,CAAWR,EAAU1D,KAKhCyB,GAAU,KACRmB,OACC,CAACjD,EAAKmB,EAAYd,EAAkB4C,KAEvC,MAAMuB,GACJrD,GACiB,SAAjBf,GACAsB,IACC9D,IACDG,GAEF+D,GAAU,KACJ0C,IACFrE,OAED,CAACqE,GAAgBrE,KAGpB,MAAMjB,GAAOmC,GAAQ,KACnB,IAAIxB,EAAQ/B,GAAM2G,SAASC,GAnF/B,SAA0BC,EAAU1E,GAClC,IAAK0E,EACH,MAAO,GAET,IAAI9E,EAAQyE,EAASK,EAAU1E,GAC/B,OAAKJ,GAGA+E,MAAMC,QAAQhF,KACjBA,EAAQ,CAACA,IAEJA,GALE,GA6E6BiF,CAAiBJ,EAAMzE,KAM3D,OAJIC,EAAW,GAAKL,EAAMlF,OAASuF,IACjCL,EAAQA,EAAMkF,MAAM,EAAG7E,IAGlBL,EAAMmF,KAAI,CAACjG,EAAMtE,KACtB,IAAIwK,EAAezE,EAAazB,GAWhC,OAPEkG,GACwB,iBAAjBA,GACwB,iBAAxBA,EAAaC,SAEpBD,EAAehK,UAAMkK,wBAAyBF,KAGzCG,EAAQH,EAAc,CAAC1L,MAAOkB,EAAG4K,OAAQ,kBAEjD,CAACvH,GAAOmC,EAAUC,EAAUM,IAWzB8E,GAAc1H,GACd2H,GAA8B,IAAhBrG,GAAKvE,OACnB6K,GAAgC,WAAjBpF,GAA6BrC,KAAYH,GAE9D6H,EACE1F,GACA,KAC6C,CACzC2F,QAASzC,MAEb,CAACA,KAGH,MAAM7D,GWzKcuG,EX2KpB,OACE1K,EAACG,EAAD0I,KAAgB,YAAU,UAAahD,GAAvC,IAA6C8E,QAzBjBC,IACLA,EAAGrL,OAAOsL,QAC/B,0CAGA3F,QAqBAlF,EAACC,EAAD,CAAU,UAAQ,YACfqK,IAAeH,EAAQ3E,EAAgBvB,IAAO,CAACmG,OAAQ,SACvDC,IAAe3E,EAAgBvB,IAC/BoG,IAAgB9E,EAAiBtB,IACjCvB,IAAS+C,EAAcxB,GAAQvB,IACd,SAAjBuC,GAA2BnF,UAAM8E,IAAKyB,SAiB/C,WAAiBuE,EAAWC,GAC1B,OAAKC,EAAeF,GAGbG,EAAaH,EAADjC,OAAgBkC,GAAUD,EAAUC,QAF9CD,EAZXjG,EAAUqG,YAAc,OH5NjB,oBAA0B9M,IAGjC+M,EAAY,UAAetG,EAG3BsG,EAAY,MAAW,CACrBpG,MAAO,CAACqG,KAAM,OACdpG,WAAY,CAACoG,KAAM,SACnBnG,WAAY,CAACmG,KAAM,YAAaC,KAAM,UACtCnG,WAAY,CAACkG,KAAM,aACnBhG,mBAAoB,CAACgG,KAAM,sBAC3B/F,iBAAkB,CAAC+F,KAAM,kBAAmBC,KAAM,WAIpDF,EAAY,mBAAuB,EAGnCA,EAAY,eAAmB,EAG/BA,EAAY,cAAkB,+BezB9BG,qBAGEA,EAAmB,aAAcH,OADZtK","names":["PreactBaseElement","obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","target","i","arguments","length","source","ownKeys","forEach","getOwnPropertyDescriptors","defineProperties","createElement","Fragment","forwardRef","ContainWrapper","hasOwnProperty","hasOwn_","toString","toString_","prototype","node","ownerDocument","defaultView","ioCallback","win","opts","needsRootBounds","rootMargin","threshold","root","parent","isIframed","document","undefined","IntersectionObserver","viewportObservers","WeakMap","viewportCallbacks","entries","seen","Set","entry","has","add","callbacks","get","k","callback","useCallback","useAmpContext","useCallback3","useValueRef","useCallback2","initialState","loading","error","pages","hasMore","xhrUtils","fetchJson","url","init","this","fetch","then","res","json","response","self","ok","Error","statusText","defaultItemTemplate","item","String","defaultWrapperTemplate","list","defaultErrorTemplate","styles","unusedError","class","loadMoreIcon","defaultLoadMoreTemplate","defaultLoadingTemplate","loadMoreSpinner","split","reduce","items","BentoList","ref","src","itemsKey","maxItems","loadMore","loadMoreMode","loadMoreBookmark","viewportBuffer","template","itemTemplate","wrapperTemplate","loadMoreTemplate","loadingTemplate","errorTemplate","_ref","rest","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","renderable","ioOptions","useMemo","Math","floor","bottomRef","useRef","isBottomNearingViewport","isInViewport","setIsInViewport","useState","useEffect","current","element","getWin","viewportObserverNoCache","createViewportObserver","observe","unobserve","viewportObserver","set","array","index","splice","removeItem","delete","unobserveIntersections","observeIntersections","isIntersecting","useIsInViewport","reset","fetchPage","getNextPageParam","state","setState","isMounted","newState","useStateSafe","fetchIndexRef","resetting","__async","fetchIndex","s","_objectSpread2","lastPage","newPage","pageParam","nextPageParam","useInfiniteQuery","_0","nextUrl","getValue","getNextUrl","shouldLoadMore","flatMap","page","pageData","Array","isArray","getItemsFromPage","slice","map","renderedItem","__html","dangerouslySetInnerHTML","augment","role","showLoading","showResults","showLoadMore","useImperativeHandle","refresh","_classes","onClick","ev","closest","component","props","isValidElement","cloneElement","displayName","BaseElement","attr","type","defineBentoElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["extensions/amp-list/1.0/base-element.js","node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","extensions/amp-list/1.0/component.js","src/core/types/object/index.js","src/core/window/index.js","src/core/dom/layout/viewport-observer.js","src/core/dom/index.js","src/preact/component/intersection-observer.js","src/preact/hooks/useInfiniteQuery.ts","src/preact/hooks/useStateSafe.ts","src/preact/utils/xhr.js","node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","src/core/types/array.js","extensions/amp-list/1.0/component.jss.js","extensions/amp-list/1.0/build/bento-list.js"]}

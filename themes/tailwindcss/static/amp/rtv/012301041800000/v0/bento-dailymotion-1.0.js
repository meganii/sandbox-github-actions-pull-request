;
!function(n){var t=self.BENTO=self.BENTO||{};(t.bento=t.bento||[]).push((function(n){"use strict";function t(n,e){return(t=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n})(n,e)}function e(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&t(n,e)}function r(n){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function o(n){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function i(n,t){if(t&&("object"===o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function a(n){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}();return function(){var e,o=r(n);if(t){var a=r(this).constructor;e=Reflect.construct(o,arguments,a)}else e=o.apply(this,arguments);return i(this,e)}}var u;function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=new Array(t);e<t;e++)r[e]=n[e];return r}function c(n,t){if(n){if("string"==typeof n)return l(n,t);var e=Object.prototype.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,t):void 0}}function f(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,o,i=[],a=!0,u=!1;try{for(e=e.call(n);!(a=(r=e.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(n){u=!0,o=n}finally{try{a||null==e.return||e.return()}finally{if(u)throw o}}return i}}(n,t)||c(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(n,t){if(null==n)return{};var e,r,o={},i=Object.keys(n);for(r=0;r<i.length;r++)e=i[r],t.indexOf(e)>=0||(o[e]=n[e]);return o}function d(n){var t=function(n,t){if("object"!==o(n)||null===n)return n;var e=n[Symbol.toPrimitive];if(void 0!==e){var r=e.call(n,t);if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n,"string");return"symbol"===o(t)?t:String(t)}function v(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function p(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function m(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?p(Object(e),!0).forEach((function(t){v(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):p(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var y="unload",b=(v(u={},"auto",0),v(u,"lazy",1),v(u,"eager",2),v(u,y,3),"loading"),h="complete";function g(n,t){var e="undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(e)return(e=e.call(n)).next.bind(e);if(Array.isArray(n)||(e=c(n))||t&&n&&"number"==typeof n.length){e&&(n=e);var r=0;return function(){return r>=n.length?{done:!0}:{done:!1,value:n[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w=function(){var n=this;this.promise=new Promise((function(t,e){n.resolve=t,n.reject=e}))};function j(n){return new Promise((function(t){t(n())}))}var O=Array.isArray;var k,S=Object.prototype;function q(n){var t=Object.create(null);return n&&Object.assign(t,n),t}function x(n){var t=Object.getOwnPropertyDescriptor(n,"message");if(null!=t&&t.writable)return n;var e=n.message,r=n.stack,o=new Error(e);for(var i in n)o[i]=n[i];return o.stack=r,o}function I(n){for(var t,e=null,r="",o=g(arguments,!0);!(t=o()).done;){var i=t.value;i instanceof Error&&!e?e=x(i):(r&&(r+=" "),r+=i)}return e?r&&(e.message=r+": "+e.message):e=new Error(r),e}function E(n){var t,e;null===(t=(e=self).__AMP_REPORT_ERROR)||void 0===t||t.call(e,n)}function P(n){var t=I.apply(null,arguments);return t.expected=!0,t}S.hasOwnProperty,S.toString;var R=["Webkit","webkit","Moz","moz","ms","O","o"];function C(n,t,e,r,o){var i=function(n,t,e){if(t.startsWith("--"))return t;k||(k=q());var r=k[t];if(!r||e){if(r=t,void 0===n[t]){var o=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(t),i=function(n,t){for(var e=0;e<R.length;e++){var r=R[e]+t;if(void 0!==n[r])return r}return""}(n,o);void 0!==n[i]&&(r=i)}e||(k[t]=r)}return r}(n.style,t,o);if(i){var a,u=r?e+r:e;n.style.setProperty((a=i.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),R.some((function(n){return a.startsWith(n+"-")}))?"-".concat(a):a),u)}}function A(n){return null==n.__AMP_AUTOPLAY&&(n.__AMP_AUTOPLAY=function(n){var t,e=n.document.createElement("video");return e.setAttribute("muted",""),e.setAttribute("playsinline",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("height","0"),e.setAttribute("width","0"),e.muted=!0,e.playsInline=!0,e.playsinline=!0,e.webkitPlaysinline=!0,function(n,t){for(var e in t)C(n,e,t[e])}(e,{position:"fixed",top:"0",width:"0",height:"0",opacity:"0"}),t=e,j((function(){return t.play()})).catch((function(){})),Promise.resolve(!e.paused)}(n)),n.__AMP_AUTOPLAY}var M={bubbles:!0,cancelable:!0};function T(n,t,e,r){var o=e||{};n.ownerDocument;var i=n.ownerDocument.createEvent("Event");i.data=o;var a=r||M,u=a.bubbles,l=a.cancelable;i.initEvent(t,u,l),n.dispatchEvent(i)}var N=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function U(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{return decodeURIComponent(n)}catch(n){return t}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG;var z={"title":"","artist":"","album":"","artwork":[{"src":""}]};function L(n){var t=n.querySelector('script[type="application/ld+json"]');if(t){var e=function(n,t){try{return function(n){return JSON.parse(n)}(n)}catch(n){return null==t||t(n),null}}(t.textContent);if(e&&e.image)return"string"==typeof e.image?e.image:e.image["@list"]&&"string"==typeof e.image["@list"][0]?e.image["@list"][0]:"string"==typeof e.image.url?e.image.url:"string"==typeof e.image[0]?e.image[0]:void 0}}function F(n){var t=n.querySelector('link[rel="shortcut icon"]')||n.querySelector('link[rel="icon"]');return t?t.getAttribute("href"):void 0}function Y(t){var e=t.displayIcon,r=t.displayOverlay,o=t.metadata,i=t.onOverlayClick,a=t.pause,u=t.play,l=t.playing,c=t.wrapperRef,f=(0,n.useAmpContext)().playable;return(0,n.useEffect)((function(){if(f){var n=new IntersectionObserver((function(n){n[n.length-1].isIntersecting?u().catch((function(){})):a()}),{threshold:.5});return n.observe(c.current),function(){n.disconnect()}}a()}),[c,u,a,f]),(0,n.createElement)(n.Fragment,null,e&&(0,n.createElement)("div",{class:"eq-9e7199f"+(l?" eq-playing-9e7199f":"")},(0,n.createElement)(H,null)),r&&(0,n.createElement)("button",{"aria-label":o&&o.title||"Unmute video",tabindex:"0",class:"autoplay-mask-button-9e7199f fill-content-overlay-fc551a7",onClick:i}))}var B,V,D,H=(B=!1,V=null,D=function(){return[1,2,3,4].map((function(t){return(0,n.createElement)("div",{class:"eq-col-9e7199f",key:t})}))},function(){if(!B){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];V=D.apply(self,t),B=!0,D=null}return V}),J=(0,n.forwardRef)((function(t,e){var r,o="class",i=t.autoplay,a=void 0!==i&&i,u=t.component,l=void 0===u?"video":u,c=t.controls,v=void 0!==c&&c,p=t.loading,g=t.loop,O=void 0!==g&&g,k=t.mediasession,S=void 0===k||k,q=t.noaudio,x=void 0!==q&&q,I=t.onPlayingState,R=t.onReadyState,C=t.poster,A=t.sources,M=t.src,T=t.style,N=t[o],U=s(t,["autoplay","component","controls","loading","loop","mediasession","noaudio","onPlayingState","onReadyState","poster","sources","src","style",o].map(d));r=(0,n.useAmpContext)().notify,(0,n.useLayoutEffect)((function(){r&&r()}));var B=(0,n.useAmpContext)().playable,V=(0,n.useLoading)(p),D=V!==y,H=f((0,n.useState)(a),2),J=H[0],W=H[1],Z=f((0,n.useState)(!1),2),$=Z[0],G=Z[1],K=f((0,n.useState)(null),2),Q=K[0],X=K[1],_=f((0,n.useState)(!a),2),nn=_[0],tn=_[1],en=(0,n.useRef)(null),rn=(0,n.useRef)(null),on=(0,n.useMemo)((function(){return new w}),[]),an=(0,n.useRef)(b),un=(0,n.useValueRef)(R),ln=(0,n.useCallback)((function(n,t){if(n!==an.current){an.current=n;var e=un.current;e&&e(n,t)}}),[un]),cn=(0,n.useValueRef)(I),fn=(0,n.useCallback)((function(n){G(n);var t=cn.current;t&&t(n)}),[cn]);(0,n.useLayoutEffect)((function(){D||fn(!1)}),[D,fn]);var sn=(0,n.useCallback)((function(){return on.promise.then((function(){return n=rn.current,(e=j((function(){return n.play(!!t)}))).catch((function(n){!function(n){for(var t=arguments.length,e=new Array(t>1?t-1:0),r=1;r<t;r++)e[r-1]=arguments[r];E(P.apply(null,e))}("TRYPLAY",n)})),e;var n,t,e}))}),[on]),dn=(0,n.useCallback)((function(){on.promise.then((function(){var n;return null===(n=rn.current)||void 0===n?void 0:n.pause()}))}),[on]),vn=(0,n.useCallback)((function(){return on.promise.then((function(){return rn.current.requestFullscreen()}))}),[on]),pn=(0,n.useCallback)((function(){W(!1),tn(!0)}),[]);return(0,n.useLayoutEffect)((function(){var n,t=null===(n=rn.current)||void 0===n?void 0:n.readyState;null!=t&&ln(t>0?h:b)}),[ln]),(0,n.useLayoutEffect)((function(){return S&&$&&Q&&function(n,t,e,r){var o=n.navigator;"mediaSession"in o&&n.MediaMetadata&&(o.mediaSession.metadata=new n.MediaMetadata(z),o.mediaSession.metadata=new n.MediaMetadata(t),o.mediaSession.setActionHandler("play",e),o.mediaSession.setActionHandler("pause",r))}(window,Q,sn,dn),function(){}}),[S,$,Q,sn,dn]),(0,n.useEffect)((function(){B||dn()}),[B,dn]),(0,n.useImperativeHandle)(e,(function(){return{get readyState(){return an.current},play:sn,pause:dn,requestFullscreen:vn,get currentTime(){return rn.current?rn.current.currentTime:0},get duration(){return rn.current?rn.current.duration:NaN},get autoplay(){return a},get controls(){return v},get loop(){return O},userInteracted:pn,mute:function(){return W(!0)},unmute:function(){nn&&W(!1)}}}),[sn,dn,vn,pn,nn,a,v,O]),(0,n.createElement)(n.ContainWrapper,{contentRef:en,class:N,style:T,size:!0,layout:!0,paint:!0},D&&(0,n.createElement)(l,m(m({},U),{},{ref:rn,loading:V,muted:J,loop:O,controls:v&&(!a||nn),onCanPlay:function(){on.resolve(),ln(h)},onLoadedMetadata:function(){S&&on.promise.then((function(){var n,t,e,r;X((n=rn.current,m({"title":(t=U).title||t["aria-label"]||document.title,"artist":t.artist||"","album":t.album||"","artwork":[{"src":t.artwork||t.poster||L(document)||(e=document,r=e.querySelector('meta[property="og:image"]'),r?r.getAttribute("content"):void 0)||F(document)||""}]},n&&n.getMetadata?n.getMetadata():Object.create(null))))})),ln(h)},onPlaying:function(){return fn(!0)},onPause:function(){return fn(!1)},onEnded:function(){return fn(!1)},onError:function(n){ln("error",n),on.reject(n)},class:"fill-stretch-fc551a7",src:M,poster:C}),A),a&&!nn&&(0,n.createElement)(Y,{metadata:Q,playing:$,displayIcon:!x&&J,wrapperRef:en,play:sn,pause:dn,displayOverlay:v,onOverlayClick:pn}))}));J.displayName="VideoWrapper";var W=function(n){e(r,n);var t=a(r);function r(){return t.apply(this,arguments)}return r}(n.PreactBaseElement);function Z(n,t){return function(n,t,e){if(!t)return n;var r=n.split("#",2),o=r[0].split("?",2);return o[0]+(o[1]?"?".concat(o[1],"&").concat(t):"?".concat(t))+(r[1]?"#".concat(r[1]):"")}(n,function(n){var t,e,r,o=[];for(var i in n){var a=n[i];if(null!=a){a=O(r=a)?r:[r];for(var u=0;u<a.length;u++)o.push((t=i,e=a[u],"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e))))}}return o.join("&")}(t))}function $(n,t){return JSON.stringify({"command":n,"parameters":t})}W.Component=J,W.loadable=!0,W.layoutSizeDefined=!0,W.staticProps,W.props={"album":{attr:"album"},"alt":{attr:"alt"},"artist":{attr:"artist"},"artwork":{attr:"artwork"},"attribution":{attr:"attribution"},"autoplay":{attr:"autoplay",type:"boolean"},"controls":{attr:"controls",type:"boolean"},"controlslist":{attr:"controlslist"},"crossorigin":{attr:"crossorigin"},"disableremoteplayback":{attr:"disableremoteplayback"},"loop":{attr:"loop",type:"boolean"},"noaudio":{attr:"noaudio",type:"boolean"},"poster":{attr:"poster"},"sources":{selector:"source",single:!1,clone:!0},"src":{attr:"src"},"title":{attr:"title"},"dock":{attr:"dock",media:!0},"rotate-to-fullscreen":{attr:"rotate-to-fullscreen",type:"boolean",media:!0}},W.shadowCss='.fill-stretch-fc551a7{width:100%;height:100%;position:relative}.fill-content-overlay-fc551a7{top:0;left:0;right:0;bottom:0;position:absolute}.autoplay-mask-button-9e7199f{width:100%;border:none;display:block;-webkit-appearance:none;appearance:none;background:transparent}.eq-9e7199f{right:7px;width:20px;bottom:7px;height:12px;display:-ms-flexbox;display:flex;opacity:0.8;z-index:1;overflow:hidden;position:absolute;-ms-flex-align:end;align-items:flex-end;pointer-events:none!important}.eq-playing-9e7199f>div:after,.eq-playing-9e7199f>div:before{animation-play-state:running}.eq-col-9e7199f{-ms-flex:1;flex:1;height:100%;position:relative;margin-right:1px}.eq-col-9e7199f:after,.eq-col-9e7199f:before{width:100%;height:100%;content:"";position:absolute;animation:keyframes-eq-animation-9e7199f 0s linear infinite alternate;will-change:transform;background-color:#fafafa;animation-play-state:paused}.eq-col-9e7199f:nth-child(4):before{animation-duration:0.4s}.eq-col-9e7199f:nth-child(4):after{animation-duration:0.25s}.eq-col-9e7199f:nth-child(3):before{animation-duration:0.3s}.eq-col-9e7199f:nth-child(3):after{animation-duration:0.35s}.eq-col-9e7199f:nth-child(2):before{animation-duration:0.5s}.eq-col-9e7199f:nth-child(2):after{animation-duration:0.4s}.eq-col-9e7199f:first-child:before{animation-duration:0.3s}.eq-col-9e7199f:first-child:after{animation-duration:0.45s}@keyframes keyframes-eq-animation-9e7199f{0%{transform:translateY(100%)}to{transform:translateY(0)}}',W.usesShadowDom=!0,new Set(["c","v","a","ad"]);var G=["loading","unloadOnPause","sandbox","muted","controls","origin","onCanPlay","onMessage","playerStateRef","makeMethodMessage","makeFullscreenMessage","onIframeLoad"],K=["allow-scripts","allow-same-origin","allow-popups","allow-popups-to-escape-sandbox","allow-top-navigation-by-user-activation"].join(" ");function Q(n,t,e){n&&n.contentWindow&&t.then((function(){n.contentWindow.postMessage(e(),"*")}))}var X=(0,n.forwardRef)((function(t,e){var r=t.loading,o=t.unloadOnPause,i=void 0!==o&&o,a=t.sandbox,u=void 0===a?K:a,l=t.muted,c=void 0!==l&&l,f=t.controls,d=void 0!==f&&f,v=t.origin,p=t.onCanPlay,y=t.onMessage,b=t.playerStateRef,h=t.makeMethodMessage,g=t.makeFullscreenMessage,j=t.onIframeLoad,O=s(t,G),k=(0,n.useRef)(null),S=(0,n.useMemo)((function(){return new w}),[]),q=(0,n.useRef)(h),x=(0,n.useCallback)((function(n){Q(null==k?void 0:k.current,S.promise,(function(){return q.current(n)}))}),[S.promise]),I=(0,n.useRef)(g),E=(0,n.useCallback)((function(){return Q(null==k?void 0:k.current,S.promise,I.current)}),[S.promise]);(0,n.useImperativeHandle)(e,(function(){return{get currentTime(){var n,t;return null!==(n=null==b||null===(t=b.current)||void 0===t?void 0:t.currentTime)&&void 0!==n?n:NaN},get duration(){var n,t;return null!==(n=null==b||null===(t=b.current)||void 0===t?void 0:t.duration)&&void 0!==n?n:NaN},requestFullscreen:function(){if(!I.current)return S.promise.then((function(){k.current.requestFullscreen()}));E()},play:function(){return x("play")},pause:function(){if(i){var n=k.current;n&&(n.src=n.src)}else x("pause")}}}),[b,x,E,S.promise,i]);var P=function(t){var e=(0,n.useRef)(null);return e.current=t,e}(y);return(0,n.useLayoutEffect)((function(){if(k.current){var n=k.current.ownerDocument.defaultView;return n.addEventListener("message",t),function(){return n.removeEventListener("message",t)}}function t(n){P.current&&(v&&!v.test(n.origin)||n.source!=k.current.contentWindow||P.current({currentTarget:k.current,target:k.current,data:n.data}))}}),[v,P]),(0,n.useLayoutEffect)((function(){x(c?"mute":"unmute")}),[c,x]),(0,n.useLayoutEffect)((function(){x(d?"showControls":"hideControls")}),[d,x]),(0,n.createElement)("iframe",m(m({},O),{},{ref:k,allowfullscreen:!0,frameborder:"0",sandbox:u,loading:r,onCanPlay:function(){p&&S.promise.then(p),S.resolve()},onLoad:function(n){null==j||j(n)}}))}));X.displayName="VideoIframeInternal";var _=(0,n.forwardRef)((function(t,e){return(0,n.createElement)(J,m(m({ref:e},t),{},{component:X}))}));_.displayName="VideoIframe";var nn=["autoplay","endscreenEnable","info","mute","sharingEnable","start","uiHighlight","uiLogo","videoId"];function tn(n){switch(n){case"mute":return $("muted",[!0]);case"unmute":return $("muted",[!1]);case"showControls":return $("controls",[!0]);case"hideControls":return $("controls",[!1]);default:return $(n)}}function en(n){var t=n.currentTarget,e=function(n){var t,e=q();if(!n)return e;for(;t=N.exec(n);){var r=U(t[1],t[1]),o=t[2]?U(t[2].replace(/\+/g," "),t[2]):"";e[r]=o}return e}(n.data),r=null==e?void 0:e.event;"pause"===r?T(t,"pause"):"play"===r?T(t,"playing"):"end"===r?(T(t,"pause"),T(t,"end")):"apiready"===r&&T(t,"canplay")}var rn=(0,n.forwardRef)((function(t,e){var r=t.autoplay,o=t.endscreenEnable,i=t.info,a=t.mute,u=t.sharingEnable,l=t.start,c=t.uiHighlight,f=t.uiLogo,d=t.videoId,v=s(t,nn),p=(0,n.useMemo)((function(){return function(n,t){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=arguments.length>5&&void 0!==arguments[5]&&arguments[5],a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],u=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=!(arguments.length>9&&void 0!==arguments[9])||arguments[9],f=arguments.length>10?arguments[10]:void 0;return Z("https://www.dailymotion.com/embed/video/".concat(encodeURIComponent(t),"?api=1&html=1&app=amp"),m({"endscreen-enable":r?void 0:r,"info":o?void 0:o,"mute":i||e&&A(n)?1:void 0,"sharing-enable":a?void 0:a,"start":u,"ui-highlight":l,"ui-logo":c?void 0:c},f))}(window,d,r,o,i,a,u,l,c,f)}),[d,r,o,i,a,u,l,c,f]);return(0,n.createElement)(_,m(m({autoplay:r,controls:!0,ref:e},v),{},{src:p,makeMethodMessage:tn,onMessage:en}))}));rn.displayName="BentoDailymotion";var on=function(n){e(r,n);var t=a(r);function r(){return t.apply(this,arguments)}return r}(W);on.Component=rn,on.props={"autoplay":{attr:"autoplay",type:"boolean"},"videoId":{attr:"data-videoid"},"start":{attr:"data-start"},"uiHighlight":{attr:"data-ui-highlight"},"implicitParams":{attrPrefix:"data-param-"}},on.layoutSizeDefined=!0,on.usesShadowDom=!0,(0,n.defineBentoElement)("bento-dailymotion",on,undefined)}))}();
//# sourceMappingURL=bento-dailymotion-1.0.js.map
;
!function(n){var r=self.BENTO=self.BENTO||{};(r.bento=r.bento||[]).push((function(n){"use strict";function r(n,e){return(r=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(n,e)}function e(n){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)})(n)}function t(n){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}function o(n,r){if(r&&("object"===t(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(n)}function i(n,r,e){return r in n?Object.defineProperty(n,r,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[r]=e,n}function u(n,r){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);r&&(t=t.filter((function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable}))),e.push.apply(e,t)}return e}function c(n){for(var r=1;r<arguments.length;r++){var e=null!=arguments[r]?arguments[r]:{};r%2?u(Object(e),!0).forEach((function(r){i(n,r,e[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):u(Object(e)).forEach((function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(e,r))}))}return n}Array.isArray;var f=Object.prototype;f.hasOwnProperty,f.toString;var a,l=["Webkit","webkit","Moz","moz","ms","O","o"];function v(n,r,e,t,o){var i=function(n,r,e){if(r.startsWith("--"))return r;var t;a||(t=Object.create(null),a=t);var o=a[r];if(!o||e){if(o=r,void 0===n[r]){var i=function(n){return n.charAt(0).toUpperCase()+n.slice(1)}(r),u=function(n,r){for(var e=0;e<l.length;e++){var t=l[e]+r;if(void 0!==n[t])return t}return""}(n,i);void 0!==n[u]&&(o=u)}e||(a[r]=o)}return o}(n.style,r,o);if(i){var u,c=t?e+t:e;n.style.setProperty((u=i.replace(/[A-Z]/g,(function(n){return"-"+n.toLowerCase()})),l.some((function(n){return u.startsWith(n+"-")}))?"-".concat(u):u),c)}}function s(n){return(n.ownerDocument||n).defaultView}function b(n){return n.parent&&n.parent!=n}function d(n,r){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=e.needsRootBounds,o=e.rootMargin,i=e.threshold,u=b(r)&&(t||o)?r.document:void 0;return new r.IntersectionObserver(n,{threshold:i,root:u,rootMargin:o})}var y=new WeakMap,m=new WeakMap;function p(n){for(var r=new Set,e=n.length-1;e>=0;e--){var t=n[e],o=t.target;if(!r.has(o)){r.add(o);var i=m.get(o);if(i)for(var u=0;u<i.length;u++)(0,i[u])(t)}}}self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null},self.__AMP_LOG,new Set(["c","v","a","ad"]);var w=[0,.05,.1,.15,.2,.25,.3,.35,.4,.45,.5,.55,.6,.65,.7,.75,.8,.85,.9,.95,1];function h(n){return{"time":n.time,"rootBounds":n.rootBounds,"boundingClientRect":n.boundingClientRect,"intersectionRect":n.intersectionRect,"intersectionRatio":n.intersectionRatio}}Date.now();var j=["allowFullScreen","allowPaymentRequest","iframeStyle","onLoad","referrerPolicy","requestResize","sandbox","src","srcdoc"],O=function(){},g=function(n){!function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),e&&r(n,e)}(c,n);var t,i,u=(t=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(n){return!1}}(),function(){var n,r=e(t);if(i){var u=e(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return o(this,n)});function c(){return u.apply(this,arguments)}return c}(n.PreactBaseElement);g.Component=function(r){var e=r.allowFullScreen,t=r.allowPaymentRequest,o=r.iframeStyle,i=r.onLoad,u=void 0===i?O:i,f=r.referrerPolicy,a=r.requestResize,l=r.sandbox,b=r.src,g=r.srcdoc,R=function(n,r){if(null==n)return{};var e,t,o={},i=Object.keys(n);for(t=0;t<i.length;t++)e=i[t],r.indexOf(e)>=0||(o[e]=n[e]);return o}(r,j),S=(0,n.useRef)(),x=(0,n.useRef)(null),P=(0,n.useRef)(null),z=(0,n.useRef)(null),q=(0,n.useRef)(null),k=(0,n.useRef)(null),B=function(n){var r=S.current,e=k.current;r&&e&&function(n,r,e,t,o){!function(n,r,e,t,o){if(n.contentWindow){t.type=e,t.sentinel=function(n,r){return r?n.getAttribute("data-amp-3p-sentinel"):"amp"}(n,o);var i=t;o&&(i="amp-"+JSON.stringify(t));for(var u=0;u<r.length;u++){var c=r[u];c.win.postMessage(i,c.origin)}}}(n,[{win:n.contentWindow,origin:t}],r,e,o)}(r,"intersection",{"changes":n.map(h)},e)},E=(0,n.useCallback)((function(n){var r,e=S.current;if(e&&n.source===e.contentWindow&&"send-intersections"===(null===(r=n.data)||void 0===r?void 0:r.type)){k.current=n.origin;var t=s(e);q.current=new t.IntersectionObserver(B,{threshold:w}),q.current.observe(e)}}),[]);(0,n.useEffect)((function(){var n=S.current;if(n){var r=s(n);r.addEventListener("message",E);var e=q.current;return function(){var t;null===(t=e)||void 0===t||t.unobserve(n),e=null,r.removeEventListener("message",E)}}}),[E]);var F=(0,n.useCallback)((function(){var n,r,e=Number(null===(n=x.current)||void 0===n?void 0:n.height),t=Number(null===(r=x.current)||void 0===r?void 0:r.width);if(x.current=null,e||t){var o=S.current;e||(e=o.offsetHeight),t||(t=o.offsetWidth),a?a(e,t):!1===P.current&&function(n,r){var e=z.current;e&&(v(e,"width",r,"px"),v(e,"height",n,"px"))}(e,t)}else console.error("Ignoring resize request because width and height value is invalid")}),[a]),M=(0,n.useCallback)((function(n){var r;"embed-size"===(null===(r=n.data)||void 0===r?void 0:r.type)&&(x.current=n.data,!1===P.current&&F())}),[F]);(0,n.useEffect)((function(){var n=S.current;if(n){var r=s(n);if(r)return r.addEventListener("message",M),function(){r.removeEventListener("message",M)}}}),[M]);var A,N,W,D,L=(0,n.useCallback)((function(n){var r=n.isIntersecting;r!==P.current&&(P.current=r,!r&&x.current&&F())}),[F]),T=(A=L,W=(0,n.useRef)(null),(0,n.useCallback)((function(n){var r=W.current;r&&(r(),W.current=null),n&&(W.current=function(n,r,e){var t=s(n);if(e){var o=d((function(n){r(n[n.length-1])}),t,e);return o.observe(n),function(){o.unobserve(n)}}var i=y.get(t);i||y.set(t,i=d(p,t));var u=m.get(n);return u||(u=[],m.set(n,u)),u.push(r),i.observe(n),function(){!function(n,r){var e,t,o,i=m.get(n);if(i&&(t=r,-1!=(o=(e=i).indexOf(t))&&(e.splice(o,1),1)&&!i.length)){var u=s(n),c=y.get(u);null==c||c.unobserve(n),m.delete(n)}}(n,r)}}(n,A,N))}),[A,N])),C=(0,n.useMemo)((function(){return{src:b,srcdoc:g,sandbox:l,allowFullScreen:e,allowPaymentRequest:t,referrerPolicy:f,onLoad:u,frameBorder:"0"}}),[b,g,l,e,t,f,u]);return(0,n.createElement)(n.ContainWrapper,c({contentAs:"iframe",contentProps:C,contentRef:(D=[S,T],(0,n.useCallback)((function(n){for(var r=0;r<D.length;r++)t=n,"function"==typeof(e=D[r])?e(t):e&&(e.current=t);var e,t}),D)),contentStyle:c({"box-sizing":"border-box"},o),ref:z,size:!0,layout:!0,paint:!0},R))},g.props={"src":{attr:"src"},"srcdoc":{attr:"srcdoc"},"sandbox":{attr:"sandbox"},"allowFullScreen":{attr:"allowfullscreen"},"allowPaymentRequest":{attr:"allowpaymentrequest"},"referrerPolicy":{attr:"referrerpolicy"}},g.layoutSizeDefined=!0,g.usesShadowDom=!0,(0,n.defineBentoElement)("bento-iframe",g,undefined)}))}();
//# sourceMappingURL=bento-iframe-1.0.js.map
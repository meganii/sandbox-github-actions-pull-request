;
(()=>{var t,n=class{constructor(){this.j=new r}abort(){if(!this.j.C&&(this.j.C=!0,this.j.N)){const t={"type":"abort","bubbles":!1,"cancelable":!1,"target":this.j,"currentTarget":this.j};this.j.N(t)}}get signal(){return this.j}},r=class{constructor(){this.C=!1,this.N=null}get aborted(){return this.C}get onabort(){return this.N}set onabort(t){this.N=t}};function e(){return t||(t=Promise.resolve(void 0))}function s(t){const n=Object.getOwnPropertyDescriptor(t,"message");if(null!=n&&n.writable)return t;const{message:r,stack:e}=t,s=new Error(r);for(const n in t)s[n]=t[n];return s.stack=e,s}function i(t){let n=null,r="";for(const t of arguments)t instanceof Error&&!n?n=s(t):(r&&(r+=" "),r+=t);return n?r&&(n.message=r+": "+n.message):n=new Error(r),n}function o(t){const n=i.apply(null,arguments);return n.expected=!0,n}var{hasOwnProperty:u,toString:c}=Object.prototype;function l(t){const n=Object.create(null);return t&&Object.assign(n,t),n}function f(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(t,n){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);n&&(e=e.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),r.push.apply(r,e)}return r}var{isArray:h}=Array;function d(t,n){const r=[];let e=0;for(let s=0;s<t.length;s++){const i=t[s];n(i,s,t)?r.push(i):(e<s&&(t[e]=i),e++)}return e<t.length&&(t.length=e),r}function v(t){return"string"==typeof t}function p(t){return 1==(null==t?void 0:t.nodeType)}var b="​​​";function g(t){return p(t)?(t=t).tagName.toLowerCase()+(t.id?`#${t.id}`:""):t}function m(t){return t.indexOf(b)>=0}function w(t,n,r="Assertion failed",e){var s,i;if(n)return n;t&&-1==r.indexOf(t)&&(r+=t);let o=3;const u=r.split("%s");let c=u.shift();const l=[c];for(;u.length;){const t=arguments[o++],n=u.shift();c+=g(t)+n,l.push(t,n.trim())}const f=new Error(c);throw f.messageArray=d(l,(t=>""!==t)),null===(s=(i=self).__AMP_REPORT_ERROR)||void 0===s||s.call(i,f),f}function _(t,n,r,e,s){return h(s)?t(r,s.concat([n])):t(r,`${s||e}: %s`,n),n}var A=/(?:^[#?]?|&)([^=&]+)(?:=([^&]*))?/g;function P(t,n=""){try{return decodeURIComponent(t)}catch(t){return n}}function E(t){const n=l();if(!t)return n;let r;for(;r=A.exec(t);){const t=P(r[1],r[1]),e=r[2]?P(r[2].replace(/\+/g," "),r[2]):"";n[t]=e}return n}function y(t){const{location:n}=t||self;return E(n.originalHash||n.hash)}var R=t=>self.AMP_CONFIG?self.AMP_CONFIG[t]:null,O=("string"==typeof R("cdnProxyRegex")?new RegExp(R("cdnProxyRegex")):R("cdnProxyRegex"))||/^https:\/\/([a-zA-Z0-9_-]+\.)?cdn\.ampproject\.org$/;function M(t){if(!self.document||!self.document.head)return null;if(self.location&&O.test(self.location.origin))return null;const n=self.document.head.querySelector(`meta[name="${t}"]`);return n&&n.getAttribute("content")||null}var j=R("cdnUrl")||M("runtime-host")||"https://cdn.ampproject.org",I=R("errorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r",x=R("betaErrorReportingUrl")||"https://us-central1-amp-error-reporting.cloudfunctions.net/r-beta",T="";function S(t){var n;return T||(T=(null===(n=t.AMP_CONFIG)||void 0===n?void 0:n.v)||"012301041800000"),T}function k(t,n){const r=n||y(t);return["1","actions","amp","amp4ads","amp4email"].includes(r.development)||!!t.AMP_DEV_MODE}var V=()=>{},$=(t,n)=>n.reduce(((t,n)=>`${t}&s[]=${U(n)}`),`https://log.amp.dev/?v=012301041800000&id=${encodeURIComponent(t)}`),U=t=>encodeURIComponent(String(g(t))),L=t=>parseInt(y(t).log,10);self.__AMP_LOG=self.__AMP_LOG||{user:null,dev:null,userForEmbed:null};var C=self.__AMP_LOG,N=null;function z(t,n){if(!N)throw new Error("failed to call initLogConstructor");return new N(self,t,n)}function D(t){return C.user||(C.user=F(b)),function(t,n){return n&&n.ownerDocument.defaultView!=t}(C.user.win,t)?C.userForEmbed||(C.userForEmbed=F("​​​​")):C.user}function F(t){return z(((t,n)=>n||t>=1?4:2),t)}function B(t,n,r,e,s,i,o,u,c,l,f){return t}var J=class{constructor(t,n){this.$=t,this.U=function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){f(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))}))}return t}({root:null,rootMargin:"0px 0px 0px 0px"},n),this.L=[],this.F=null,J._upgraders.push(this.G.bind(this))}get root(){return this.F?this.F.root:this.U.root||null}get rootMargin(){return this.F?this.F.rootMargin:this.U.rootMargin}get thresholds(){return this.F?this.F.thresholds:[].concat(this.U.threshold||0)}disconnect(){this.F?this.F.disconnect():this.L.length=0}takeRecords(){return this.F?this.F.takeRecords():[]}observe(t){this.F?this.F.observe(t):-1==this.L.indexOf(t)&&this.L.push(t)}unobserve(t){if(this.F)this.F.unobserve(t);else{const n=this.L.indexOf(t);-1!=n&&this.L.splice(n,1)}}G(t){const n=new t(this.$,this.U);this.F=n;for(const t of this.L)n.observe(t);this.L.length=0}};J._upgraders=[];var Z,W,{hasOwnProperty:q}=Object.prototype,H=class{constructor(t){this.$=t,this.L=[],this.F=null,H._upgraders.push(this.G.bind(this))}disconnect(){this.F?this.F.disconnect():this.L.length=0}observe(t){this.F?this.F.observe(t):-1==this.L.indexOf(t)&&this.L.push(t)}unobserve(t){if(this.F)this.F.unobserve(t);else{const n=this.L.indexOf(t);-1!=n&&this.L.splice(n,1)}}G(t){const n=new t(this.$);this.F=n;for(const t of this.L)n.observe(t);this.L.length=0}};function X(t,n){return K(t=function(t){return t.__AMP_TOP||(t.__AMP_TOP=t)}(t),n)}function G(t){return t.nodeType?function(t){return X(t,"ampdoc")}((n=t,(n.ownerDocument||n).defaultView)).getAmpDoc(t):t;var n}function K(t,n){B(function(t,n){const r=t.__AMP_SERVICES&&t.__AMP_SERVICES[n];return!(!r||!r.ctor)}(t,n));const r=function(t){let n=t.__AMP_SERVICES;return n||(n=t.__AMP_SERVICES={}),n}(t)[n];return r.obj||(B(r.ctor),B(r.context),r.obj=new r.ctor(r.context),B(r.obj),r.context=null,r.resolve&&r.resolve(r.obj)),r.obj}H._upgraders=[],self.document&&(function(t){return!t.IntersectionObserver||!t.IntersectionObserverEntry||!!t.IntersectionObserver._stub||!function(t){try{return new t.IntersectionObserver((()=>{}),{root:t.document}),!0}catch(t){return!1}}(t)||function(t){return/apple/i.test(t.navigator.vendor)}(t)}(Z=self)&&function(t){if(!t.IntersectionObserver)return t.IntersectionObserver=J,void(t.IntersectionObserver._stub=J);const n=t.IntersectionObserver;t.IntersectionObserver=function(t,n){return function(r,e){var s;return 9===(null==e||null===(s=e.root)||void 0===s?void 0:s.nodeType)?new n(r,e):new t(r,e)}}(t.IntersectionObserver,J),t.IntersectionObserver._stub=J,t.IntersectionObserver._native=n}(Z),function(t){t.IntersectionObserverEntry&&!("isIntersecting"in t.IntersectionObserverEntry.prototype)&&Object.defineProperty(t.IntersectionObserverEntry.prototype,"isIntersecting",{enumerable:!0,configurable:!0,get(){return this.intersectionRatio>0}})}(Z),function(t){(function(t){return!t.ResizeObserver||!!t.ResizeObserver._stub})(t)&&function(t){t.ResizeObserver||(t.ResizeObserver=H,t.ResizeObserver._stub=H)}(t)}(self),function(t){t.AbortController||(Object.defineProperty(t,"AbortController",{configurable:!0,enumerable:!1,writable:!0,value:n}),Object.defineProperty(t,"AbortSignal",{configurable:!0,enumerable:!1,writable:!0,value:r}))}(self));var Q,Y;function tt(t,n){return Q||(Q=self.document.createElement("a")),function(t,n,r){return t.href="",new URL(n,t.href)}(Q,t)}function nt(t){if(!t)return null;const n=t.split("-");let r="",e="";for(let t=0;t<n.length;t++)t>0&&(r+=", ",e+="-"),e+=0==t?n[t].toLowerCase():n[t].toUpperCase(),e=e.replace(/[^a-zA-Z\-]/g,""),r+=`[lang="${e}"]`;return r}new Set(["c","v","a","ad"]);var rt=["Webkit","webkit","Moz","moz","ms","O","o"];function et(t,n,r,e,s){const i=function(t,n,r){if(n.startsWith("--"))return n;Y||(Y=l());let e=Y[n];if(!e||r){if(e=n,void 0===t[n]){const r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n),s=function(t,n){for(let r=0;r<rt.length;r++){const e=rt[r]+n;if(void 0!==t[e])return e}return""}(t,r);void 0!==t[s]&&(e=s)}r||(Y[n]=e)}return e}(t.style,n,s);if(!i)return;const o=e?r+e:r;t.style.setProperty(function(t){const n=t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()));return rt.some((t=>n.startsWith(t+"-")))?`-${n}`:n}(i),o)}var st=!1,it=self.__AMP_ERRORS||[];self.__AMP_ERRORS=it;var ot,ut,ct=function(t){return(ct=function(t){const n=function(t){let n=0;return()=>{let t=Math.pow(1.5,n++);return t+=function(t,n){let r=t*(n=n||.3)*Math.random();return Math.random()>.5&&(r*=-1),r}(t),1e3*t}}();return t=>setTimeout(t,n())}())(t)};function lt(t,n,r,s,i){var o;!this||!this.document||i&&i.expected||(B((o=this.document).defaultView),st||(st=!0,function(t){!function(t,n){for(const r in n)et(t,r,n[r])}(t.body,{opacity:1,visibility:"visible","animation":"none"})}(o)));let u=!1;try{u=function(t){if(!t.document)return!1;const n=t.document.querySelectorAll("script[src]");for(let t=0;t<n.length;t++)if(r=n[t].src.toLowerCase(),!O.test((t=>"string"==typeof t?tt(t):t)(r).origin))return!0;var r;return!1}(self)}catch(t){}if(u&&Math.random()>.01)return;const c=function(t,n,r,e,s,i){t=function(t,n){return n&&(t=n.message?n.message:String(n)),t||(t="Unknown error"),t}(t,s);let o=!(!s||!s.expected);if(/_reported_/.test(t))return;if("CANCELLED"==t)return;const u=!(self&&self.window),c=Math.random();if((function(t){return-1!=t.indexOf("Failed to load:")}(t)||"Script error."==t||u)&&(o=!0,c>.001))return;const l=m(t);if(l&&c>.1)return;const f=Object.create(null);f.v=function(t){const n=t||self;return n.__AMP_MODE?n.__AMP_MODE:n.__AMP_MODE=function(t){return{localDev:!1,development:k(t,y(t)),esm:!0,test:!1,rtvVersion:S(t),ssrReady:!1}}(n)}().rtvVersion,f.noAmp=i?"1":"0",f.m=t.replace(b,""),f.a=l?"1":"0",f.ex=o?"1":"0",f.dw=u?"1":"0";let a="1p";var h,d;if(a="esm",f.esm="1",f.rt="esm",f.ca=null!==(d=self.AMP_CONFIG)&&void 0!==d&&d.canary?"1":"0",f.bt=(null===(h=self.AMP_CONFIG)||void 0===h?void 0:h.type)||"unknown",self.location.ancestorOrigins&&self.location.ancestorOrigins[0]&&(f.or=self.location.ancestorOrigins[0]),self.viewerState&&(f.vs=self.viewerState),self.parent&&self.parent!=self&&(f.iem="1"),self.AMP&&self.AMP.viewer){const t=self.AMP.viewer.getResolvedViewerUrl(),n=self.AMP.viewer.maybeGetMessagingOrigin();t&&(f.rvu=t),n&&(f.mso=n)}const v=[],p=self.__AMP__EXPERIMENT_TOGGLES||null;for(const t in p){const n=p[t];v.push(`${t}=${n?"1":"0"}`)}var g,w,_;return f.exps=v.join(","),s?(f.el=(null===(g=s.associatedElement)||void 0===g?void 0:g.tagName)||"u",s.args&&(f.args=JSON.stringify(s.args)),l||s.ignoreStack||!s.stack||(f.s=s.stack),s.message&&(s.message+=" _reported_")):(f.f=n||"",f.l=r||"",f.c=e||""),f.r=self.document?self.document.referrer:"",f.ae=it.join(","),f.fr=self.location.originalHash||self.location.hash,"production"===f.bt&&(f.pt="1"),_=t,(w=it).length>=25&&w.splice(0,w.length-25+1),w.push(_),f}(t,n,r,s,i,u);c&&ct((()=>{try{return function(t,n){return n.pt&&Math.random()<.9?e():function(t,n){const r=(t=>X(t,"ampdoc"))(t);if(!r.isSingleDoc())return Promise.resolve(!1);const e=r.getSingleDoc();if(!e.getRootNode().documentElement.hasAttribute("report-errors-to-viewer"))return Promise.resolve(!1);const s=(i="viewer",K(function(t){const n=G(t);return n.isSingleDoc()?n.win:n}(G(e)),i));var i;return s.hasCapability("errorReporter")?s.isTrustedViewer().then((t=>{return!!t&&(s.sendMessage("error",{"m":(r=n).m,"a":r.a,"s":r.s,"el":r.el,"ex":r.ex,"v":r.v,"pt":r.pt}),!0);var r})):Promise.resolve(!1)}(t,n).then((t=>{if(!t){const t=new XMLHttpRequest;t.open("POST",Math.random()<.1?x:I,!0),t.send(JSON.stringify(n))}}))}(this,c).catch((()=>{}))}catch(t){}}))}window,st=!0,N=class{constructor(t,n,r=""){this.win=t,this.J=n,this.W=this.X(),this.B=r,this.Z=null,this.K=function(t){let n=!1,r=null,e=t;return(...t)=>(n||(r=e.apply(self,t),n=!0,e=null),r)}((()=>{t.fetch(`${j}/rtv/012301041800000/log-messages.simple.json`).then((t=>t.json()),V).then((t=>{t&&(this.Z=t)}))})),this.Y=this.assert.bind(this)}X(){var t;const{win:n}=this;return null!==(t=n.console)&&void 0!==t&&t.log&&0!=L(n)?this.tt():0}tt(t){return this.J(L(t),!1)}et(t,n,r){var e;if(n>this.W)return!1;const s=this.win.console,i=null!==(e={1:s.error,3:s.info,2:s.warn}[n])&&void 0!==e?e:s.log,o=this.nt(r),u=`[${t}]`;return v(o[0])?o[0]=u+" "+o[0]:o.unshift(u),i.apply(s,o),!0}fine(t,...n){this.et(t,4,n)}info(t,...n){this.et(t,3,n)}warn(t,...n){this.et(t,2,n)}error(t,...n){if(!this.et(t,1,n)){var r,e;const s=this.createError.apply(this,n);s.name=t||s.name,null===(r=(e=self).__AMP_REPORT_ERROR)||void 0===r||r.call(e,s)}}expectedError(t,...n){var r,e;this.et(t,1,n)||null===(r=(e=self).__AMP_REPORT_ERROR)||void 0===r||r.call(e,this.createExpectedError.apply(this,n))}createError(t){return this.ot(i.apply(null,arguments))}createExpectedError(t){return this.ot(o.apply(null,arguments))}ot(t){return t=s(t),this.B?t.message?-1==t.message.indexOf(this.B)&&(t.message+=this.B):t.message=this.B:m(t.message)&&(t.message=t.message.replace(b,"")),t}nt(t){return h(t[0])?this.rt(t[0]):t}rt(t){var n;const r=t.shift();return null!==(n=this.Z)&&void 0!==n&&n[r]?[this.Z[r]].concat(t):[`More info at ${$(r,t)}`]}assert(t,n,r){return h(n)?this.assert.apply(this,[t].concat(this.rt(n))):w.apply(null,[this.B].concat(Array.prototype.slice.call(arguments)))}assertElement(t,n){return function(t,n,r){return _(t,n,p(n),"Element expected",r)}(this.Y,t,n)}assertString(t,n){return function(t,n,r){return _(t,n,v(n),"String expected",r)}(this.Y,t,n)}assertNumber(t,n){return function(t,n,r){return _(t,n,"number"==typeof n,"Number expected",r)}(this.Y,t,n)}assertArray(t,n){return function(t,n,r){return _(t,n,h(n),"Array expected",r)}(this.Y,t,n)}assertBoolean(t,n){return function(t,n,r){return _(t,n,!!n===n,"Boolean expected",r)}(this.Y,t,n)}},C.dev||(C.dev=z((t=>t>=3?4:t>=2?3:0))),D(),ot=function(t,n){try{let r;if(t)if(void 0!==t.message)t=s(t),r=!0;else{const n=t;(t=new Error(function(t){try{return JSON.stringify(t)}catch(n){return String(t)}}(n))).origError=n}else t=new Error("Unknown error");if(t.reported)return t;if(t.reported=!0,t.messageArray){const n=function(t,n){for(let n=0;n<t.length;n++)if(null==(r=t[n])?void 0:r.tagName)return n;var r;return-1}(t.messageArray);n>-1&&(t.associatedElement=t.messageArray[n])}const e=n||t.associatedElement;if(e&&e.classList&&e.classList.add("i-amphtml-error"),self.console&&(m(t.message)||!t.expected)){const n=console.error||console.log;t.messageArray?n.apply(console,t.messageArray):e?n.call(console,t.message,e):n.call(console,t.message)}e&&e.dispatchCustomEventForTesting&&e.dispatchCustomEventForTesting("amp:error",t.message),lt.call(self,void 0,void 0,void 0,void 0,t)}catch(t){setTimeout((function(){throw t}))}return t},self.__AMP_REPORT_ERROR=ot,ut=()=>{new class{constructor(t){this.win=t}start(){this.cr(),this.lr()}lr(){const t=E(this.win.location.search);if(this.win.opener&&this.win.opener!=this.win)return this.ar().then(this.hr.bind(this),this.dr.bind(this));if(t.url){let i=t.url;return/^https?\%/i.test(i)&&(i=P(i)),this.win.location.replace((n=/^https?\:/i.test(s=i),'URL must start with "http://" or "https://". Invalid value: %s',r=s,D().assert(n,'URL must start with "http://" or "https://". Invalid value: %s',r,undefined,undefined,undefined,undefined,undefined,undefined,undefined,undefined),tt(s).href)),e()}var n,r,s;const i=new Error("No opener or return location available");return this.dr(i),Promise.reject(i)}cr(){const t=this.win.document,n=t.createElement("style");n.textContent=this.vr(),t.head.appendChild(n)}vr(){const t=E(this.win.location.search),{document:n,navigator:r}=this.win,e=[t.hl,r.language,r.userLanguage,"en-US"];for(let t=0;t<e.length;t++){const r=e[t];if(!r)continue;const s=nt(r);if(s&&n.querySelector(s))return s+" {display: block}"}return""}ar(){const t=this.win.location.hash;let n=()=>{};return new Promise(((r,e)=>{const{opener:s}=this.win;var i;s?(i=this.win,n=function(t,n,e,s){let i=t,o=t=>{t.data&&"amp"==t.data.sentinel&&"result-ack"==t.data.type&&r()},u=t=>{try{return o(t)}catch(t){var n,r;throw null===(n=(r=self).__AMP_REPORT_ERROR)||void 0===n||n.call(r,t),t}};const c=function(){if(void 0!==W)return W;W=!1;try{const t={get capture(){return W=!0,!1}};self.addEventListener("test-options",null,t),self.removeEventListener("test-options",null,t)}catch(t){}return W}();return i.addEventListener(n,u,!!c&&s),()=>{null==i||i.removeEventListener(n,u,!!c&&s),o=null,i=null,u=null}}(i,"message",0,void 0),s.postMessage({sentinel:"amp",type:"result",result:t},"*"),this.win.setTimeout((()=>{e(new Error("Timed out"))}),5e3)):e(new Error("Opener not available"))})).then((()=>{n()}),(t=>{throw n(),t}))}hr(){try{this.win.close()}catch(t){}const t=Date.now()+6e4,n=this.win.setInterval((()=>{if(this.win.closed||Date.now()>t)clearInterval(n);else try{this.win.close()}catch(t){}}),500);this.win.setTimeout((()=>{this.dr(new Error("Failed to close the dialog"))}),3e3)}dr(t){this.win.console&&this.win.console.log&&(this.win.console.error||this.win.console.log).call(this.win.console,"Postback failed: ",t);const n=this.win.document;n.documentElement.classList.toggle("amp-error",!0),n.documentElement.setAttribute("data-error","postback"),n.getElementById("closeButton").onclick=()=>{try{this.win.close()}catch(t){}this.win.setTimeout((()=>{this.win.closed||n.documentElement.setAttribute("data-error","close")}),1e3)}}}(window).start()},function(t,n,r){let e=n(t);if(e)r(t);else{const s=()=>{n(t)&&(e||(e=!0,r(t)),t.removeEventListener("readystatechange",s))};t.addEventListener("readystatechange",s)}}(document,(function(t){return"loading"!=t.readyState&&"uninitialized"!=t.readyState}),ut)})();
/*! https://mths.be/cssescape v1.5.1 by @mathias | MIT license */
//# sourceMappingURL=amp-login-done-0.1.mjs.map
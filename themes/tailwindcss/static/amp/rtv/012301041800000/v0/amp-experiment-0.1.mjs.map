{"version":3,"file":"amp-experiment-0.1.mjs","mappings":"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","names":["hasOwnProperty","hasOwn_","toString","toString_","Object","prototype","obj","key","call","self","__AMP_LOG","user","dev","userForEmbed","resolved","logs","suffix","levelFunc","opt_suffix","Error","callLogConstructor","shouldBeTrueish","opt_message","opt_1","opt_2","opt_3","opt_4","opt_5","opt_6","opt_7","opt_8","opt_9","getUserLogger","win","assert","constructor","this","promise","Promise","res","rej","resolve","reject","id","getServiceInternal","__AMP_TOP","getTopWindow","elementOrAmpDoc","holder","cached","getServicePromiseOrNullInternal","services","getServices","deferred","Deferred","catch","context","ctor","emptyServiceHolderWithPromise","getServicePromiseInternal","getAmpdocServiceHolder","nodeOrDoc","nodeType","node","ownerDocument","defaultView","getService","getAmpDoc","ampdoc","getAmpdoc","isSingleDoc","devAssert","service","__AMP_SERVICES","isServiceRegistered","s","nameValidator","experimentName","config","assertName","variants","value","userAssert","keys","length","totalPercentage","variantName","hasOwn","percentage","toFixed","validateConfig","override","getParam","sticky","cidScope","hasConsentPromise","element","getHeadNode","extension","opt_element","getServicePromiseOrNullForDoc","whenExtensionsKnown","then","version","getExtensionVersion","waitForExtension","ext","getServicePromiseForDoc","getElementServiceIfAvailableForDoc","assertService","getElementServiceForDoc","manager","getNotification","userNotification","isDismissed","hasConsent","group","opt_cidScope","Math","random","cidPromise","cidService","get","scope","createCookieIfNotPresent","undefined","window","all","results","uniform","hash","getBucketTicket","ticket","upperBound","variantNames","sort","i","name","test","AmpExperiment","AMP","BaseElement","static","isLayoutSupported","layout","isBuildRenderBlocking","buildCallback","variantsService","getConfig_","create","map","allocateVariant","experimentVariants","addToBody_","bind","init","e","children","tagName","getAttribute","toUpperCase","json","textContent","JSON","parse","experiments","waitForBodyOpen","body","setAttribute","registerServiceForDoc","variantsDeferred_","getVariants","whenReady","registerElement"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["src/core/types/object/index.js","src/utils/log.js","src/core/data-structures/promise.js","src/service-helpers.js","src/core/window/index.js","src/service/index.js","extensions/amp-experiment/0.1/variant.js","src/element-service.js","extensions/amp-experiment/0.1/amp-experiment.js","src/core/dom/layout/index.js","src/core/types/object/json.js"]}

{"version":3,"file":"video-iframe-integration-v0.mjs","mappings":"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","names":["obj","key","value","Object","defineProperty","enumerable","configurable","writable","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","optsSupported","hasOwnProperty","hasOwn_","toString","toString_","prototype","fn","evaluated","retValue","callback","args","self","json","opt_onFailed","JSON","parse","parseJson","e","element","eventType","listener","opt_evtListenerOpts","localElement","localListener","wrapped","event","__AMP_REPORT_ERROR","undefined","options","capture","addEventListener","removeEventListener","err","detectEvtListenerOptsSupport","internalListenImplementation","__AMP_LOG","user","dev","userForEmbed","__AMP__","shouldBeTrueish","Error","join","validMethods","global","userAssert","console","error","bind","integration","constructor","win","this","isAmpVideoIntegration_","callCounter_","callbacks_","win_","methods_","listenToOnce_","once","onMessage","listen","message","tryParseJson","data","listenTo","onMessage_","muted_","usedListenToHelper_","getMetadataOnce_","name","getMetadata","method","indexOf","wrappedCallback","safePlayOrPause_","id","isFinite","handleResponse_","maybeExecute_","type","opt_obj","opt_initializer","types","jwplayer","listenToJwPlayer_","getJwplayer_","videojs","listenToVideoJs_","toLowerCase","opt_player","on","player","forEach","concat","arguments","postEvent","redispatchAs","play","ready","pause","onVolumeChange_","volume","setMute","setControls","setFullscreen","initializer","getVideoJs","canplay","readyState","muted","controls","requestFullscreen","exitFullscreen","newVolume","Promise","resolve","postToParent_","postAnalyticsEvent","opt_vars","analytics","vars","opt_callback","completeData","target","i","length","source","ownKeys","getOwnPropertyDescriptors","defineProperties","_objectSpread2","parent","postMessage","getIntersection","getFromHostForTesting_","getConsentData","callbacks","AmpVideoIframe","adopt"],"sourceRoot":"https://raw.githubusercontent.com/ampproject/amphtml/2301041800000/","sources":["node_modules/@babel/runtime/helpers/esm/defineProperty.js","node_modules/@babel/runtime/helpers/esm/objectSpread2.js","src/core/types/object/index.js","src/core/dom/event-helper-listen.js","src/core/types/function/index.js","src/core/types/object/json.js","src/utils/event-helper.js","src/utils/log.js","src/video-iframe-integration.js","src/core/types/index.js","src/core/data-structures/promise.js"]}
